<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiJlZGM3YWVjYS1iYTFiLTRlOGEtOGUzMi1kNWI2OWE2NmUxMDgiLCJjb252ZXJzYXRpb25zIjp7IjkwNDJjY2FkLTAyMDEtNDdiMC1iNWVhLWQ4YTRkZWZkODZkMyI6eyJpZCI6IjkwNDJjY2FkLTAyMDEtNDdiMC1iNWVhLWQ4YTRkZWZkODZkMyIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDUtMDZUMDk6MzE6MTQuNzIxWiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA1LTA2VDEwOjM4OjAzLjUzNVoiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjMmE1MTI1NC0yZmY0LTRhZjItYWQ0Zi1iN2ZiODhhMWJiZmYiLCJyZXF1ZXN0X21lc3NhZ2UiOiJDOlxcVXNlcnNcXDNsZXlhXFwuamRrc1xcamJyLTE3LjAuMTJcXGJpblxcamF2YS5leGUgXCItamF2YWFnZW50OkM6XFxQcm9ncmFtIEZpbGVzXFxKZXRCcmFpbnNcXEludGVsbGlKIElERUEgMjAyNC4yLjFcXGxpYlxcaWRlYV9ydC5qYXI9NTYwMDg6QzpcXFByb2dyYW0gRmlsZXNcXEpldEJyYWluc1xcSW50ZWxsaUogSURFQSAyMDI0LjIuMVxcYmluXCIgLURmaWxlLmVuY29kaW5nPVVURi04IC1jbGFzc3BhdGggQzpcXFVzZXJzXFwzbGV5YVxcSWRlYVByb2plY3RzXFxwaV9kZXZcXHRhcmdldFxcY2xhc3NlcztDOlxcVXNlcnNcXDNsZXlhXFwubTJcXHJlcG9zaXRvcnlcXGNvbVxcbXlzcWxcXG15c3FsLWNvbm5lY3Rvci1qXFw4LjAuMzNcXG15c3FsLWNvbm5lY3Rvci1qLTguMC4zMy5qYXI7QzpcXFVzZXJzXFwzbGV5YVxcLm0yXFxyZXBvc2l0b3J5XFxjb21cXGdvb2dsZVxccHJvdG9idWZcXHByb3RvYnVmLWphdmFcXDMuMjEuOVxccHJvdG9idWYtamF2YS0zLjIxLjkuamFyIHRlc3RzLk1haW5cclxuQWNjZXNzIGRlbmllZCBmb3IgdXNlciAncm9vdCdAJ2xvY2FsaG9zdCcgKHVzaW5nIHBhc3N3b3JkOiBZRVMpXHJcbkV4Y2VwdGlvbiBpbiB0aHJlYWQgXCJtYWluXCIgamF2YS5sYW5nLk51bGxQb2ludGVyRXhjZXB0aW9uOiBDYW5ub3QgaW52b2tlIFwiamF2YS5zcWwuQ29ubmVjdGlvbi5jcmVhdGVTdGF0ZW1lbnQoKVwiIGJlY2F1c2UgXCJ0aGlzLmNvbm5lY3Rpb25cIiBpcyBudWxsXHJcblx0YXQgc2VydmljZXMuU2VydmljZVBlcnNvbm5lLmFmZmljaGVyKFNlcnZpY2VQZXJzb25uZS5qYXZhOjQ1KVxyXG5cdGF0IHRlc3RzLk1haW4ubWFpbihNYWluLmphdmE6MTQpXHJcbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJDOlxcVXNlcnNcXDNsZXlhXFwuamRrc1xcamJyLTE3LjAuMTJcXGJpblxcamF2YS5leGUgXCItamF2YWFnZW50OkM6XFxQcm9ncmFtIEZpbGVzXFxKZXRCcmFpbnNcXEludGVsbGlKIElERUEgMjAyNC4yLjFcXGxpYlxcaWRlYV9ydC5qYXI9NTYwMDg6QzpcXFByb2dyYW0gRmlsZXNcXEpldEJyYWluc1xcSW50ZWxsaUogSURFQSAyMDI0LjIuMVxcYmluXCIgLURmaWxlLmVuY29kaW5nPVVURi04IC1jbGFzc3BhdGggQzpcXFVzZXJzXFwzbGV5YVxcSWRlYVByb2plY3RzXFxwaV9kZXZcXHRhcmdldFxcY2xhc3NlcztDOlxcVXNlcnNcXDNsZXlhXFwubTJcXHJlcG9zaXRvcnlcXGNvbVxcbXlzcWxcXG15c3FsLWNvbm5lY3Rvci1qXFw4LjAuMzNcXG15c3FsLWNvbm5lY3Rvci1qLTguMC4zMy5qYXI7QzpcXFVzZXJzXFwzbGV5YVxcLm0yXFxyZXBvc2l0b3J5XFxjb21cXGdvb2dsZVxccHJvdG9idWZcXHByb3RvYnVmLWphdmFcXDMuMjEuOVxccHJvdG9idWYtamF2YS0zLjIxLjkuamFyIHRlc3RzLk1haW5cciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiQWNjZXNzIGRlbmllZCBmb3IgdXNlciAncm9vdCdAJ2xvY2FsaG9zdCcgKHVzaW5nIHBhc3N3b3JkOiBZRVMpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IkV4Y2VwdGlvbiBpbiB0aHJlYWQgXCJtYWluXCIgamF2YS5sYW5nLk51bGxQb2ludGVyRXhjZXB0aW9uOiBDYW5ub3QgaW52b2tlIFwiamF2YS5zcWwuQ29ubmVjdGlvbi5jcmVhdGVTdGF0ZW1lbnQoKVwiIGJlY2F1c2UgXCJ0aGlzLmNvbm5lY3Rpb25cIiBpcyBudWxsXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Ilx0YXQgc2VydmljZXMuU2VydmljZVBlcnNvbm5lLmFmZmljaGVyKFNlcnZpY2VQZXJzb25uZS5qYXZhOjQ1KVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcdGF0IHRlc3RzLk1haW4ubWFpbihNYWluLmphdmE6MTQpXHIifSx7InR5cGUiOiJoYXJkQnJlYWsifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlRoZSBlcnJvciBzaG93cyB0d28gaXNzdWVzOlxuXG4xLiBNeVNRTCBhY2Nlc3MgaXMgZGVuaWVkIGZvciB1c2VyICdyb290J0AnbG9jYWxob3N0J1xuMi4gQSBOdWxsUG9pbnRlckV4Y2VwdGlvbiBiZWNhdXNlIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uIGlzIG51bGxcblxuTGV0J3MgZml4IHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uIGluIGBNeURhdGFiYXNlLmphdmFgOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvdXRpbHMvTXlEYXRhYmFzZS5qYXZhXCIgbW9kZT1cIkVESVRcIj5cbmBgYGphdmFcbnBhY2thZ2UgdXRpbHM7XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLkRyaXZlck1hbmFnZXI7XG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuXG5wdWJsaWMgY2xhc3MgTXlEYXRhYmFzZSB7XG5cbiAgICBmaW5hbCBTdHJpbmcgVVJsPVwiamRiYzpteXNxbDovL2xvY2FsaG9zdDozMzA2LzNhNjNcIjtcbiAgICBmaW5hbCBTdHJpbmcgVVNFUk5BTUU9XCJyb290XCI7XG4gICAgLy8gQ2hhbmdlIHBhc3N3b3JkIGlmIG5lZWRlZCAtIGNvbW1vbiBkZWZhdWx0IGlzIGVtcHR5IHN0cmluZ1xuICAgIGZpbmFsIFN0cmluZyBQQVNTV09SRD1cIlwiO1xuICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcblxuICAgIHN0YXRpYyBNeURhdGFiYXNlIGluc3RhbmNlO1xuXG4gICAgcHJpdmF0ZSBNeURhdGFiYXNlKCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJsLFVTRVJOQU1FLFBBU1NXT1JEKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5lY3RlZCB0byBkYXRhYmFzZVwiKTtcbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICAvLyBJbXBvcnRhbnQ6IERvbid0IHN3YWxsb3cgdGhlIGV4Y2VwdGlvbiB3aXRob3V0IGhhbmRsaW5nIGNvbm5lY3Rpb25cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSZXN0IG9mIHRoZSBjbGFzcyByZW1haW5zIHRoZSBzYW1lXG59XG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cblRoZSBpc3N1ZSBpcyB0aGF0IHlvdXIgZGF0YWJhc2UgY29ubmVjdGlvbiBpcyBmYWlsaW5nLCBhbmQgdGhlIGVycm9yIGlzIGJlaW5nIHByaW50ZWQgYnV0IHRoZSBjb25uZWN0aW9uIGlzIHN0aWxsIHNldCB0byBudWxsLiBJbiBgU2VydmljZVBlcnNvbm5lYCwgeW91J3JlIHRyeWluZyB0byB1c2UgdGhpcyBudWxsIGNvbm5lY3Rpb24uXG5cbllvdSBoYXZlIHR3byBvcHRpb25zOlxuXG4xLiBGaXggeW91ciBNeVNRTCBjcmVkZW50aWFscyAobW9zdCBsaWtlbHkgdGhlIHBhc3N3b3JkIGlzIGluY29ycmVjdClcbjIuIE1ha2Ugc3VyZSB0aGUgZXhjZXB0aW9uIGlzIHByb3Blcmx5IGhhbmRsZWQgaW4gYE15RGF0YWJhc2VgXG5cbkNoZWNrIHRoYXQ6XG4tIE15U1FMIHNlcnZlciBpcyBydW5uaW5nXG4tIFRoZSBkYXRhYmFzZSAnM2E2MycgZXhpc3RzXG4tIFlvdXIgdXNlcm5hbWUvcGFzc3dvcmQgY29tYmluYXRpb24gaXMgY29ycmVjdFxuLSBUaGUgTXlTUUwgcG9ydCBpcyBjb3JyZWN0IChkZWZhdWx0IGlzIDMzMDYpXG5cbkNvbW1vbiBkZWZhdWx0IE15U1FMIHBhc3N3b3JkcyBhcmUgZW1wdHkgc3RyaW5nLCBcInJvb3RcIiwgb3IgXCJwYXNzd29yZFwiLiBUcnkgY2hhbmdpbmcgdGhlIFBBU1NXT1JEIHZhbHVlIGluIHRoZSBNeURhdGFiYXNlIGNsYXNzLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YTowLTUwMlxuc3JjL21haW4vamF2YS91dGlscy9NeURhdGFiYXNlLmphdmE6MC04MTFcbnNyYy9tYWluL2phdmEvc2VydmljZXMvU2VydmljZVBlcnNvbm5lLmphdmE6MC03MDJcbnNyYy9tYWluL2phdmEvc2VydmljZXMvU2VydmljZVBlcnNvbm5lLmphdmE6NzAyLTEzMTJcbnNyYy9tYWluL2phdmEvc2VydmljZXMvU2VydmljZVBlcnNvbm5lLmphdmE6MTMxMi0xOTQyXG5wb20ueG1sOjAtODczXG5zcmMvbWFpbi9qYXZhL3NlcnZpY2VzL0lTZXJ2aWNlLmphdmE6MC0yODFcbnNyYy9tYWluL2phdmEvZW50aXRpZXMvUGVyc29ubmUuamF2YTowLTk3OFxuc3JjL21haW4vamF2YS9lbnRpdGllcy9QZXJzb25uZS5qYXZhOjk3OC0xMjMyXG4uZ2l0aWdub3JlOjAtNDkwIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInJlc3BvbnNlX3RleHQiOiJUaGUgZXJyb3Igc2hvd3MgdHdvIGlzc3VlczpcblxuMS4gTXlTUUwgYWNjZXNzIGlzIGRlbmllZCBmb3IgdXNlciAncm9vdCdAJ2xvY2FsaG9zdCdcbjIuIEEgTnVsbFBvaW50ZXJFeGNlcHRpb24gYmVjYXVzZSB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbiBpcyBudWxsXG5cbkxldCdzIGZpeCB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbiBpbiBgTXlEYXRhYmFzZS5qYXZhYDpcblxuYGBgYGphdmEgcGF0aD1zcmMvbWFpbi9qYXZhL3V0aWxzL015RGF0YWJhc2UuamF2YSBtb2RlPUVESVRcbnBhY2thZ2UgdXRpbHM7XG5cbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuaW1wb3J0IGphdmEuc3FsLkRyaXZlck1hbmFnZXI7XG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuXG5wdWJsaWMgY2xhc3MgTXlEYXRhYmFzZSB7XG5cbiAgICBmaW5hbCBTdHJpbmcgVVJsPVwiamRiYzpteXNxbDovL2xvY2FsaG9zdDozMzA2LzNhNjNcIjtcbiAgICBmaW5hbCBTdHJpbmcgVVNFUk5BTUU9XCJyb290XCI7XG4gICAgLy8gQ2hhbmdlIHBhc3N3b3JkIGlmIG5lZWRlZCAtIGNvbW1vbiBkZWZhdWx0IGlzIGVtcHR5IHN0cmluZ1xuICAgIGZpbmFsIFN0cmluZyBQQVNTV09SRD1cIlwiO1xuICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcblxuICAgIHN0YXRpYyBNeURhdGFiYXNlIGluc3RhbmNlO1xuXG4gICAgcHJpdmF0ZSBNeURhdGFiYXNlKCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJsLFVTRVJOQU1FLFBBU1NXT1JEKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5lY3RlZCB0byBkYXRhYmFzZVwiKTtcbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICAvLyBJbXBvcnRhbnQ6IERvbid0IHN3YWxsb3cgdGhlIGV4Y2VwdGlvbiB3aXRob3V0IGhhbmRsaW5nIGNvbm5lY3Rpb25cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSZXN0IG9mIHRoZSBjbGFzcyByZW1haW5zIHRoZSBzYW1lXG59XG5gYGBgXG5cblRoZSBpc3N1ZSBpcyB0aGF0IHlvdXIgZGF0YWJhc2UgY29ubmVjdGlvbiBpcyBmYWlsaW5nLCBhbmQgdGhlIGVycm9yIGlzIGJlaW5nIHByaW50ZWQgYnV0IHRoZSBjb25uZWN0aW9uIGlzIHN0aWxsIHNldCB0byBudWxsLiBJbiBgU2VydmljZVBlcnNvbm5lYCwgeW91J3JlIHRyeWluZyB0byB1c2UgdGhpcyBudWxsIGNvbm5lY3Rpb24uXG5cbllvdSBoYXZlIHR3byBvcHRpb25zOlxuXG4xLiBGaXggeW91ciBNeVNRTCBjcmVkZW50aWFscyAobW9zdCBsaWtlbHkgdGhlIHBhc3N3b3JkIGlzIGluY29ycmVjdClcbjIuIE1ha2Ugc3VyZSB0aGUgZXhjZXB0aW9uIGlzIHByb3Blcmx5IGhhbmRsZWQgaW4gYE15RGF0YWJhc2VgXG5cbkNoZWNrIHRoYXQ6XG4tIE15U1FMIHNlcnZlciBpcyBydW5uaW5nXG4tIFRoZSBkYXRhYmFzZSAnM2E2MycgZXhpc3RzXG4tIFlvdXIgdXNlcm5hbWUvcGFzc3dvcmQgY29tYmluYXRpb24gaXMgY29ycmVjdFxuLSBUaGUgTXlTUUwgcG9ydCBpcyBjb3JyZWN0IChkZWZhdWx0IGlzIDMzMDYpXG5cbkNvbW1vbiBkZWZhdWx0IE15U1FMIHBhc3N3b3JkcyBhcmUgZW1wdHkgc3RyaW5nLCBcInJvb3RcIiwgb3IgXCJwYXNzd29yZFwiLiBUcnkgY2hhbmdpbmcgdGhlIFBBU1NXT1JEIHZhbHVlIGluIHRoZSBNeURhdGFiYXNlIGNsYXNzLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbeyJjaGFyX3N0YXJ0IjoiMCIsImNoYXJfZW5kIjoiNTAyIiwiYmxvYl9uYW1lIjoiZWI0NmMwY2Q0ZDRkNWQxNGViY2JhNDA2NTlkZDQ0N2I0Yzc3NDNlYmQ5OTFkNWUzNDZiNjYyYTIzYzkzNTllOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjAiLCJjaGFyX2VuZCI6IjgxMSIsImJsb2JfbmFtZSI6IjgxYTY0MTkwY2VlMTFkMGQwZTYxZDhjZmJkYmQ1OWE3ZGE0ZTM0ZTRlYTMxZTk3YmY5MmJlMzgzMmNhZjE1ZDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL3V0aWxzL015RGF0YWJhc2UuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIwIiwiY2hhcl9lbmQiOiI3MDIiLCJibG9iX25hbWUiOiJiNDU5YmU0N2M0ZmJhZmE3MTg2NzkzYTJhNmZlNTY4MTY4ZDE4MDUwMWFhZWJkODFlMmRkYmFjY2ExNDAxN2E4IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9zZXJ2aWNlcy9TZXJ2aWNlUGVyc29ubmUuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI3MDIiLCJjaGFyX2VuZCI6IjEzMTIiLCJibG9iX25hbWUiOiJiNDU5YmU0N2M0ZmJhZmE3MTg2NzkzYTJhNmZlNTY4MTY4ZDE4MDUwMWFhZWJkODFlMmRkYmFjY2ExNDAxN2E4IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9zZXJ2aWNlcy9TZXJ2aWNlUGVyc29ubmUuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMzEyIiwiY2hhcl9lbmQiOiIxOTQyIiwiYmxvYl9uYW1lIjoiYjQ1OWJlNDdjNGZiYWZhNzE4Njc5M2EyYTZmZTU2ODE2OGQxODA1MDFhYWViZDgxZTJkZGJhY2NhMTQwMTdhOCIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvc2VydmljZXMvU2VydmljZVBlcnNvbm5lLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMCIsImNoYXJfZW5kIjoiODczIiwiYmxvYl9uYW1lIjoiYmZmN2Q0ZGJkNjNiMGNkMDA4MmQ4YzIwYjIyNzI4M2VjYmM0ZWRmZWVmOTc0MTg2YWE1NzJjZDdmZGI2NjM5YyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InBvbS54bWwifX0seyJjaGFyX3N0YXJ0IjoiMCIsImNoYXJfZW5kIjoiMjgxIiwiYmxvYl9uYW1lIjoiNTQ4YWEyZjJjMTkxZjJlMGUwZjQzZjcyNzg2OTBmY2JhMmJkODgyNTNkMTNjNTUzNTBlNGFkYmFiNmUwNzQ1OCIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvc2VydmljZXMvSVNlcnZpY2UuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIwIiwiY2hhcl9lbmQiOiI5NzgiLCJibG9iX25hbWUiOiJiYmVkNDYzNmRjZmRiYTg3OTIxZDQ0ZjRkMWEzMjYwZTZhMjU4NDkxMDk2YjlhYjA4YmUzMjY1MTczN2U5YmE0IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9lbnRpdGllcy9QZXJzb25uZS5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijk3OCIsImNoYXJfZW5kIjoiMTIzMiIsImJsb2JfbmFtZSI6ImJiZWQ0NjM2ZGNmZGJhODc5MjFkNDRmNGQxYTMyNjBlNmEyNTg0OTEwOTZiOWFiMDhiZTMyNjUxNzM3ZTliYTQiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1BlcnNvbm5lLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMCIsImNoYXJfZW5kIjoiNDkwIiwiYmxvYl9uYW1lIjoiMzlmMmYyMzFiZTc2NDY4MzhhY2MxOTcyMDZkODhkODI1MjZlNWQxODRkMjMwY2VjZjJhYmYyMWRhOTE2Yjc5OSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6Ii5naXRpZ25vcmUifX1dfV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtZjlhMWE4N2ItMTNhNC00MzNmLWEyNWYtOWUzNGQzNGViYzQ2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnt9LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdGF0dXMiOiJkcmFmdCJ9LCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6dHJ1ZSwiZXh0cmFEYXRhIjp7Imhhc0RpcnR5RWRpdHMiOmZhbHNlfSwiZHJhZnRBY3RpdmVDb250ZXh0SWRzIjpbIkM6L1VzZXJzLzNsZXlhL0lkZWFQcm9qZWN0cy9waV9kZXYvc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmEiLCJDOi9Vc2Vycy8zbGV5YS9JZGVhUHJvamVjdHMvcGlfZGV2ZmFsc2VmYWxzZSJdfSwiZWRjN2FlY2EtYmExYi00ZThhLThlMzItZDViNjlhNjZlMTA4Ijp7ImlkIjoiZWRjN2FlY2EtYmExYi00ZThhLThlMzItZDViNjlhNjZlMTA4IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNS0wNlQxMDo0ODoyOS44MDRaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDUtMDZUMjE6Mjc6NDIuNzI1WiIsImNoYXRIaXN0b3J5IjpbeyJyZXF1ZXN0X2lkIjoiYjllMDNmODctNWJhNy00NjNmLTljMzUtNTIwYzBkNTk1M2MzIiwidXVpZCI6IjRiMzA1YmNhLTA3NGYtNGQxZS1iMmZjLTFkNjk4MzNlZmM1YyIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDY1Mjg1MDk4MDUsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjA1MDVjZWMyLTY3YTMtNDQxYS1iYzExLWI0M2RlMmM1OGEyNSIsInJlcXVlc3RfbWVzc2FnZSI6ImplIHZldXggcXVlIHR1IHNwcHJpbWUgdG91dCBjZSBxdWkgY29uY2VybmUgcGVyc29ubmUgXG5wYXJjZSBxdSdlbGxlIGVzdCB1bmUgbWV0aG9kZSBkZSB0ZXN0IGMgdG91dCBxdWUgamUgdmV1eCBxdWUgdHUgbSdham91dGUgXG5lbnN1aXQgamUgdmV1eCBham91dMOpIGxlbnRpdMOpIHVzZXIgXG51bmUgZW50aXTDqSB1c2Vyc2Vzc2lvbiBwb3VyIHJlY3Vww6lyZXIgbGUgdXNlciBjb25uZWN0w6kgXG5ldCBsZW50aXTDqSBldmVudCBcbmV0IGxlbnRpdMOpIHJlc2VydmVyRXZlbnQgcXVpIGEgam9pbnR1cmUgYXZlYyBldmVudCBldCBsZW50aXTDqSB1c2VyXG5cbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJqZSB2ZXV4IHF1ZSB0dSBzcHByaW1lIHRvdXQgY2UgcXVpIGNvbmNlcm5lIHBlcnNvbm5lICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoicGFyY2UgcXUnZWxsZSBlc3QgdW5lIG1ldGhvZGUgZGUgdGVzdCBjIHRvdXQgcXVlIGplIHZldXggcXVlIHR1IG0nYWpvdXRlICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiZW5zdWl0IGplIHZldXggYWpvdXTDqSBsZW50aXTDqSB1c2VyICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoidW5lIGVudGl0w6kgdXNlcnNlc3Npb24gcG91ciByZWN1cMOpcmVyIGxlIHVzZXIgY29ubmVjdMOpICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiZXQgbGVudGl0w6kgZXZlbnQgIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJldCBsZW50aXTDqSByZXNlcnZlckV2ZW50IHF1aSBhIGpvaW50dXJlIGF2ZWMgZXZlbnQgZXQgbGVudGl0w6kgdXNlciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQWFRcng1QlZjajQxRjVjUGlMZEpEbiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSmUgdmFpcyB2b3VzIGFpZGVyIMOgIG1vZGlmaWVyIGxlIGNvZGUgc2Vsb24gdm9zIGluc3RydWN0aW9ucy4gQ29tbWVuw6dvbnMgcGFyIGV4YW1pbmVyIGxlIGZpY2hpZXIgYWN0dWVsIGV0IGNvbXByZW5kcmUgc2Egc3RydWN0dXJlLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IkplIHZhaXMgdm91cyBhaWRlciDDoCBtb2RpZmllciBsZSBjb2RlIHNlbG9uIHZvcyBpbnN0cnVjdGlvbnMuIENvbW1lbsOnb25zIHBhciBleGFtaW5lciBsZSBmaWNoaWVyIGFjdHVlbCBldCBjb21wcmVuZHJlIHNhIHN0cnVjdHVyZS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2ZDg4NjExMi01MTg1LTRhMWYtYWJlYS1mZGZkNzM4YTkyYzIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMMUo3QjJvdzVWRXJFWVZES3NkQ3lOIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJUcm91dmVyIGxlcyBmaWNoaWVycyBkJ2VudGl0XFx1MDBlOXMgZXhpc3RhbnRzLCBub3RhbW1lbnQgUGVyc29ubmUuamF2YSwgZXQgdG91dGUgYXV0cmUgZW50aXRcXHUwMGU5IGNvbW1lIFVzZXIuamF2YSwgVXNlclNlc3Npb24uamF2YSwgRXZlbnQuamF2YSwgUmVzZXJ2ZXJFdmVudC5qYXZhIHMnaWxzIGV4aXN0ZW50LlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgdsOpcmlmaW9ucyBzaSBsZXMgZW50aXTDqXMgUGVyc29ubmUsIFVzZXIsIFVzZXJTZXNzaW9uLCBFdmVudCBldCBSZXNlcnZlckV2ZW50IGV4aXN0ZW50IGTDqWrDoCBkYW5zIGxlIHByb2pldC5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgdGVzdHM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZW50aXRpZXMuUGVyc29ubmU7XG4gICAgIDRcdGltcG9ydCBzZXJ2aWNlcy5TZXJ2aWNlUGVyc29ubmU7XG4gICAgIDVcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAgOFx0XG4gICAgIDlcdHB1YmxpYyBjbGFzcyBNYWluIHtcbiAgICAxMFx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgMTFcdCAgICAgICAgUGVyc29ubmUgcGVyc29ubmUgPSBuZXcgUGVyc29ubmUoMSxcImhlbGxvXCIsXCIzYTYzXCIsMTcpO1xuICAgIDEyXHQgICAgICAgIFNlcnZpY2VQZXJzb25uZSBzZXJ2aWNlUGVyc29ubmUgPSBuZXcgU2VydmljZVBlcnNvbm5lKCk7XG4gICAgMTNcdCAgICAgICAgdHJ5IHtcbiAgICAxNFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHNlcnZpY2VQZXJzb25uZS5hZmZpY2hlcigpKTtcbiAgICAxNVx0ICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgIDE2XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZS5nZXRNZXNzYWdlKCkpO1xuICAgIDE3XHQgICAgICAgIH1cbiAgICAxOFx0ICAgIH1cbiAgICAxOVx0XG4gICAgMjBcdH1cbiAgICAyMVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyMVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQWFRcng1QlZjajQxRjVjUGlMZEpEbiJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCB2w6lyaWZpb25zIHNpIGxlcyBlbnRpdMOpcyBQZXJzb25uZSwgVXNlciwgVXNlclNlc3Npb24sIEV2ZW50IGV0IFJlc2VydmVyRXZlbnQgZXhpc3RlbnQgZMOpasOgIGRhbnMgbGUgcHJvamV0LlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQ3ZTk4ZjM4LWNmYTktNDEyNi04MDAwLTYyYmNhY2ExMzU3OCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUxuQTFLOFl6dXlOYzdyb3dFRGVTWE4iLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIlJlY2hlcmNoZXIgcydpbCBleGlzdGUgdW5lIGNsYXNzZSBVc2VyU2Vzc2lvbiBvdSBzaW1pbGFpcmUgcG91ciBnXFx1MDBlOXJlciBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJWw6lyaWZpb25zIHMnaWwgZXhpc3RlIGTDqWrDoCB1bmUgY2xhc3NlIFVzZXJTZXNzaW9uIGRhbnMgbGUgcHJvamV0OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmFcbnBhY2thZ2UgdGVzdHM7XG5cbmltcG9ydCBlbnRpdGllcy5QZXJzb25uZTtcbmltcG9ydCBzZXJ2aWNlcy5TZXJ2aWNlUGVyc29ubmU7XG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcblxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcblxucHVibGljIGNsYXNzIE1haW4ge1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgICAgIFBlcnNvbm5lIHBlcnNvbm5lID0gbmV3IFBlcnNvbm5lKDEsXCJoZWxsb1wiLFwiM2E2M1wiLDE3KTtcbiAgICAgICAgU2VydmljZVBlcnNvbm5lIHNlcnZpY2VQZXJzb25uZSA9IG5ldyBTZXJ2aWNlUGVyc29ubmUoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihzZXJ2aWNlUGVyc29ubmUuYWZmaWNoZXIoKSk7XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvbW9kdWxlLWluZm8uamF2YVxubW9kdWxlIHBpMjQyNS5zd2FwcHlfamF2YWZ4IHtcbiAgICByZXF1aXJlcyBqYXZhZnguY29udHJvbHM7XG4gICAgcmVxdWlyZXMgamF2YWZ4LmZ4bWw7XG4gICAgcmVxdWlyZXMgamF2YWZ4Lm1lZGlhO1xuICAgIHJlcXVpcmVzIGphdmFmeC5zd2luZztcbiAgICByZXF1aXJlcyBqYXZhLnNxbDtcbiAgICByZXF1aXJlcyBqYmNyeXB0O1xuICAgIHJlcXVpcmVzIG15c3FsLmNvbm5lY3Rvci5qO1xuICAgIHJlcXVpcmVzIGRlLm1rYW1tZXJlci5hcmdvbjIubm9saWJzO1xuICAgIHJlcXVpcmVzIG9yZy5qc29uO1xuICAgIHJlcXVpcmVzIHdlYmNhbS5jYXB0dXJlO1xuXG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMgdG8gamF2YWZ4LmJhc2U7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcblxuXG5cbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC50ZXN0cyB0byBqYXZhZnguZnhtbDtcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnRlc3RzO1xuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmNvbnRyb2xsZXJzIHRvIGphdmFmeC5meG1sO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZnguY29udHJvbGxlcnM7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC51dGlscztcbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC51dGlscyB0byBqYXZhZnguZnhtbDtcblxuXG59Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL1VzZXIuamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcblxuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuaW1wb3J0IGphdmEuc3FsLkRhdGU7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5pbXBvcnQgb3JnLm1pbmRyb3QuamJjcnlwdC5CQ3J5cHQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuXG5cblxuXG5wdWJsaWMgY2xhc3MgVXNlciB7XG5cbiAgICBwcml2YXRlIGludCBpZDtcbiAgICBwcml2YXRlIFN0cmluZyBub207XG4gICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcHJlbm9tO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkcmVzc2U7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVsZXBob25lO1xuICAgIHByaXZhdGUgYm9vbGVhbiBpc1ZlcmlmaWVkO1xuICAgIHByaXZhdGUgVGltZXN0YW1wIGNyZWF0ZWRfYXQ7XG4gICAgcHJpdmF0ZSBMaXN0PFN0cmluZz4gcm9sZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyBpbWFnZVVybDtcblxuICAgIC8vIENvbnN0cnVjdG9yXG5cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBEYXRlIGNyZWF0ZWRfYXQsICBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyBpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gbmV3IFRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7IC8vIFNldCB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7XG4gICAgICAgIC8vIHRoaXMucGFzc3dvcmQgPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcigpIHtcbiAgICAgICAgLy8gIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKFN0cmluZyBub20sIFN0cmluZyBwcmVub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIHRlbGVwaG9uZSwgU3RyaW5nIGltYWdlVXJsKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICAvLyB0aGlzLnBhc3N3b3JkID0gaGFzaFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gZmFsc2U7IC8vIERlZmF1bHQgdmFsdWUgZm9yIG5ldyB1c2Vyc1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTsgLy8gU2V0IHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBEYXRlIGNyZWF0ZWRBdCwgRGF0ZSBsYXN0Q29ubmV4aW9uLCBTdHJpbmcgc3RvcmVkSGFzaCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZEF0ICE9IG51bGwgPyBuZXcgVGltZXN0YW1wKGNyZWF0ZWRBdC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHN0b3JlZEhhc2g7XG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gbnVsbDsgLy8gUGFyIGTDqWZhdXQsIHBhcyBkJ2ltYWdlXG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZEF0LCBTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgICAgIHRoaXMuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRBdCAhPSBudWxsID8gbmV3IFRpbWVzdGFtcChjcmVhdGVkQXQuZ2V0VGltZSgpKSA6IG51bGw7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsOyAvLyBQYXIgZMOpZmF1dCwgcGFzIGQnaW1hZ2VcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsICBUaW1lc3RhbXAgY3JlYXRlZEF0LCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOyAvLyBTZXQgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldE5vbSgpIHtcbiAgICAgICAgcmV0dXJuIG5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXROb20oU3RyaW5nIG5vbSkge1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldEVtYWlsKCkge1xuICAgICAgICByZXR1cm4gZW1haWw7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RW1haWwoU3RyaW5nIGVtYWlsKSB7XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFByZW5vbSgpIHtcbiAgICAgICAgcmV0dXJuIHByZW5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQcmVub20oU3RyaW5nIHByZW5vbSkge1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRyZXNzZSgpIHtcbiAgICAgICAgcmV0dXJuIGFkcmVzc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWRyZXNzZShTdHJpbmcgYWRyZXNzZSkge1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGVsZXBob25lKCkge1xuICAgICAgICByZXR1cm4gdGVsZXBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFRlbGVwaG9uZShTdHJpbmcgdGVsZXBob25lKSB7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIGlzVmVyaWZpZWQoKSB7XG4gICAgICAgIHJldHVybiBpc1ZlcmlmaWVkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFZlcmlmaWVkKGJvb2xlYW4gdmVyaWZpZWQpIHtcbiAgICAgICAgaXNWZXJpZmllZCA9IHZlcmlmaWVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBUaW1lc3RhbXAgZ2V0Q3JlYXRlZF9hdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Q3JlYXRlZF9hdChUaW1lc3RhbXAgY3JlYXRlZF9hdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xuICAgIH1cblxuICAgIHB1YmxpYyBMaXN0PFN0cmluZz4gZ2V0Um9sZSgpIHtcbiAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Um9sZShMaXN0PFN0cmluZz4gcm9sZSkge1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7XG4gICAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgIH1cbiAgICAgKi9cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2VVcmwoKSB7XG4gICAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZVVybChTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIlVzZXJ7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG5vbT0nXCIgKyBub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGVtYWlsPSdcIiArIGVtYWlsICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBwcmVub209J1wiICsgcHJlbm9tICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBhZHJlc3NlPSdcIiArIGFkcmVzc2UgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIHRlbGVwaG9uZT0nXCIgKyB0ZWxlcGhvbmUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGlzVmVyaWZpZWQ9XCIgKyBpc1ZlcmlmaWVkICtcbiAgICAgICAgICAgICAgICBcIiwgY3JlYXRlZF9hdD1cIiArIGNyZWF0ZWRfYXQgK1xuICAgICAgICAgICAgICAgIFwiLCByb2xlPVwiICsgcm9sZSArXG4gICAgICAgICAgICAgICAgXCIsIHBhc3N3b3JkPSdcIiArIHBhc3N3b3JkICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBpbWFnZVVybD0nXCIgKyBpbWFnZVVybCArICdcXCcnICtcbiAgICAgICAgICAgICAgICAnfSc7XG4gICAgfVxuXG59XG4vKipcbiAvLyBIYWNoYWdlIGR1IG1vdCBkZSBwYXNzZSBhdmVjIEJDcnlwdFxuIHByaXZhdGUgU3RyaW5nIGhhc2hQYXNzd29yZChTdHJpbmcgcGxhaW5QYXNzd29yZCkge1xuIGlmIChwbGFpblBhc3N3b3JkID09IG51bGwgfHwgcGxhaW5QYXNzd29yZC50cmltKCkuaXNFbXB0eSgpKSB7XG4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIkxlIG1vdCBkZSBwYXNzZSBuZSBwZXV0IHBhcyDDqnRyZSB2aWRlIG91IG51bGxcIik7XG4gfVxuIHJldHVybiBCQ3J5cHQuaGFzaHB3KHBsYWluUGFzc3dvcmQsIEJDcnlwdC5nZW5zYWx0KDEyKSk7XG4gfVxuXG4gLy8gVsOpcmlmaWNhdGlvbiBkdSBtb3QgZGUgcGFzc2VcbiBwdWJsaWMgYm9vbGVhbiBjaGVja1Bhc3N3b3JkKFN0cmluZyBwbGFpblBhc3N3b3JkKSB7XG4gcmV0dXJuIEJDcnlwdC5jaGVja3B3KHBsYWluUGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xuIH1cbiAqL1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3Rlc3RzL0hlbGxvQXBwbGljYXRpb24uamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC50ZXN0cztcblxuaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuaW1wb3J0IGphdmFmeC5nZW9tZXRyeS5SZWN0YW5nbGUyRDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnN0YWdlLlNjcmVlbjtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXMuQWRtaW5TZXJ2aWNlO1xuXG5cbmltcG9ydCBqYXZhLmlvLkZpbGU7XG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLm5ldC5VUkw7XG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuXG5wdWJsaWMgY2xhc3MgSGVsbG9BcHBsaWNhdGlvbiBleHRlbmRzIEFwcGxpY2F0aW9uIHtcbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBzdGFnZSkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRpcmVjdGVtZW50IMOgIHBhcnRpciBkdSBzeXN0w6htZSBkZSBmaWNoaWVyc1xuICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvQXV0aGVudGlmaWNhdGlvbi9sb2dpbi5meG1sXCIpO1xuXG4gICAgICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkZpY2hpZXIgdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBmeG1sTG9hZGVyID0gbmV3IEZYTUxMb2FkZXIodXJsKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShmeG1sTG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiU3dhcGlmeVwiKTtcbiAgICAgICAgICAgICAgICBSZWN0YW5nbGUyRCBzY3JlZW5Cb3VuZHMgPSBTY3JlZW4uZ2V0UHJpbWFyeSgpLmdldFZpc3VhbEJvdW5kcygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFdpZHRoKHNjcmVlbkJvdW5kcy5nZXRXaWR0aCgpICogMC44KTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRIZWlnaHQoc2NyZWVuQm91bmRzLmdldEhlaWdodCgpICogMC44KTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRNaW5XaWR0aCg4MDApO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldE1pbkhlaWdodCg2MDApO1xuICAgICAgICAgICAgICAgIHN0YWdlLmNlbnRlck9uU2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJGaWNoaWVyIG5vbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJT0V4Y2VwdGlvbihcIkZpY2hpZXIgRlhNTCBub24gdHJvdXbDqVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZHUgZmljaGllciBGWE1MOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJjb25uZWN0aW9uIGVzdGFibGlzaGVkXCIpO1xuXG4gICAgICAgICAgICAvLyDwn5S5IENyw6lhdGlvbiBkdSBzdXBlciBhZG1pbmlzdHJhdGV1ciBzaSBpbmV4aXN0YW50XG4gICAgICAgICAgICBBZG1pblNlcnZpY2UgYWRtaW5TZXJ2aWNlID0gbmV3IEFkbWluU2VydmljZSgpO1xuICAgICAgICAgICAgYWRtaW5TZXJ2aWNlLmNyZWF0ZVN1cGVyQWRtaW4oKTtcblxuXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICB9XG5cblxuICAgICAgICBsYXVuY2goKTtcblxuICAgIH1cbn0uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvc2VydmljZXMvU2VydmljZVBlcnNvbm5lLmphdmFcbnBhY2thZ2Ugc2VydmljZXM7XG5cbmltcG9ydCBlbnRpdGllcy5QZXJzb25uZTtcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuXG5pbXBvcnQgamF2YS5zcWwuKjtcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5wdWJsaWMgY2xhc3MgU2VydmljZVBlcnNvbm5lIGltcGxlbWVudHMgSVNlcnZpY2U8UGVyc29ubmU+IHtcbiAgICBDb25uZWN0aW9uIGNvbm5lY3Rpb247XG4gICAgcHVibGljIFNlcnZpY2VQZXJzb25uZSgpIHtcbiAgICAgICAgY29ubmVjdGlvbj0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcblxuICAgIH1cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBham91dGVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHJlcSA9XCJJTlNFUlQgSU5UTyBwZXJzb25uZShub20sIHByZW5vbSwgYWdlKSBWQUxVRVMgKCdcIitwZXJzb25uZS5nZXROb20oKStcIicsJ1wiK3BlcnNvbm5lLmdldFByZW5vbSgpK1wiJyxcIitwZXJzb25uZS5nZXRBZ2UoKStcIilcIjtcbiAgICAgICAgU3RhdGVtZW50IHN0YXRlbWVudD1jb25uZWN0aW9uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICBzdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZShyZXEpO1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJwZXJzb25uZSBham91dMOpXCIpO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN1cHByaW1lcihQZXJzb25uZSBwZXJzb25uZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG5cbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBtb2RpZmllcihQZXJzb25uZSBwZXJzb25uZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyByZXEgPSBcInVwZGF0ZSBwZXJzb25uZSBzZXQgbm9tPT8sIHByZW5vbT0/LCBhZ2U9PyB3aGVyZSBpZD0/XCI7XG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHByZXBhcmVkU3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHJlcSk7XG4gICAgICAgIHByZXBhcmVkU3RhdGVtZW50LnNldFN0cmluZygxLCBwZXJzb25uZS5nZXROb20oKSk7XG4gICAgICAgIHByZXBhcmVkU3RhdGVtZW50LnNldFN0cmluZygyLCBwZXJzb25uZS5nZXRQcmVub20oKSk7XG4gICAgICAgIHByZXBhcmVkU3RhdGVtZW50LnNldEludCgzLCBwZXJzb25uZS5nZXRBZ2UoKSk7XG4gICAgICAgIHByZXBhcmVkU3RhdGVtZW50LnNldEludCg0LCBwZXJzb25uZS5nZXRJZCgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZSgpO1xuXG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIExpc3Q8UGVyc29ubmU+IGFmZmljaGVyKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIExpc3Q8UGVyc29ubmU+IHBlcnNvbm5lcyA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICBTdHJpbmcgcmVxID0gXCJzZWxlY3QgKiBmcm9tIHBlcnNvbm5lXCI7XG4gICAgICAgIFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLmNyZWF0ZVN0YXRlbWVudCgpO1xuXG4gICAgICAgUmVzdWx0U2V0IHJzID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeShyZXEpO1xuICAgICAgIHdoaWxlIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgUGVyc29ubmUgcGVyc29ubmUgPSBuZXcgUGVyc29ubmUoKTtcbiAgICAgICAgICAgcGVyc29ubmUuc2V0SWQocnMuZ2V0SW50KDEpKTtcbiAgICAgICAgICAgcGVyc29ubmUuc2V0Tm9tKHJzLmdldFN0cmluZyhcIm5vbVwiKSk7XG4gICAgICAgICAgIHBlcnNvbm5lLnNldFByZW5vbShycy5nZXRTdHJpbmcoXCJwcmVub21cIikpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXRBZ2UocnMuZ2V0SW50KDQpKTtcbiAgICAgICAgICAgcGVyc29ubmVzLmFkZChwZXJzb25uZSk7XG5cbiAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gcGVyc29ubmVzO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9FdmVudC5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuXG5pbXBvcnQgamF2YS51dGlsLkRhdGU7XG5cbnB1YmxpYyBjbGFzcyBFdmVudCB7XG5cbiAgICBwcml2YXRlIGludCBpZDtcbiAgICBwcml2YXRlIFVzZXIgb3JnbmlzZXI7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdGl0bGU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgZGVzY3JpcHRpb247XG4gICAgcHJpdmF0ZSBEYXRlIGRhdGVfZGVidXQ7XG4gICAgcHJpdmF0ZSBEYXRlIGRhdGVfZmluO1xuICAgIHByaXZhdGUgaW50IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHVzO1xuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlO1xuXG4gICAgcHVibGljIEV2ZW50KGludCBpZCwgVXNlciBvcmduaXNlciwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgZGVzY3JpcHRpb24sIERhdGUgZGF0ZV9kZWJ1dCwgRGF0ZSBkYXRlX2ZpbiwgaW50IG1heF9wYXJ0aWNpcGFudHMsIFN0cmluZyBzdGF0dXMsIFN0cmluZyBpbWFnZSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMub3JnbmlzZXIgPSBvcmduaXNlcjtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZGF0ZV9kZWJ1dCA9IGRhdGVfZGVidXQ7XG4gICAgICAgIHRoaXMuZGF0ZV9maW4gPSBkYXRlX2ZpbjtcbiAgICAgICAgdGhpcy5tYXhfcGFydGljaXBhbnRzID0gbWF4X3BhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgRXZlbnQoVXNlciBvcmduaXNlciwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgZGVzY3JpcHRpb24sIERhdGUgZGF0ZV9kZWJ1dCwgRGF0ZSBkYXRlX2ZpbiwgaW50IG1heF9wYXJ0aWNpcGFudHMsIFN0cmluZyBzdGF0dXMsIFN0cmluZyBpbWFnZSkge1xuICAgICAgICB0aGlzLm9yZ25pc2VyID0gb3JnbmlzZXI7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIEV2ZW50KCkge1xuXG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyIGdldE9yZ25pc2VyKCkge1xuICAgICAgICByZXR1cm4gb3JnbmlzZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0T3JnbmlzZXIoVXNlciBvcmduaXNlcikge1xuICAgICAgICB0aGlzLm9yZ25pc2VyID0gb3JnbmlzZXI7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFRpdGxlKFN0cmluZyB0aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcHVibGljIERhdGUgZ2V0RGF0ZV9kZWJ1dCgpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVfZGVidXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9kZWJ1dChEYXRlIGRhdGVfZGVidXQpIHtcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlX2ZpbigpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVfZmluO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldERhdGVfZmluKERhdGUgZGF0ZV9maW4pIHtcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3BhcnRpY2lwYW50cygpIHtcbiAgICAgICAgcmV0dXJuIG1heF9wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0TWF4X3BhcnRpY2lwYW50cyhpbnQgbWF4X3BhcnRpY2lwYW50cykge1xuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1cyhTdHJpbmcgc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2UoKSB7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZShTdHJpbmcgaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIkV2ZW50e1wiICtcbiAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgICAgICAgICAgICAgIFwiLCBvcmduaXNlcj1cIiArIG9yZ25pc2VyICtcbiAgICAgICAgICAgICAgICBcIiwgdGl0bGU9J1wiICsgdGl0bGUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGRlc2NyaXB0aW9uPSdcIiArIGRlc2NyaXB0aW9uICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBkYXRlX2RlYnV0PVwiICsgZGF0ZV9kZWJ1dCArXG4gICAgICAgICAgICAgICAgXCIsIGRhdGVfZmluPVwiICsgZGF0ZV9maW4gK1xuICAgICAgICAgICAgICAgIFwiLCBtYXhfcGFydGljaXBhbnRzPVwiICsgbWF4X3BhcnRpY2lwYW50cyArXG4gICAgICAgICAgICAgICAgXCIsIHN0YXR1cz0nXCIgKyBzdGF0dXMgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGltYWdlPSdcIiArIGltYWdlICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgICd9JztcbiAgICB9XG59XG4uLi5cblBhdGg6IC5naXRpZ25vcmVcbnRhcmdldC9cbiEubXZuL3dyYXBwZXIvbWF2ZW4td3JhcHBlci5qYXJcbiEqKi9zcmMvbWFpbi8qKi90YXJnZXQvXG4hKiovc3JjL3Rlc3QvKiovdGFyZ2V0L1xuXG4jIyMgSW50ZWxsaUogSURFQSAjIyNcbi5pZGVhL21vZHVsZXMueG1sXG4uaWRlYS9qYXJSZXBvc2l0b3JpZXMueG1sXG4uaWRlYS9jb21waWxlci54bWxcbi5pZGVhL2xpYnJhcmllcy9cbiouaXdzXG4qLmltbFxuKi5pcHJcblxuIyMjIEVjbGlwc2UgIyMjXG4uYXB0X2dlbmVyYXRlZFxuLmNsYXNzcGF0aFxuLmZhY3RvcnlwYXRoXG4ucHJvamVjdFxuLnNldHRpbmdzXG4uc3ByaW5nQmVhbnNcbi5zdHM0LWNhY2hlXG5cbiMjIyBOZXRCZWFucyAjIyNcbi9uYnByb2plY3QvcHJpdmF0ZS9cbi9uYmJ1aWxkL1xuL2Rpc3QvXG4vbmJkaXN0L1xuLy5uYi1ncmFkbGUvXG5idWlsZC9cbiEqKi9zcmMvbWFpbi8qKi9idWlsZC9cbiEqKi9zcmMvdGVzdC8qKi9idWlsZC9cblxuIyMjIFZTIENvZGUgIyMjXG4udnNjb2RlL1xuXG4jIyMgTWFjIE9TICMjI1xuLkRTX1N0b3JlLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1BlcnNvbm5lLmphdmFcbnBhY2thZ2UgZW50aXRpZXM7XG5cbnB1YmxpYyBjbGFzcyBQZXJzb25uZSB7XG4gICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgbm9tO1xuICAgIHByaXZhdGUgU3RyaW5nIHByZW5vbTtcbiAgICBwcml2YXRlIGludCBhZ2U7XG5cbiAgICBwdWJsaWMgUGVyc29ubmUoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIFBlcnNvbm5lKFN0cmluZyBub20sIFN0cmluZyBwcmVub20sIGludCBhZ2UpIHtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFnZSA9IGFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGVyc29ubmUoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgcHJlbm9tLCBpbnQgYWdlKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFnZSA9IGFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldE5vbSgpIHtcbiAgICAgICAgcmV0dXJuIG5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXROb20oU3RyaW5nIG5vbSkge1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFByZW5vbSgpIHtcbiAgICAgICAgcmV0dXJuIHByZW5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRQcmVub20oU3RyaW5nIHByZW5vbSkge1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldEFnZSgpIHtcbiAgICAgICAgcmV0dXJuIGFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZ2UoaW50IGFnZSkge1xuICAgICAgICB0aGlzLmFnZSA9IGFnZTtcbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJQZXJzb25uZXtcIiArXG4gICAgICAgICAgICAgICAgXCJpZD1cIiArIGlkICtcbiAgICAgICAgICAgICAgICBcIiwgbm9tPSdcIiArIG5vbSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgcHJlbm9tPSdcIiArIHByZW5vbSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgYWdlPVwiICsgYWdlICtcbiAgICAgICAgICAgICAgICAnfSc7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0xvZ2luU2VydmljZS5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnNlcnZpY2VzO1xuXG5pbXBvcnQgb3JnLm1pbmRyb3QuamJjcnlwdC5CQ3J5cHQ7XG5pbXBvcnQgZGUubWthbW1lcmVyLmFyZ29uMi5BcmdvbjI7XG5pbXBvcnQgZGUubWthbW1lcmVyLmFyZ29uMi5BcmdvbjJGYWN0b3J5O1xuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMuTXlEYXRhYmFzZTtcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuaW1wb3J0IGphdmEudXRpbC5BcnJheXM7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBjbGFzcyBMb2dpblNlcnZpY2Uge1xuICAgIHByaXZhdGUgZmluYWwgQ29ubmVjdGlvbiBjb25uZWN0aW9uO1xuXG4gICAgcHVibGljIExvZ2luU2VydmljZSgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICB9XG4uLi5cblxuICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwnVVJMIGRlIGwnaW1hZ2Ugc2kgZGlzcG9uaWJsZVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyBpbWFnZVVybCA9IHJzLmdldFN0cmluZyhcImltYWdlVXJsXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VVcmwgIT0gbnVsbCAmJiAhaW1hZ2VVcmwuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyLnNldEltYWdlVXJsKGltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExhIGNvbG9ubmUgaW1hZ2VVcmwgbidleGlzdGUgcGV1dC3DqnRyZSBwYXMgZGFucyBsYSB0YWJsZVxuICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJBdmVydGlzc2VtZW50OiBJbXBvc3NpYmxlIGRlIHLDqWN1cMOpcmVyIGwnVVJMIGRlIGwnaW1hZ2U6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVzZXIuc2V0Um9sZShyb2xlcyk7ICAvLyBBc3NpZ25lciBsZXMgcsO0bGVzIMOgIGwndXRpbGlzYXRldXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIFV0aWxpc2F0ZXVyIG5vbiB0cm91dsOpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlciBsb2dpbihTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gP1wiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygxLCBlbWFpbCk7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeSgpO1xuLi4uXG5cbiAgICAgICAgICAgICAgICAvLyBWw6lyaWZpZXIgbGUgbW90IGRlIHBhc3NlIGF2ZWMgQXJnb24yaWRcbiAgICAgICAgICAgICAgICBBcmdvbjIgYXJnb24yID0gQXJnb24yRmFjdG9yeS5jcmVhdGUoQXJnb24yRmFjdG9yeS5BcmdvbjJUeXBlcy5BUkdPTjJpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ29uMi52ZXJpZnkoc3RvcmVkUGFzc3dvcmQsIHBhc3N3b3JkLnRvQ2hhckFycmF5KCkpKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcgcm9sZVN0cmluZyA9IHJzLmdldFN0cmluZyhcInJvbGVcIik7XG4gICAgICAgICAgICAgICAgICAgIExpc3Q8U3RyaW5nPiByb2xlcyA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9sZVN0cmluZyAhPSBudWxsICYmICFyb2xlU3RyaW5nLmlzRW1wdHkoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlcyA9IEFycmF5cy5hc0xpc3Qocm9sZVN0cmluZy5zcGxpdChcIixcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV0dG95ZXIgbGVzIGVzcGFjZXMgw6l2ZW50dWVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZXMucmVwbGFjZUFsbChTdHJpbmc6OnRyaW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0SW50KFwiaWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwibm9tXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcImVtYWlsXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcInByZW5vbVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJhZHJlc3NlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcInRlbGVwaG9uZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRCb29sZWFuKFwiaXNfdmVyaWZpZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0RGF0ZShcImNyZWF0ZWRfYXRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkUGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgKTtcbi4uLlxuUGF0aDogc3JjL21haW4vcmVzb3VyY2VzL3BpMjQyNS9zd2FwcHlfamF2YWZ4L1JlZ2lzdHJhdGlvbi9yZWdpc3Rlci5meG1sXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cblxuPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+XG48P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cbjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+XG48P2ltcG9ydCBqYXZhZnguc2NlbmUucGFpbnQuQ29sb3I/PlxuPD9pbS4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUwxSjdCMm93NVZFckVZVkRLc2RDeU4ifX1dLCJyZXNwb25zZV90ZXh0IjoiVsOpcmlmaW9ucyBzJ2lsIGV4aXN0ZSBkw6lqw6AgdW5lIGNsYXNzZSBVc2VyU2Vzc2lvbiBkYW5zIGxlIHByb2pldDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwZWU3NDQ2Zi0wMGE1LTRlOTktYjI2OS1kNjFlMGFhOTc5ZGUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLOXBGQmNKN0hoYzJ3M1JvdzVqUUZmIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJSZWNoZXJjaGVyIHMnaWwgZXhpc3RlIHVuZSBlbnRpdFxcdTAwZTkgUmVzZXJ2ZXJFdmVudCBvdSBzaW1pbGFpcmUgcG91ciBnXFx1MDBlOXJlciBsZXMgclxcdTAwZTlzZXJ2YXRpb25zIGQnXFx1MDBlOXZcXHUwMGU5bmVtZW50c1wifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiUmVjaGVyY2hvbnMgcydpbCBleGlzdGUgZMOpasOgIHVuZSBlbnRpdMOpIFJlc2VydmVyRXZlbnQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0xvZ2luU2VydmljZS5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnNlcnZpY2VzO1xuXG5pbXBvcnQgb3JnLm1pbmRyb3QuamJjcnlwdC5CQ3J5cHQ7XG5pbXBvcnQgZGUubWthbW1lcmVyLmFyZ29uMi5BcmdvbjI7XG5pbXBvcnQgZGUubWthbW1lcmVyLmFyZ29uMi5BcmdvbjJGYWN0b3J5O1xuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMuTXlEYXRhYmFzZTtcblxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuaW1wb3J0IGphdmEudXRpbC5BcnJheXM7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBjbGFzcyBMb2dpblNlcnZpY2Uge1xuICAgIHByaXZhdGUgZmluYWwgQ29ubmVjdGlvbiBjb25uZWN0aW9uO1xuXG4gICAgcHVibGljIExvZ2luU2VydmljZSgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICB9XG4uLi5cblxuICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIFN0cmluZyByb2xlU3RyaW5nID0gcnMuZ2V0U3RyaW5nKFwicm9sZVwiKTtcbiAgICAgICAgICAgICAgICBMaXN0PFN0cmluZz4gcm9sZXMgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgICAgICAgICBpZiAocm9sZVN0cmluZyAhPSBudWxsICYmICFyb2xlU3RyaW5nLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICByb2xlcyA9IEFycmF5cy5hc0xpc3Qocm9sZVN0cmluZy5zcGxpdChcIixcIikpO1xuICAgICAgICAgICAgICAgICAgICAvLyBOZXR0b3llciBsZXMgZXNwYWNlcyDDqXZlbnR1ZWxzXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzLnJlcGxhY2VBbGwoU3RyaW5nOjp0cmltKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldEludChcImlkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwibm9tXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwiZW1haWxcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJwcmVub21cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJhZHJlc3NlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwidGVsZXBob25lXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0Qm9vbGVhbihcImlzX3ZlcmlmaWVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0RGF0ZShcImNyZWF0ZWRfYXRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBSw6ljdXDDqXJlciBsJ1VSTCBkZSBsJ2ltYWdlIHNpIGRpc3BvbmlibGVcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBTdHJpbmcgaW1hZ2VVcmwgPSBycy5nZXRTdHJpbmcoXCJpbWFnZVVybFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlVXJsICE9IG51bGwgJiYgIWltYWdlVXJsLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlci5zZXRJbWFnZVVybChpbWFnZVVybCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBMYSBjb2xvbm5lIGltYWdlVXJsIG4nZXhpc3RlIHBldXQtw6p0cmUgcGFzIGRhbnMgbGEgdGFibGVcbiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQXZlcnRpc3NlbWVudDogSW1wb3NzaWJsZSBkZSByw6ljdXDDqXJlciBsJ1VSTCBkZSBsJ2ltYWdlOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1c2VyLnNldFJvbGUocm9sZXMpOyAgLy8gQXNzaWduZXIgbGVzIHLDtGxlcyDDoCBsJ3V0aWxpc2F0ZXVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBVdGlsaXNhdGV1ciBub24gdHJvdXbDqVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIgbG9naW4oU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIlNFTEVDVCAqIEZST00gdXNlciBXSEVSRSBlbWFpbCA9ID9cIjtcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdG10ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMSwgZW1haWwpO1xuICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoKTtcbi4uLlxuXG4gICAgICAgICAgICAgICAgLy8gVsOpcmlmaWVyIGxlIG1vdCBkZSBwYXNzZSBhdmVjIEFyZ29uMmlkXG4gICAgICAgICAgICAgICAgQXJnb24yIGFyZ29uMiA9IEFyZ29uMkZhY3RvcnkuY3JlYXRlKEFyZ29uMkZhY3RvcnkuQXJnb24yVHlwZXMuQVJHT04yaWQpO1xuICAgICAgICAgICAgICAgIGlmIChhcmdvbjIudmVyaWZ5KHN0b3JlZFBhc3N3b3JkLCBwYXNzd29yZC50b0NoYXJBcnJheSgpKSkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIHJvbGVTdHJpbmcgPSBycy5nZXRTdHJpbmcoXCJyb2xlXCIpO1xuICAgICAgICAgICAgICAgICAgICBMaXN0PFN0cmluZz4gcm9sZXMgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGVTdHJpbmcgIT0gbnVsbCAmJiAhcm9sZVN0cmluZy5pc0VtcHR5KCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZXMgPSBBcnJheXMuYXNMaXN0KHJvbGVTdHJpbmcuc3BsaXQoXCIsXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldHRveWVyIGxlcyBlc3BhY2VzIMOpdmVudHVlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVzLnJlcGxhY2VBbGwoU3RyaW5nOjp0cmltKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldEludChcImlkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcIm5vbVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJlbWFpbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJwcmVub21cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwiYWRyZXNzZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJ0ZWxlcGhvbmVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0Qm9vbGVhbihcImlzX3ZlcmlmaWVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldERhdGUoXCJjcmVhdGVkX2F0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZFBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCdVUkwgZGUgbCdpbWFnZSBzaSBkaXNwb25pYmxlXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgaW1hZ2VVcmwgPSBycy5nZXRTdHJpbmcoXCJpbWFnZVVybFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVVybCAhPSBudWxsICYmICFpbWFnZVVybC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLnNldEltYWdlVXJsKGltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExhIGNvbG9ubmUgaW1hZ2VVcmwgbidleGlzdGUgcGV1dC3DqnRyZSBwYXMgZGFucyBsYSB0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQXZlcnRpc3NlbWVudDogSW1wb3NzaWJsZSBkZSByw6ljdXDDqXJlciBsJ1VSTCBkZSBsJ2ltYWdlOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1c2VyLnNldFJvbGUocm9sZXMpOyAgLy8gQXNzaWduZXIgbGVzIHLDtGxlcyDDoCBsJ3V0aWxpc2F0ZXVyXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU1FMRXhjZXB0aW9uKFwiTW90IGRlIHBhc3NlIGluY29ycmVjdFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTUUxFeGNlcHRpb24oXCJVdGlsaXNhdGV1ciBub24gdHJvdXbDqSBhdmVjIGNldCBlbWFpbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIE5ldHRveWVyIGxlcyBkb25uw6llcyBzZW5zaWJsZXNcbiAgICAgICAgICAgIGlmIChwYXNzd29yZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgQXJnb24yIGFyZ29uMiA9IEFyZ29uMkZhY3RvcnkuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgYXJnb24yLndpcGVBcnJheShwYXNzd29yZC50b0NoYXJBcnJheSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9BdXRoU2VydmljZUltcGwuamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5zZXJ2aWNlcztcblxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG5cbnB1YmxpYyBjbGFzcyBBdXRoU2VydmljZUltcGwge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgQXV0aFNlcnZpY2VJbXBsIGluc3RhbmNlO1xuXG4gICAgcHJpdmF0ZSBVc2VyIGN1cnJlbnRVc2VyO1xuXG4gICAgLy8gQ29uc3RydWN0ZXVyIHByaXbDqSBwb3VyIGVtcMOqY2hlciBsJ2luc3RhbmNpYXRpb24gZGlyZWN0ZVxuICAgIHByaXZhdGUgQXV0aFNlcnZpY2VJbXBsKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgQXV0aFNlcnZpY2VJbXBsIGdldEluc3RhbmNlKCkge1xuICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgQXV0aFNlcnZpY2VJbXBsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEN1cnJlbnRVc2VyKFVzZXIgdXNlcikge1xuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlciBnZXRDdXJyZW50VXNlcigpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIGxvZ291dCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gaXNBZG1pbigpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyICE9IG51bGwgJiYgY3VycmVudFVzZXIuZ2V0Um9sZSgpLmNvbnRhaW5zKFwiQWRtaW5pc3RyYXRldXJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gaXNTdXBlckFkbWluKCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFVzZXIgIT0gbnVsbCAmJiBjdXJyZW50VXNlci5nZXRSb2xlKCkuY29udGFpbnMoXCJTdXBlci1BZG1pbmlzdHJhdGV1clwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBpc0NsaWVudCgpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyICE9IG51bGwgJiYgY3VycmVudFVzZXIuZ2V0Um9sZSgpLmNvbnRhaW5zKFwiQ2xpZW50XCIpO1xuICAgIH1cblxufS4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG5cblxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XG5pbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDtcbmltcG9ydCBqYXZhLnNxbC5EYXRlO1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuaW1wb3J0IG9yZy5taW5kcm90LmpiY3J5cHQuQkNyeXB0O1xuaW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcblxuXG5cblxucHVibGljIGNsYXNzIFVzZXIge1xuXG4gICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgbm9tO1xuICAgIHByaXZhdGUgU3RyaW5nIGVtYWlsO1xuICAgIHByaXZhdGUgU3RyaW5nIHByZW5vbTtcbiAgICBwcml2YXRlIFN0cmluZyBhZHJlc3NlO1xuICAgIHByaXZhdGUgU3RyaW5nIHRlbGVwaG9uZTtcbiAgICBwcml2YXRlIGJvb2xlYW4gaXNWZXJpZmllZDtcbiAgICBwcml2YXRlIFRpbWVzdGFtcCBjcmVhdGVkX2F0O1xuICAgIHByaXZhdGUgTGlzdDxTdHJpbmc+IHJvbGU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7XG4gICAgcHJpdmF0ZSBTdHJpbmcgaW1hZ2VVcmw7XG5cbiAgICAvLyBDb25zdHJ1Y3RvclxuXG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgRGF0ZSBjcmVhdGVkX2F0LCAgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgICAgIHRoaXMuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOyAvLyBTZXQgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpO1xuICAgICAgICAvLyB0aGlzLnBhc3N3b3JkID0gaGFzaFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgICAgIC8vICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICB9XG4uLi5cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBEYXRlIGNyZWF0ZWRBdCwgRGF0ZSBsYXN0Q29ubmV4aW9uLCBTdHJpbmcgc3RvcmVkSGFzaCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZEF0ICE9IG51bGwgPyBuZXcgVGltZXN0YW1wKGNyZWF0ZWRBdC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHN0b3JlZEhhc2g7XG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gbnVsbDsgLy8gUGFyIGTDqWZhdXQsIHBhcyBkJ2ltYWdlXG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhXG4uLi5cblxuXG5pbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLlBsYXRmb3JtO1xuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5WQm94O1xuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXMuRmFjZVJlY29nbml0aW9uU2VydmljZTtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5zZXJ2aWNlcy5Mb2dpblNlcnZpY2U7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b247XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGV4dEZpZWxkO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkFsZXJ0LkFsZXJ0VHlwZTtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXMuQXV0aFNlcnZpY2VJbXBsO1xuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LnV0aWxzLkxvYWRFeHRlcm5hbEltYWdlO1xuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LnV0aWxzLk5hdmlnYXRpb25VdGlscztcbi4uLlxuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgw6AgcGFydGlyIGRlIHNvbiBJRFxuICAgICAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBsb2dpblNlcnZpY2UuZ2V0VXNlckJ5SWQoSW50ZWdlci5wYXJzZUludCh1c2VySWQpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEw6lmaW5pciBsJ3V0aWxpc2F0ZXVyIGFjdHVlbCBkYW5zIGxlIHNlcnZpY2UgQXV0aFNlcnZpY2VJbXBsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoU2VydmljZS5zZXRDdXJyZW50VXNlcih1c2VyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWZmaWNoZXIgdW4gbWVzc2FnZSBkZSBzdWNjw6hzXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlN1Y2PDqHNcIiwgXCJDb25uZXhpb24gcsOpdXNzaWUgISBCaWVudmVudWUgXCIgKyB1c2VyLmdldFByZW5vbSgpICsgXCIgXCIgKyB1c2VyLmdldE5vbSgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV0dG95ZXIgbGVzIHJlc3NvdXJjZXMgZGUgbGEgd2ViY2FtXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWJjYW1DYXB0dXJlLnN0b3BDYW1lcmEoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmF2aWd1ZXIgdmVycyBsZSB0YWJsZWF1IGRlIGJvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9EYXNoYm9hcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiVXRpbGlzYXRldXIgbm9uIHRyb3V2w6kgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuLi4uXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGR1IGZpY2hpZXIgZCdpbnNjcmlwdGlvbjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIHByaXZhdGUgdm9pZCBuYXZpZ2F0ZVRvRGFzaGJvYXJkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU3RyaW5nIGZpbGVQYXRoO1xuICAgICAgICAgICAgU3RyaW5nIHRpdGxlO1xuXG4gICAgICAgICAgICBpZiAoYXV0aFNlcnZpY2UuaXNTdXBlckFkbWluKCkpIHtcbiAgICAgICAgICAgICAgICBmaWxlUGF0aCA9IFwic3JjL21haW4vcmVzb3VyY2VzL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9kYXNoYm9hcmQuZnhtbFwiO1xuICAgICAgICAgICAgICAgIHRpdGxlID0gXCJTd2FwaWZ5IC0gVGFibGVhdSBkZSBib3JkIFN1cGVyIEFkbWluXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF1dGhTZXJ2aWNlLmlzQWRtaW4oKSkge1xuICAgICAgICAgICAgICAgIGZpbGVQYXRoID0gXCJzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2Rhc2hib2FyZC5meG1sXCI7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBcIlN3YXBpZnkgLSBUYWJsZWF1IGRlIGJvcmQgQWRtaW5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIENsaWVudFxuICAgICAgICAgICAgICAgIGZpbGVQYXRoID0gXCJzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2NsaWVudF9kYXNoYm9hcmQuZnhtbFwiO1xuICAgICAgICAgICAgICAgIHRpdGxlID0gXCJTd2FwaWZ5IC0gVGFibGVhdSBkZSBib3JkIENsaWVudFwiO1xuICAgICAgICAgICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL21vZHVsZS1pbmZvLmphdmFcbm1vZHVsZSBwaTI0MjUuc3dhcHB5X2phdmFmeCB7XG4gICAgcmVxdWlyZXMgamF2YWZ4LmNvbnRyb2xzO1xuICAgIHJlcXVpcmVzIGphdmFmeC5meG1sO1xuICAgIHJlcXVpcmVzIGphdmFmeC5tZWRpYTtcbiAgICByZXF1aXJlcyBqYXZhZnguc3dpbmc7XG4gICAgcmVxdWlyZXMgamF2YS5zcWw7XG4gICAgcmVxdWlyZXMgamJjcnlwdDtcbiAgICByZXF1aXJlcyBteXNxbC5jb25uZWN0b3IuajtcbiAgICByZXF1aXJlcyBkZS5ta2FtbWVyZXIuYXJnb24yLm5vbGlicztcbiAgICByZXF1aXJlcyBvcmcuanNvbjtcbiAgICByZXF1aXJlcyB3ZWJjYW0uY2FwdHVyZTtcblxuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzIHRvIGphdmFmeC5iYXNlO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG5cblxuXG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZngudGVzdHMgdG8gamF2YWZ4LmZ4bWw7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC50ZXN0cztcbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC5jb250cm9sbGVycyB0byBqYXZhZnguZnhtbDtcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmNvbnRyb2xsZXJzO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHM7XG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMgdG8gamF2YWZ4LmZ4bWw7XG5cblxufS4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9BdXRoU2VydmljZS5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnNlcnZpY2VzO1xuXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuXG5wdWJsaWMgaW50ZXJmYWNlIEF1dGhTZXJ2aWNlPFQ+IHtcblxuICAgIGJvb2xlYW4gYXV0aGVudGljYXRlKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSB0aHJvd3MgU1FMRXhjZXB0aW9uO1xuICAgIHZvaWQgcmVnaXN0ZXIoVCB1c2VyKTtcbiAgICB2b2lkIGxvZ291dCgpO1xuICAgIGJvb2xlYW4gaXNBdXRoZW50aWNhdGVkKCk7XG4gICAgVCBnZXRDdXJyZW50VXNlcigpO1xufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3V0aWxzL05hdmlnYXRpb25VdGlscy5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnV0aWxzO1xuXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5cbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuXG5wdWJsaWMgY2xhc3MgTmF2aWdhdGlvblV0aWxzIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBuYXZpZ2F0ZVRvKFN0YWdlIHN0YWdlLCBTdHJpbmcgZnhtbFBhdGgsIFN0cmluZyB0aXRsZSkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoTmF2aWdhdGlvblV0aWxzLmNsYXNzLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC91dGlscy9Mb2FkRXh0ZXJuYWxJbWFnZS5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnV0aWxzO1xuXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2U7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlVmlldztcblxuaW1wb3J0IGphdmEuaW8uRmlsZTtcblxucHVibGljIGNsYXNzIExvYWRFeHRlcm5hbEltYWdlIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgSW1hZ2UgbG9hZEV4dGVybmFsSW1hZ2UoU3RyaW5nIHBhdGgpIHtcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ3VycmVudCBkaXJlY3Rvcnk6IFwiICsgU3lzdGVtLmdldFByb3BlcnR5KFwidXNlci5kaXJcIikpO1xuICAgICAgICBTdHJpbmcgaW1hZ2VQYXRoID0gU3lzdGVtLmdldFByb3BlcnR5KFwidXNlci5kaXJcIikgKyBcIi8uLi9zd2FwaWZ5LWRldi9wdWJsaWMvXCIgKyBwYXRoO1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJMb29raW5nIGZvciBpbWFnZSBhdDogXCIgKyBpbWFnZVBhdGgpO1xuICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShpbWFnZVBhdGgpO1xuICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbWFnZShmaWxlLnRvVVJJKCkudG9TdHJpbmcoKSk7IC8vIENvbnZlcnQgdG8gVVJJXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJJbWFnZSBub3QgZm91bmQ6IFwiICsgaW1hZ2VQYXRoKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBIYW5kbGUgbWlzc2luZyBpbWFnZSBjYXNlXG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2NvbnRyb2xsZXJzL1RvcGJhckNvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVMb2dvdXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBEw6ljb25uZWN0ZXIgbCd1dGlsaXNhdGV1clxuICAgICAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XG5cbiAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRpcmVjdGVtZW50IMOgIHBhcnRpciBkdSBzeXN0w6htZSBkZSBmaWNoaWVyc1xuICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvQXV0aGVudGlmaWNhdGlvbi9sb2dpbi5meG1sXCIpO1xuXG4gICAgICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkZpY2hpZXIgZGUgY29ubmV4aW9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIodXJsKTtcbiAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHNlYXJjaEZpZWxkLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRmljaGllciBkZSBjb25uZXhpb24gbm9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKFwiRmljaGllciBGWE1MIGRlIGNvbm5leGlvbiBub24gdHJvdXbDqVwiKTtcbiAgICAgICAgICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC91dGlscy9XZWJjYW1DYXB0dXJlLmphdmFcbi4uLlxuXG4gICAgLyoqXG4gICAgICogRMOpbWFycmUgbGEgY2FwdHVyZSB2aWTDqW8uXG4gICAgICovXG4gICAgcHVibGljIHZvaWQgc3RhcnRDYW1lcmEoKSB7XG4gICAgICAgIGlmIChydW5uaW5nLmdldCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGEgd2ViY2FtXG4gICAgICAgICAgICB3ZWJjYW0gPSBXZWJjYW0uZ2V0RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKHdlYmNhbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oXCJBdWN1bmUgd2ViY2FtIGTDqXRlY3TDqWVcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFbDqXJpZmllciBzaSBsYSB3ZWJjYW0gZXN0IGTDqWrDoCBvdXZlcnRlIGV0IGxhIGZlcm1lciBzaSBuw6ljZXNzYWlyZVxuICAgICAgICAgICAgaWYgKHdlYmNhbS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgIHdlYmNhbS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEw6lmaW5pciBsYSByw6lzb2x1dGlvblxuICAgICAgICAgICAgd2ViY2FtLnNldFZpZXdTaXplKFdlYmNhbVJlc29sdXRpb24uVkdBLmdldFNpemUoKSk7XG5cbiAgICAgICAgICAgIC8vIE91dnJpciBsYSB3ZWJjYW1cbiAgICAgICAgICAgIHdlYmNhbS5vcGVuKCk7XG5cbiAgICAgICAgICAgIC8vIETDqW1hcnJlciBsYSBjYXB0dXJlXG4gICAgICAgICAgICBydW5uaW5nLnNldCh0cnVlKTtcbiAgICAgICAgICAgIHVwZGF0ZUltYWdlVmlldygpO1xuXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgcnVubmluZy5zZXQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0IMOgIGpvdXIgbCdJbWFnZVZpZXcgYXZlYyBsJ2ltYWdlIGRlIGxhIHdlYmNhbS5cbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgdXBkYXRlSW1hZ2VWaWV3KCkge1xuICAgICAgICBUYXNrPFZvaWQ+IHRhc2sgPSBuZXcgVGFzazw+KCkge1xuICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICBwcm90ZWN0ZWQgVm9pZCBjYWxsKCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChydW5uaW5nLmdldCgpICYmIHdlYmNhbSAhPSBudWxsICYmIHdlYmNhbS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FwdHVyZXIgbCdpbWFnZSBhY3R1ZWxsZSBkZSBsYSB3ZWJjYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIEJ1ZmZlcmVkSW1hZ2UgYnVmZmVyZWRJbWFnZSA9IHdlYmNhbS5nZXRJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyZWRJbWFnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbCdJbWFnZVZpZXcgc3VyIGxlIHRocmVhZCBKYXZhRlhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybS5ydW5MYXRlcigoKSAtPiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltYWdlIGltYWdlID0gU3dpbmdGWFV0aWxzLnRvRlhJbWFnZShidWZmZXJlZEltYWdlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VQcm9wZXJ0eS5zZXQoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbmRyZSB1biBwZXUgYXZhbnQgbGEgcHJvY2hhaW5lIGNhcHR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIFRocmVhZC5zbGVlcCgzMyk7IC8vIH4zMCBGUFNcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmcuZ2V0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvQ2xpZW50TmF2YmFyQ29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUxvZ291dChBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XG4gICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9waTI0MjUvc3dhcHB5X2phdmFmeC9BdXRoZW50aWZpY2F0aW9uL2xvZ2luLmZ4bWxcIik7XG4gICAgICAgICAgICBQYXJlbnQgcm9vdCA9IG5ldyBGWE1MTG9hZGVyKGZpbGUudG9VUkkoKS50b1VSTCgpKS5sb2FkKCk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgKChqYXZhZnguc2NlbmUuTm9kZSkgZXZlbnQuZ2V0U291cmNlKCkpLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShuZXcgU2NlbmUocm9vdCkpO1xuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRQYWdlKFN0cmluZyBmeG1sUGF0aCwgQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFwic3JjL21haW4vcmVzb3VyY2VzXCIgKyBmeG1sUGF0aCk7XG4gICAgICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbmV3IEZYTUxMb2FkZXIoZmlsZS50b1VSSSgpLnRvVVJMKCkpLmxvYWQoKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgKChqYXZhZnguc2NlbmUuTm9kZSkgZXZlbnQuZ2V0U291cmNlKCkpLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUobmV3IFNjZW5lKHJvb3QpKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG59Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0ZhY2VSZWNvZ25pdGlvblNlcnZpY2UuamF2YVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBBdXRoZW50aWZpZSB1biB1dGlsaXNhdGV1ciBwYXIgcmVjb25uYWlzc2FuY2UgZmFjaWFsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbWFnZUZpbGUgTGUgZmljaGllciBpbWFnZSBjb250ZW5hbnQgbGUgdmlzYWdlXG4gICAgICogQHJldHVybiBMJ2lkZW50aWZpYW50IGRlIGwndXRpbGlzYXRldXIgcmVjb25udSwgb3UgbnVsbCBzaSBub24gcmVjb25udVxuICAgICAqL1xuICAgIHB1YmxpYyBTdHJpbmcgYXV0aGVudGljYXRlRmFjZShGaWxlIGltYWdlRmlsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ29udmVydGlyIGwnaW1hZ2UgZW4gQmFzZTY0XG4gICAgICAgICAgICBieXRlW10gZmlsZUNvbnRlbnQgPSBGaWxlcy5yZWFkQWxsQnl0ZXMoaW1hZ2VGaWxlLnRvUGF0aCgpKTtcbiAgICAgICAgICAgIFN0cmluZyBlbmNvZGVkSW1hZ2UgPSBCYXNlNjQuZ2V0RW5jb2RlcigpLmVuY29kZVRvU3RyaW5nKGZpbGVDb250ZW50KTtcblxuICAgICAgICAgICAgLy8gUHLDqXBhcmVyIGxlcyBkb25uw6llcyBKU09OXG4gICAgICAgICAgICBKU09OT2JqZWN0IGpzb25EYXRhID0gbmV3IEpTT05PYmplY3QoKTtcbiAgICAgICAgICAgIGpzb25EYXRhLnB1dChcImltYWdlXCIsIGVuY29kZWRJbWFnZSk7XG5cbiAgICAgICAgICAgIC8vIEVudm95ZXIgbGEgcmVxdcOqdGUgw6AgbCdBUElcbiAgICAgICAgICAgIFN0cmluZyByZXNwb25zZSA9IHNlbmRQb3N0UmVxdWVzdChBUElfQkFTRV9VUkwgKyBcIi9hdXRoZW50aWNhdGVcIiwganNvbkRhdGEudG9TdHJpbmcoKSk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvSVNlcnZpY2UuamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5zZXJ2aWNlcztcblxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxucHVibGljIGludGVyZmFjZSBJU2VydmljZTxUPlxue1xuICAgIHZvaWQgYWpvdXRlciAoVCB0KSB0aHJvd3MgU1FMRXhjZXB0aW9uO1xuICAgIHZvaWQgc3VwcHJpbWVyIChUIHQpIHRocm93cyBTUUxFeGNlcHRpb247XG4gICAgdm9pZCBtb2RpZmllciAoVCB0KSB0aHJvd3MgU1FMRXhjZXB0aW9uO1xuICAgIExpc3Q8VD4gYWZmaWNoZXIoKSB0aHJvd3MgU1FMRXhjZXB0aW9uO1xuXG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvQWRtaW5TZXJ2aWNlLmphdmFcbi4uLlxuXG4gICAgICAgICAgICBpZiAocmVzdWx0U2V0LmdldEludCgxKSA9PSAwKSB7IC8vIEF1Y3VuIHN1cGVyIGFkbWluIHRyb3V2w6lcbiAgICAgICAgICAgICAgICBBcmdvbjIgYXJnb24yID0gQXJnb24yRmFjdG9yeS5jcmVhdGUoQXJnb24yRmFjdG9yeS5BcmdvbjJUeXBlcy5BUkdPTjJpZCk7XG5cblxuICAgICAgICAgICAgICAgIFN0cmluZyBoYXNoZWRQYXNzd29yZCA9IGFyZ29uMi5oYXNoKDEwLCA2NTUzNiwgMSwgXCJzdXBlcjEyM1wiKTtcbiAgICAgICAgICAgICAgICBTdHJpbmcgaW5zZXJ0UXVlcnkgPSBcIklOU0VSVCBJTlRPIHVzZXIgKG5vbSwgcHJlbm9tLCBlbWFpbCwgcGFzc3dvcmQsIGNyZWF0ZWRfYXQsIHJvbGUgLCBpc192ZXJpZmllZCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/KVwiO1xuXG4gICAgICAgICAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgaW5zZXJ0U3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChpbnNlcnRRdWVyeSk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRTdHJpbmcoMSwgXCJhbGF5YVwiKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRTdG10LnNldFN0cmluZygyLCBcInlvdXNzZWZcIik7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRTdHJpbmcoMywgXCJhZG1pbkBleGVtcGxlLmNvbVwiKTtcbiAgICAgICAgICAgICAgICAvLyBIYWNoYWdlIGR1IG1vdCBkZSBwYXNzZVxuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDQsIGhhc2hlZFBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRTdG10LnNldFRpbWVzdGFtcCg1LCBUaW1lc3RhbXAudmEuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMbkExSzhZenV5TmM3cm93RURlU1hOIn19XSwicmVzcG9uc2VfdGV4dCI6IlJlY2hlcmNob25zIHMnaWwgZXhpc3RlIGTDqWrDoCB1bmUgZW50aXTDqSBSZXNlcnZlckV2ZW50OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVjM2Y5ZTZlLTExMGEtNDg1MS04YThjLWFmNDAxYjY4NDNkYSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTNXcjdieVdwTkd6MWtkekFvS24xMmsiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xcbmltcG9ydCBzZXJ2aWNlcy5TZXJ2aWNlUGVyc29ubmU7XFxuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XFxuXFxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcXG5cXG5wdWJsaWMgY2xhc3MgTWFpbiB7XFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XFxuICAgICAgICBQZXJzb25uZSBwZXJzb25uZSA9IG5ldyBQZXJzb25uZSgxLFxcXCJoZWxsb1xcXCIsXFxcIjNhNjNcXFwiLDE3KTtcXG4gICAgICAgIFNlcnZpY2VQZXJzb25uZSBzZXJ2aWNlUGVyc29ubmUgPSBuZXcgU2VydmljZVBlcnNvbm5lKCk7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihzZXJ2aWNlUGVyc29ubmUuYWZmaWNoZXIoKSk7XFxuICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG59XFxuXCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xcblxcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xcblxcbnB1YmxpYyBjbGFzcyBNYWluIHtcXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcXG4gICAgICAgIC8vIFRlc3QgZGVzIGVudGl0XFx1MDBlOXNcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ29ubmV4aW9uIFxcdTAwZTAgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkNvbm5leGlvbiBcXHUwMGUwIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllcyBcXHUwMGU5dGFibGllXFxcIik7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXRcXHUwMGU5c1xcbiAgICAgICAgICAgIHRlc3RFbnRpdGllcygpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkVycmV1cjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIFxcbiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHRlc3RFbnRpdGllcygpIHtcXG4gICAgICAgIC8vIENyXFx1MDBlOWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxcbiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcXG4gICAgICAgIHVzZXIuc2V0Tm9tKFxcXCJEb2VcXFwiKTtcXG4gICAgICAgIHVzZXIuc2V0UHJlbm9tKFxcXCJKb2huXFxcIik7XFxuICAgICAgICB1c2VyLnNldEVtYWlsKFxcXCJqb2huLmRvZUBleGFtcGxlLmNvbVxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJVdGlsaXNhdGV1ciBjclxcdTAwZTlcXHUwMGU5OiBcXFwiICsgdXNlcik7XFxuICAgICAgICBcXG4gICAgICAgIC8vIENyXFx1MDBlOWF0aW9uIGQndW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50IGRlIHRlc3RcXG4gICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XFxuICAgICAgICBldmVudC5zZXRUaXRsZShcXFwiXFx1MDBjOXZcXHUwMGU5bmVtZW50IGRlIHRlc3RcXFwiKTtcXG4gICAgICAgIGV2ZW50LnNldERlc2NyaXB0aW9uKFxcXCJEZXNjcmlwdGlvbiBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxcIik7XFxuICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KG5ldyBEYXRlKCkpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9maW4obmV3IERhdGUoKSk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnQgY3JcXHUwMGU5XFx1MDBlOTogXFxcIiArIGV2ZW50KTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXFxuICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XFxuICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTk6IFxcXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gVGVzdCBkZSByXFx1MDBlOXNlcnZhdGlvbiBkJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XFxuICAgICAgICByZXNlcnZhdGlvbi5zZXRVc2VyKHVzZXIpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0RXZlbnQoZXZlbnQpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiUlxcdTAwZTlzZXJ2YXRpb24gY3JcXHUwMGU5XFx1MDBlOWU6IFxcXCIgKyByZXNlcnZhdGlvbik7XFxuICAgIH1cXG59XFxuXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIxfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50IHF1ZSBqJ2FpIHVuZSBtZWlsbGV1cmUgY29tcHLDqWhlbnNpb24gZHUgcHJvamV0LCBqZSB2YWlzIMOpdGFibGlyIHVuIHBsYW4gcG91ciBlZmZlY3R1ZXIgbGVzIG1vZGlmaWNhdGlvbnMgZGVtYW5kw6llcy5cblxuIyMgUGxhbiBkw6l0YWlsbMOpXG5cbjEuICoqU3VwcHJpbWVyIHRvdXQgY2UgcXVpIGNvbmNlcm5lIGwnZW50aXTDqSBQZXJzb25uZSBkYW5zIE1haW4uamF2YSoqXG4gICAtIFN1cHByaW1lciBsZXMgaW1wb3J0cyBsacOpcyDDoCBQZXJzb25uZVxuICAgLSBTdXBwcmltZXIgbGUgY29kZSB1dGlsaXNhbnQgUGVyc29ubmUgZXQgU2VydmljZVBlcnNvbm5lXG5cbjIuICoqQWpvdXRlciBsZXMgZW50aXTDqXMgbsOpY2Vzc2FpcmVzIGRhbnMgTWFpbi5qYXZhKipcbiAgIC0gQWpvdXRlciBsZXMgaW1wb3J0cyBwb3VyIFVzZXIsIFVzZXJTZXNzaW9uLCBFdmVudCBldCBSZXNlcnZlckV2ZW50XG4gICAtIEFqb3V0ZXIgZHUgY29kZSBkZSB0ZXN0IHBvdXIgY2VzIGVudGl0w6lzXG5cbjMuICoqQ3LDqWVyIGwnZW50aXTDqSBVc2VyU2Vzc2lvbioqIChlbGxlIG4nZXhpc3RlIHBhcyBlbmNvcmUsIG1haXMgaWwgeSBhIEF1dGhTZXJ2aWNlSW1wbCBxdWkgam91ZSB1biByw7RsZSBzaW1pbGFpcmUpXG5cbjQuICoqQ3LDqWVyIGwnZW50aXTDqSBSZXNlcnZlckV2ZW50KiogKGVsbGUgbidleGlzdGUgcGFzIGVuY29yZSlcblxuQ29tbWVuw6dvbnMgcGFyIG1vZGlmaWVyIGxlIGZpY2hpZXIgTWFpbi5qYXZhOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9FdmVudC5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuXG5pbXBvcnQgamF2YS51dGlsLkRhdGU7XG5cbnB1YmxpYyBjbGFzcyBFdmVudCB7XG5cbiAgICBwcml2YXRlIGludCBpZDtcbiAgICBwcml2YXRlIFVzZXIgb3JnbmlzZXI7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdGl0bGU7XG4gICAgcHJpdmF0ZSBTdHJpbmcgZGVzY3JpcHRpb247XG4gICAgcHJpdmF0ZSBEYXRlIGRhdGVfZGVidXQ7XG4gICAgcHJpdmF0ZSBEYXRlIGRhdGVfZmluO1xuICAgIHByaXZhdGUgaW50IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHVzO1xuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlO1xuXG4gICAgcHVibGljIEV2ZW50KGludCBpZCwgVXNlciBvcmduaXNlciwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgZGVzY3JpcHRpb24sIERhdGUgZGF0ZV9kZWJ1dCwgRGF0ZSBkYXRlX2ZpbiwgaW50IG1heF9wYXJ0aWNpcGFudHMsIFN0cmluZyBzdGF0dXMsIFN0cmluZyBpbWFnZSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMub3JnbmlzZXIgPSBvcmduaXNlcjtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZGF0ZV9kZWJ1dCA9IGRhdGVfZGVidXQ7XG4gICAgICAgIHRoaXMuZGF0ZV9maW4gPSBkYXRlX2ZpbjtcbiAgICAgICAgdGhpcy5tYXhfcGFydGljaXBhbnRzID0gbWF4X3BhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgRXZlbnQoVXNlciBvcmduaXNlciwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgZGVzY3JpcHRpb24sIERhdGUgZGF0ZV9kZWJ1dCwgRGF0ZSBkYXRlX2ZpbiwgaW50IG1heF9wYXJ0aWNpcGFudHMsIFN0cmluZyBzdGF0dXMsIFN0cmluZyBpbWFnZSkge1xuICAgICAgICB0aGlzLm9yZ25pc2VyID0gb3JnbmlzZXI7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIEV2ZW50KCkge1xuXG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyIGdldE9yZ25pc2VyKCkge1xuICAgICAgICByZXR1cm4gb3JnbmlzZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0T3JnbmlzZXIoVXNlciBvcmduaXNlcikge1xuICAgICAgICB0aGlzLm9yZ25pc2VyID0gb3JnbmlzZXI7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFRpdGxlKFN0cmluZyB0aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcHVibGljIERhdGUgZ2V0RGF0ZV9kZWJ1dCgpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVfZGVidXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9kZWJ1dChEYXRlIGRhdGVfZGVidXQpIHtcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlX2ZpbigpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVfZmluO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldERhdGVfZmluKERhdGUgZGF0ZV9maW4pIHtcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3BhcnRpY2lwYW50cygpIHtcbiAgICAgICAgcmV0dXJuIG1heF9wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0TWF4X3BhcnRpY2lwYW50cyhpbnQgbWF4X3BhcnRpY2lwYW50cykge1xuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1cyhTdHJpbmcgc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2UoKSB7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZShTdHJpbmcgaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIkV2ZW50e1wiICtcbiAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgICAgICAgICAgICAgIFwiLCBvcmduaXNlcj1cIiArIG9yZ25pc2VyICtcbiAgICAgICAgICAgICAgICBcIiwgdGl0bGU9J1wiICsgdGl0bGUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGRlc2NyaXB0aW9uPSdcIiArIGRlc2NyaXB0aW9uICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBkYXRlX2RlYnV0PVwiICsgZGF0ZV9kZWJ1dCArXG4gICAgICAgICAgICAgICAgXCIsIGRhdGVfZmluPVwiICsgZGF0ZV9maW4gK1xuICAgICAgICAgICAgICAgIFwiLCBtYXhfcGFydGljaXBhbnRzPVwiICsgbWF4X3BhcnRpY2lwYW50cyArXG4gICAgICAgICAgICAgICAgXCIsIHN0YXR1cz0nXCIgKyBzdGF0dXMgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGltYWdlPSdcIiArIGltYWdlICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgICd9JztcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvQWRkQWRtaW5TZXJ2aWNlLmphdmFcbi4uLlxuICAgICAgICBcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3NlLCB0ZWxlcGhvbmUsIGlzX3ZlcmlmaWVkLCByb2xlLCBjcmVhdGVkX2F0LCBpbWFnZVVybCkgXCIgK1xuICAgICAgICAgICAgICAgIFwiVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCAxLCA/LCA/LCA/KVwiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnksIFByZXBhcmVkU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIHVzZXIuZ2V0Tm9tKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMiwgdXNlci5nZXRQcmVub20oKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygzLCB1c2VyLmdldEVtYWlsKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNCwgdXNlci5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDUsIHVzZXIuZ2V0QWRyZXNzZSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDYsIHVzZXIuZ2V0VGVsZXBob25lKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNywgXCJBZG1pbmlzdHJhdGV1clwiKTsgLy8gVXRpbGlzZXIgZXhhY3RlbWVudCBcIkFkbWluaXN0cmF0ZXVyXCJcbiAgICAgICAgICAgIC8vIETDqWZpbmlyIGxhIGRhdGUgZGUgY3LDqWF0aW9uIHNpIGVsbGUgbidlc3QgcGFzIGTDqWrDoCBkw6lmaW5pZVxuICAgICAgICAgICAgaWYgKHVzZXIuZ2V0Q3JlYXRlZF9hdCgpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQobmV3IGphdmEuc3FsLlRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RtdC5zZXRUaW1lc3RhbXAoOCwgdXNlci5nZXRDcmVhdGVkX2F0KCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoOSwgdXNlci5nZXRJbWFnZVVybCgpKTtcblxuICAgICAgICAgICAgLy8gTG9nIHBvdXIgZMOpYm9ndWVyXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJUZW50YXRpdmUgZCdham91dCBkJ3VuIGFkbWluaXN0cmF0ZXVyIGF2ZWMgbGVzIGRvbm7DqWVzIHN1aXZhbnRlcyA6XCIpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTm9tOiBcIiArIHVzZXIuZ2V0Tm9tKCkpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRW1haWw6IFwiICsgdXNlci5nZXRFbWFpbCgpKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlLDtGxlOiBBZG1pbmlzdHJhdGV1clwiKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzX3ZlcmlmaWVkOiAxXCIpO1xuXG4gICAgICAgICAgICBpbnQgcm93c0FmZmVjdGVkID0gc3RtdC5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJOb21icmUgZGUgbGlnbmVzIGFmZmVjdMOpZXMgOiBcIiArIHJvd3NBZmZlY3RlZCk7XG5cbiAgICAgICAgICAgIC8vIFbDqXJpZmllciBsZSByw7RsZSBhcHLDqHMgbCdpbnNlcnRpb25cbiAgICAgICAgICAgIGlmIChyb3dzQWZmZWN0ZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgZ2VuZXJhdGVkS2V5cyA9IHN0bXQuZ2V0R2VuZXJhdGVkS2V5cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZW5lcmF0ZWRLZXlzLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50IHVzZXJJZCA9IGdlbmVyYXRlZEtleXMuZ2V0SW50KDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGNoZWNrUm9sZVF1ZXJ5ID0gXCJTRUxFQ1Qgcm9sZSwgaXNfdmVyaWZpZWQgRlJPTSB1c2VyIFdIRVJFIGlkID0gP1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBjaGVja1N0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQoY2hlY2tSb2xlUXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tTdG10LnNldEludCgxLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IGNoZWNrU3RtdC5leGVjdXRlUXVlcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBhY3R1YWxSb2xlID0gcnMuZ2V0U3RyaW5nKFwicm9sZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbGVhbiBpc1ZlcmlmaWVkID0gcnMuZ2V0Qm9vbGVhbihcImlzX3ZlcmlmaWVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSw7RsZSBlbnJlZ2lzdHLDqSBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMgOiBcIiArIGFjdHVhbFJvbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc192ZXJpZmllZCBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMgOiBcIiArIGlzVmVyaWZpZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgY2hlY2tFbWFpbEV4aXN0cyhTdHJpbmcgZW1haWwpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIlNFTEVDVCBlbWFpbCBGUk9NIHVzZXIgV0hFUkUgZW1haWwgPSA/XCI7XG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpO1xuICAgICAgICBzdG10LnNldFN0cmluZygxLCBlbWFpbCk7XG4gICAgICAgIFJlc3VsdFNldCBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KCk7XG5cbiAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiTCdlbWFpbCBlc3QgZMOpasOgIHV0aWxpc8OpICFcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGNoZWNrUGhvbmVFeGlzdHMoU3RyaW5nIHRlbGVwaG9uZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIHRlbGVwaG9uZSBGUk9NIHVzZXIgV0hFUkUgdGVsZXBob25lID0gP1wiO1xuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBzdG10ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KTtcbiAgICAgICAgc3RtdC5zZXRTdHJpbmcoMSwgdGVsZXBob25lKTtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoKTtcblxuICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJMZSB0w6lsw6lwaG9uZSBlc3QgZMOpasOgIHV0aWxpc8OpICFcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvUmVnaXN0ZXJTZXJ2aWNlLmphdmFcbi4uLlxuXG4gICAgcHVibGljIHZvaWQgcmVnaXN0ZXIoVXNlciB1c2VyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3NlLCB0ZWxlcGhvbmUsIGlzX3ZlcmlmaWVkLCBjcmVhdGVkX2F0LCBpbWFnZVVybCkgXCIgK1xuICAgICAgICAgICAgICAgIFwiVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVwiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygxLCB1c2VyLmdldE5vbSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDIsIHVzZXIuZ2V0UHJlbm9tKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMywgdXNlci5nZXRFbWFpbCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDQsIHVzZXIuZ2V0UGFzc3dvcmQoKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZyg1LCB1c2VyLmdldEFkcmVzc2UoKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZyg2LCB1c2VyLmdldFRlbGVwaG9uZSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0Qm9vbGVhbig3LCB1c2VyLmlzVmVyaWZpZWQoKSk7XG4gICAgICAgICAgICBzdG10LnNldFRpbWVzdGFtcCg4LCB1c2VyLmdldENyZWF0ZWRfYXQoKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZyg5LCB1c2VyLmdldEltYWdlVXJsKCkpO1xuICAgICAgICAgICAgc3RtdC5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIFN0cmluZyBjaGVja0VtYWlsRXhpc3RzKFN0cmluZyBlbWFpbCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIGVtYWlsIEZST00gdXNlciBXSEVSRSBlbWFpbCA9ID9cIjtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSk7XG4gICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoKTtcblxuICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJMJ2VtYWlsIGVzdCBkw6lqw6AgdXRpbGlzw6kgIVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgY2hlY2tQaG9uZUV4aXN0cyhTdHJpbmcgdGVsZXBob25lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgdGVsZXBob25lIEZST00gdXNlciBXSEVSRSB0ZWxlcGhvbmUgPSA/XCI7XG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpO1xuICAgICAgICBzdG10LnNldFN0cmluZygxLCB0ZWxlcGhvbmUpO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeSgpO1xuXG4gICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkxlIHTDqWzDqXBob25lIGVzdCBkw6lqw6AgdXRpbGlzw6kgIVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFLDqWN1cMOocmUgbCdJRCBkJ3VuIHV0aWxpc2F0ZXVyIMOgIHBhcnRpciBkZSBzb24gZW1haWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW1haWwgTCdlbWFpbCBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgICogQHJldHVybiBMJ0lEIGRlIGwndXRpbGlzYXRldXJcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXG4gICAgICovXG4gICAgcHVibGljIGludCBnZXRVc2VySWRCeUVtYWlsKFN0cmluZyBlbWFpbCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIGlkIEZST00gdXNlciBXSEVSRSBlbWFpbCA9ID9cIjtcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdG10ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMSwgZW1haWwpO1xuICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoKTtcbiAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnMuZ2V0SW50KFwiaWRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTUUxFeGNlcHRpb24oXCJVdGlsaXNhdGV1ciBub24gdHJvdXbDqSBhdmVjIGNldCBlbWFpbDogXCIgKyBlbWFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gMS4gU3VwcHJpbWVyIGxlcyBkb25uw6llcyBmYWNpYWxlcyBkZSBsJ0FQSVxuICAgICAgICAgICAgRmFjZVJlY29nbml0aW9uU2VydmljZSBmYWNlU2VydmljZSA9IG5ldyBGYWNlUmVjb2duaXRpb25TZXJ2aWNlKCk7XG4gICAgICAgICAgICBib29sZWFuIGZhY2VEZWxldGVkID0gZmFjZVNlcnZpY2UuZGVsZXRlRmFjZShTdHJpbmcudmFsdWVPZih1c2VySWQpKTtcblxuICAgICAgICAgICAgaWYgKCFmYWNlRGVsZXRlZCkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkF2ZXJ0aXNzZW1lbnQ6IEltcG9zc2libGUgZGUgc3VwcHJpbWVyIGxlcyBkb25uw6llcyBmYWNpYWxlcyBwb3VyIGwndXRpbGlzYXRldXIgXCIgKyB1c2VySWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAyLiBTdXBwcmltZXIgbCd1dGlsaXNhdGV1ciBkZSBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIkRFTEVURSBGUk9NIHVzZXIgV0hFUkUgaWQgPSA/XCI7XG4gICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgc3RtdC5zZXRJbnQoMSwgdXNlcklkKTtcbiAgICAgICAgICAgICAgICBpbnQgcm93c0FmZmVjdGVkID0gc3RtdC5leGVjdXRlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IChyb3dzQWZmZWN0ZWQgPiAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU1FMRXhjZXB0aW9uKFwiRXJyZXVyIGxvcnMgZGUgbGEgc3VwcHJlc3Npb24gZHUgY29tcHRlOiBcIiArIGUuZ2V0TWVzc2FnZSgpLCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxufS4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9GYWNlUmVjb2duaXRpb25TZXJ2aWNlLmphdmFcbi4uLlxuXG4gICAgLyoqXG4gICAgICogVsOpcmlmaWUgc2kgdW4gdmlzYWdlIGVzdCBkw6lqw6AgZW5yZWdpc3Ryw6kgZGFucyBsZSBzeXN0w6htZVxuICAgICAqIEBwYXJhbSBuZXdGYWNlSW1hZ2UgTGUgZmljaGllciBpbWFnZSBkdSBub3V2ZWF1IHZpc2FnZVxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSBsZSB2aXNhZ2UgZXhpc3RlIGTDqWrDoCwgZmFsc2Ugc2lub25cbiAgICAgKi9cbiAgICBwdWJsaWMgYm9vbGVhbiBpc0ZhY2VBbHJlYWR5UmVnaXN0ZXJlZChGaWxlIG5ld0ZhY2VJbWFnZSkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlbDqXJpZmljYXRpb24gc2kgbGUgdmlzYWdlIGV4aXN0ZSBkw6lqw6AuLi5cIik7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJGaWNoaWVyIGltYWdlOiBcIiArIG5ld0ZhY2VJbWFnZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG5cbiAgICAgICAgICAgIC8vIFbDqXJpZmllciBzaSBsZSBmaWNoaWVyIGV4aXN0ZVxuICAgICAgICAgICAgaWYgKCFuZXdGYWNlSW1hZ2UuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFUlJFVVI6IExlIGZpY2hpZXIgaW1hZ2UgbidleGlzdGUgcGFzIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvQ2xpZW50Q29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cFNlYXJjaCgpIHtcbiAgICAgICAgaWYgKHNlYXJjaEZpZWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIENyw6llciB1bmUgbGlzdGUgZmlsdHLDqWVcbiAgICAgICAgICAgIEZpbHRlcmVkTGlzdDxVc2VyPiBmaWx0ZXJlZERhdGEgPSBuZXcgRmlsdGVyZWRMaXN0PD4oY2xpZW50TGlzdCwgcCAtPiB0cnVlKTtcblxuICAgICAgICAgICAgLy8gQWpvdXRlciB1biDDqWNvdXRldXIgcG91ciBsZSBjaGFtcCBkZSByZWNoZXJjaGVcbiAgICAgICAgICAgIHNlYXJjaEZpZWxkLnRleHRQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnNlcnZhYmxlLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIC0+IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZERhdGEuc2V0UHJlZGljYXRlKHVzZXIgLT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaSBsZSBjaGFtcCBkZSByZWNoZXJjaGUgZXN0IHZpZGUsIGFmZmljaGVyIHRvdXMgbGVzIHV0aWxpc2F0ZXVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBuZXdWYWx1ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvQWRtaW5Db250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSBPYnNlcnZhYmxlTGlzdDxVc2VyPiBhZG1pbkxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTtcbiAgICBwcml2YXRlIGZpbmFsIENvbm5lY3Rpb24gY29ubmVjdGlvbiA9IE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBtYWluTGF5b3V0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRXaWR0aChzdGFnZS5nZXRXaWR0aCgpICsgMC4xKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFdpZHRoKHN0YWdlLmdldFdpZHRoKCkpO1xuXG5cbiAgICAgICAgICAgIGZvciAoTm9kZSBub2RlIDogbWFpbkxheW91dC5sb29rdXBBbGwoXCJUZXh0RmllbGRcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHRGaWVsZCAmJiAoKFRleHRGaWVsZCkgbm9kZSkuZ2V0UHJvbXB0VGV4dCgpICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgKChUZXh0RmllbGQpIG5vZGUpLmdldFByb21wdFRleHQoKS5jb250YWlucyhcIlJlY2hlcmNoZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoRmllbGQgPSAoVGV4dEZpZWxkKSBub2RlO1xuICAgICAgICAgICAgICAgICAgICBzZXR1cFNlYXJjaCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBTZWFyY2goKSB7XG4gICAgICAgIGlmIChzZWFyY2hGaWVsZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDcsOpZXIgdW5lIGxpc3RlIGZpbHRyw6llXG4gICAgICAgICAgICBGaWx0ZXJlZExpc3Q8VXNlcj4gZmlsdGVyZWREYXRhID0gbmV3IEZpbHRlcmVkTGlzdDw+KGFkbWluTGlzdCwgcCAtPiB0cnVlKTtcblxuICAgICAgICAgICAgLy8gQWpvdXRlciB1biDDqWNvdXRldXIgcG91ciBsZSBjaGFtcCBkZSByZWNoZXJjaGVcbiAgICAgICAgICAgIHNlYXJjaEZpZWxkLnRleHRQcm9wZXJ0eSgpLmFkZExpc3RlbmVyKChvYnNlcnZhYmxlLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIC0+IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZERhdGEuc2V0UHJlZGljYXRlKHVzZXIgLT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaSBsZSBjaGFtcCBkZSByZWNoZXJjaGUgZXN0IHZpZGUsIGFmZmljaGVyIHRvdXMgbGVzIHV0aWxpc2F0ZXVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBuZXdWYWx1ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZEFkbWluUGFnZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRpcmVjdGVtZW50IMOgIHBhcnRpciBkdSBzeXN0w6htZSBkZSBmaWNoaWVyc1xuICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2FkZEFkbWluLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRmljaGllciBkJ2Fqb3V0IGQnYWRtaW4gdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcblxuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gbmV3IFN0YWdlKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCJBam91dGVyIHVuIEFkbWluaXN0cmF0ZXVyXCIpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKG5ldyBTY2VuZShyb290KSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJGaWNoaWVyIGQnYWpvdXQgZCdhZG1pbiBub24gdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSU9FeGNlcHRpb24oXCJGaWNoaWVyIEZYTUwgZCdham91dCBkJ2FkbWluIG5vbiB0cm91dsOpXCIpO1xuICAgICAgICAgICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3V0aWxzL015RGF0YWJhc2UuamF2YVxuLi4uXG5cbiAgICBwdWJsaWMgQ29ubmVjdGlvbiBnZXRDb25uZWN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGxhIGNvbm5leGlvbiBlc3QgZmVybcOpZSBvdSBpbnZhbGlkZVxuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24gPT0gbnVsbCB8fCBjb25uZWN0aW9uLmlzQ2xvc2VkKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBSw6l0YWJsaXIgbGEgY29ubmV4aW9uXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IERyaXZlck1hbmFnZXIuZ2V0Q29ubmVjdGlvbihVUmwsIFVTRVJOQU1FLCBQQVNTV09SRCk7XG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUmVjb25uZWN0ZWQgdG8gZGF0YWJhc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgcsOpdGFibGlyIGxhIGNvbm5leGlvblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKFVSbCwgVVNFUk5BTUUsIFBBU1NXT1JEKTtcbiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSZWNvbm5lY3RlZCB0byBkYXRhYmFzZSBhZnRlciBlcnJvclwiKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkZhaWxlZCB0byByZWNvbm5lY3Q6IFwiICsgZXguZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvQWRkQWRtaW5Db250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgICAgICBQbGF0Zm9ybS5ydW5MYXRlcigoKSAtPiB7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgbWFpbkxheW91dC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0V2lkdGgoc3RhZ2UuZ2V0V2lkdGgoKSArIDAuMSk7XG4gICAgICAgICAgICBzdGFnZS5zZXRXaWR0aChzdGFnZS5nZXRXaWR0aCgpKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBQbGF0Zm9ybS5ydW5MYXRlcigoKSAtPiB7XG4gICAgICAgICAgICBmb3IgKE5vZGUgbm9kZSA6IG1haW5MYXlvdXQubG9va3VwQWxsKFwiQnV0dG9uXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgQnV0dG9uIGJ1dHRvbiA9IChCdXR0b24pIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uZ2V0VGV4dCgpLmVxdWFscyhcIkFubnVsZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRPbkFjdGlvbihldmVudCAtPiBoYW5kbGVDYW5jZWwoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNhbmNlbCgpIHtcbiAgICAgICAgLy8gUmVkaXJlY3Rpb24gdmVycyBsYSBsaXN0ZSBkZXMgYWRtaW5zXG4gICAgICAgIGxvYWRQYWdlKFwiL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9hZG1pbkxpc3QuZnhtbFwiKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvc2VydmljZXMvU2VydmljZVBlcnNvbm5lLmphdmFcbnBhY2thZ2Ugc2VydmljZXM7XG5cbmltcG9ydCBlbnRpdGllcy5QZXJzb25uZTtcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuXG5pbXBvcnQgamF2YS5zcWwuKjtcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5wdWJsaWMgY2xhc3MgU2VydmljZVBlcnNvbm5lIGltcGxlbWVudHMgSVNlcnZpY2U8UGVyc29ubmU+IHtcbiAgICBDb25uZWN0aW9uIGNvbm5lY3Rpb247XG4gICAgcHVibGljIFNlcnZpY2VQZXJzb25uZSgpIHtcbiAgICAgICAgY29ubmVjdGlvbj0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcblxuICAgIH1cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBham91dGVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHJlcSA9XCJJTlNFUlQgSU5UTyBwZXJzb25uZShub20sIHByZW5vbSwgYWdlKSBWQUxVRVMgKCdcIitwZXJzb25uZS5nZXROb20oKStcIicsJ1wiK3BlcnNvbm5lLmdldFByZW5vbSgpK1wiJyxcIitwZXJzb25uZS5nZXRBZ2UoKStcIilcIjtcbiAgICAgICAgU3RhdGVtZW50IHN0YXRlbWVudD1jb25uZWN0aW9uLmNyZWF0ZVN0YXRlbWVudCgpO1xuICAgICAgICBzdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZShyZXEpO1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJwZXJzb25uZSBham91dMOpXCIpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9jb250cm9sbGVycy9DbGllbnROYXZiYXJDb250cm9sbGVyLmphdmFcbi4uLlxuXG5wdWJsaWMgY2xhc3MgQ2xpZW50TmF2YmFyQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBBdXRoU2VydmljZUltcGwgYXV0aFNlcnZpY2UgPSBBdXRoU2VydmljZUltcGwuZ2V0SW5zdGFuY2UoKTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUhvbWUoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgbG9hZFBhZ2UoXCIvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2NsaWVudF9kYXNoYm9hcmQuZnhtbFwiLCBldmVudCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRXhjaGFuZ2VzKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGxvYWRQYWdlKFwiL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9jbGllbnRfZXhjaGFuZ2VzLmZ4bWxcIiwgZXZlbnQpO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZU1lc3NhZ2VzKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGxvYWRQYWdlKFwiL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9jbGllbnRfbWVzc2FnZXMuZnhtbFwiLCBldmVudCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlUHJvZmlsZShBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICBsb2FkUGFnZShcIi9waTI0MjUvc3dhcHB5X2phdmFmeC9EYXNoYm9hcmQvY2xpZW50X3Byb2ZpbGUuZnhtbFwiLCBldmVudCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2NvbnRyb2xsZXJzL1NpZGViYXJDb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgYWN0aXZlU3R5bGUgPSBcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1wiO1xuICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIGluYWN0aXZlU3R5bGUgPSBcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcIjtcbiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBhY3RpdmVTdWJCdXR0b25TdHlsZSA9IFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMzQTRGNjY7IC1meC10ZXh0LWZpbGw6ICNmZmZmZmY7XCI7XG4gICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgaW5hY3RpdmVTdWJCdXR0b25TdHlsZSA9IFwiLWZ4LWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyAtZngtdGV4dC1maWxsOiAjY2NjY2NjO1wiO1xuXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEYXNoYm9hcmRDbGljaygpIHtcbiAgICAgICAgc2V0QWN0aXZlQnV0dG9uKGRhc2hib2FyZEJ1dHRvbiwgZGFzaGJvYXJkSEJveCk7XG4gICAgICAgIGxvYWRQYWdlKFwiL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9kYXNoYm9hcmQuZnhtbFwiKTtcbiAgICB9XG5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUFkZEFkbWluQ2xpY2soKSB7XG4gICAgICAgIHNldEFjdGl2ZUJ1dHRvbihhZGRBZG1pbkJ1dHRvbiwgdXNlckhCb3gpO1xuICAgICAgICBsb2FkUGFnZShcIi9waTI0MjUvc3dhcHB5X2phdmFmeC9EYXNoYm9hcmQvYWRkQWRtaW4uZnhtbFwiKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvVXNlci5qYXZhXG4uLi5cblxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZF9hdCwgIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIGltYWdlVXJsKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTsgLy8gU2V0IHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTtcbiAgICAgICAgLy8gdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKCkge1xuICAgICAgICAvLyAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgfVxuLi4uXG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgRGF0ZSBjcmVhdGVkQXQsIERhdGUgbGFzdENvbm5leGlvbiwgU3RyaW5nIHN0b3JlZEhhc2gpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgICAgIHRoaXMuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRBdCAhPSBudWxsID8gbmV3IFRpbWVzdGFtcChjcmVhdGVkQXQuZ2V0VGltZSgpKSA6IG51bGw7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBzdG9yZWRIYXNoO1xuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IG51bGw7IC8vIFBhciBkw6lmYXV0LCBwYXMgZCdpbWFnZVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9jb250cm9sbGVycy9EYXNoYm9hcmRDb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmdbXSBkZXNjcmlwdGlvbnMgPSB7XG4gICAgICAgIFwiQ29tbWUgbmV1ZlwiLCBcIlBldSB1dGlsaXPDqVwiLCBcIsOJdGF0IHBhcmZhaXRcIixcbiAgICAgLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSzlwRkJjSjdIaGMydzNSb3c1alFGZiJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50IHF1ZSBqJ2FpIHVuZSBtZWlsbGV1cmUgY29tcHLDqWhlbnNpb24gZHUgcHJvamV0LCBqZSB2YWlzIMOpdGFibGlyIHVuIHBsYW4gcG91ciBlZmZlY3R1ZXIgbGVzIG1vZGlmaWNhdGlvbnMgZGVtYW5kw6llcy5cblxuIyMgUGxhbiBkw6l0YWlsbMOpXG5cbjEuICoqU3VwcHJpbWVyIHRvdXQgY2UgcXVpIGNvbmNlcm5lIGwnZW50aXTDqSBQZXJzb25uZSBkYW5zIE1haW4uamF2YSoqXG4gICAtIFN1cHByaW1lciBsZXMgaW1wb3J0cyBsacOpcyDDoCBQZXJzb25uZVxuICAgLSBTdXBwcmltZXIgbGUgY29kZSB1dGlsaXNhbnQgUGVyc29ubmUgZXQgU2VydmljZVBlcnNvbm5lXG5cbjIuICoqQWpvdXRlciBsZXMgZW50aXTDqXMgbsOpY2Vzc2FpcmVzIGRhbnMgTWFpbi5qYXZhKipcbiAgIC0gQWpvdXRlciBsZXMgaW1wb3J0cyBwb3VyIFVzZXIsIFVzZXJTZXNzaW9uLCBFdmVudCBldCBSZXNlcnZlckV2ZW50XG4gICAtIEFqb3V0ZXIgZHUgY29kZSBkZSB0ZXN0IHBvdXIgY2VzIGVudGl0w6lzXG5cbjMuICoqQ3LDqWVyIGwnZW50aXTDqSBVc2VyU2Vzc2lvbioqIChlbGxlIG4nZXhpc3RlIHBhcyBlbmNvcmUsIG1haXMgaWwgeSBhIEF1dGhTZXJ2aWNlSW1wbCBxdWkgam91ZSB1biByw7RsZSBzaW1pbGFpcmUpXG5cbjQuICoqQ3LDqWVyIGwnZW50aXTDqSBSZXNlcnZlckV2ZW50KiogKGVsbGUgbidleGlzdGUgcGFzIGVuY29yZSlcblxuQ29tbWVuw6dvbnMgcGFyIG1vZGlmaWVyIGxlIGZpY2hpZXIgTWFpbi5qYXZhOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjczZWE5OGRjLTJjY2YtNDQ2OS05ZDE1LTg2NDAyOTc1ZWQ5MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1LcFV0R2NkWlJEVHZhZ1BNalppZzMiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9Vc2VyU2Vzc2lvbi5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSB0ZXN0cztcXG5cXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcXG5cXG4vKipcXG4gKiBDbGFzc2Ugc2luZ2xldG9uIHBvdXIgZ1xcdTAwZTlyZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxcbiAqL1xcbnB1YmxpYyBjbGFzcyBVc2VyU2Vzc2lvbiB7XFxuICAgIHByaXZhdGUgc3RhdGljIFVzZXJTZXNzaW9uIGluc3RhbmNlO1xcbiAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XFxuXFxuICAgIC8vIENvbnN0cnVjdGV1ciBwcml2XFx1MDBlOSBwb3VyIGVtcFxcdTAwZWFjaGVyIGwnaW5zdGFuY2lhdGlvbiBkaXJlY3RlXFxuICAgIHByaXZhdGUgVXNlclNlc3Npb24oKSB7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE9idGllbnQgbCdpbnN0YW5jZSB1bmlxdWUgZGUgVXNlclNlc3Npb25cXG4gICAgICogQHJldHVybiBMJ2luc3RhbmNlIGRlIFVzZXJTZXNzaW9uXFxuICAgICAqL1xcbiAgICBwdWJsaWMgc3RhdGljIFVzZXJTZXNzaW9uIGdldEluc3RhbmNlKCkge1xcbiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcXG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBVc2VyU2Vzc2lvbigpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBEXFx1MDBlOWZpbml0IGwndXRpbGlzYXRldXIgYWN0dWVsbGVtZW50IGNvbm5lY3RcXHUwMGU5XFxuICAgICAqIEBwYXJhbSB1c2VyIEwndXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTlcXG4gICAgICovXFxuICAgIHB1YmxpYyB2b2lkIHNldEN1cnJlbnRVc2VyKFVzZXIgdXNlcikge1xcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHVzZXI7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE9idGllbnQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdFxcdTAwZTlcXG4gICAgICogQHJldHVybiBMJ3V0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5XFxuICAgICAqL1xcbiAgICBwdWJsaWMgVXNlciBnZXRDdXJyZW50VXNlcigpIHtcXG4gICAgICAgIHJldHVybiBjdXJyZW50VXNlcjtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogRFxcdTAwZTljb25uZWN0ZSBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG51bGw7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFZcXHUwMGU5cmlmaWUgc2kgdW4gdXRpbGlzYXRldXIgZXN0IGNvbm5lY3RcXHUwMGU5XFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdFxcdTAwZTksIGZhbHNlIHNpbm9uXFxuICAgICAqL1xcbiAgICBwdWJsaWMgYm9vbGVhbiBpc0xvZ2dlZEluKCkge1xcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyICE9IG51bGw7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBjcsOpb25zIGxhIGNsYXNzZSBVc2VyU2Vzc2lvbjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XG4gICAgIDVcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgICA5XHRcbiAgICAxMFx0cHVibGljIGNsYXNzIE1haW4ge1xuICAgIDExXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAxMlx0ICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDEzXHQgICAgICAgIHRyeSB7XG4gICAgMTRcdCAgICAgICAgICAgIC8vIENvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMTVcdCAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMTZcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAxOVx0ICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjJcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjNcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjRcdCAgICAgICAgfVxuICAgIDI1XHQgICAgfVxuICAgIDI2XHRcbiAgICAyN1x0ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xuICAgIDI4XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAyOVx0ICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgIDMwXHQgICAgICAgIHVzZXIuc2V0Tm9tKFwiRG9lXCIpO1xuICAgIDMxXHQgICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAzMlx0ICAgICAgICB1c2VyLnNldEVtYWlsKFwiam9obi5kb2VAZXhhbXBsZS5jb21cIik7XG4gICAgMzNcdFxuICAgIDM0XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgMzVcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY3LDqcOpOiBcIiArIHVzZXIpO1xuICAgIDM2XHRcbiAgICAzN1x0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgMzhcdCAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICAzOVx0ICAgICAgICBldmVudC5zZXRUaXRsZShcIsOJdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDBcdCAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDFcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcbiAgICA0Mlx0ICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnw6l2w6luZW1lbnRcbiAgICA0NVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLDiXbDqW5lbWVudCBjcsOpw6k6IFwiICsgZXZlbnQpO1xuICAgIDQ2XHRcbiAgICA0N1x0ICAgICAgICAvLyBUZXN0IGRlIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICA0OFx0ICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgNDlcdCAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgNTBcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY29ubmVjdMOpOiBcIiArIHVzZXJTZXNzaW9uLmdldEN1cnJlbnRVc2VyKCkpO1xuICAgIDUxXHRcbiAgICA1Mlx0ICAgICAgICAvLyBUZXN0IGRlIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgNTNcdCAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XG4gICAgNTRcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcbiAgICA1NVx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XG4gICAgNTZcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xuICAgIDU3XHRcbiAgICA1OFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNTlcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsOpc2VydmF0aW9uIGNyw6nDqWU6IFwiICsgcmVzZXJ2YXRpb24pO1xuICAgIDYwXHQgICAgfVxuICAgIDYxXHR9XG4gICAgNjJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEzV3I3YnlXcE5HejFrZHpBb0tuMTJrIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIGNyw6lvbnMgbGEgY2xhc3NlIFVzZXJTZXNzaW9uOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjkwNjcyMzFiLTlkNDEtNDVkMS05MzZkLWJlNTJjODQwYjg5YiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVJhTXA5cDR0RWJwWnM4Ylh0QVp1S1AiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9SZXNlcnZlckV2ZW50LmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIHRlc3RzO1xcblxcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyO1xcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5FdmVudDtcXG5cXG5pbXBvcnQgamF2YS51dGlsLkRhdGU7XFxuXFxuLyoqXFxuICogQ2xhc3NlIHJlcHJcXHUwMGU5c2VudGFudCB1bmUgclxcdTAwZTlzZXJ2YXRpb24gZCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gKiBGYWl0IGxhIGpvaW50dXJlIGVudHJlIHVuIHV0aWxpc2F0ZXVyIGV0IHVuIFxcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAqL1xcbnB1YmxpYyBjbGFzcyBSZXNlcnZlckV2ZW50IHtcXG4gICAgcHJpdmF0ZSBpbnQgaWQ7XFxuICAgIHByaXZhdGUgVXNlciB1c2VyO1xcbiAgICBwcml2YXRlIEV2ZW50IGV2ZW50O1xcbiAgICBwcml2YXRlIERhdGUgZGF0ZVJlc2VydmF0aW9uO1xcbiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXQ7IC8vIFBhciBleGVtcGxlOiBcXFwiY29uZmlybVxcdTAwZTlcXFwiLCBcXFwiZW4gYXR0ZW50ZVxcXCIsIFxcXCJhbm51bFxcdTAwZTlcXFwiXFxuXFxuICAgIC8qKlxcbiAgICAgKiBDb25zdHJ1Y3RldXIgcGFyIGRcXHUwMGU5ZmF1dFxcbiAgICAgKi9cXG4gICAgcHVibGljIFJlc2VydmVyRXZlbnQoKSB7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBhdmVjIHRvdXMgbGVzIHBhcmFtXFx1MDBlOHRyZXNcXG4gICAgICogQHBhcmFtIGlkIElkZW50aWZpYW50IGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqIEBwYXJhbSB1c2VyIFV0aWxpc2F0ZXVyIHF1aSByXFx1MDBlOXNlcnZlXFxuICAgICAqIEBwYXJhbSBldmVudCBcXHUwMGM5dlxcdTAwZTluZW1lbnQgclxcdTAwZTlzZXJ2XFx1MDBlOVxcbiAgICAgKiBAcGFyYW0gZGF0ZVJlc2VydmF0aW9uIERhdGUgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHBhcmFtIHN0YXR1dCBTdGF0dXQgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICovXFxuICAgIHB1YmxpYyBSZXNlcnZlckV2ZW50KGludCBpZCwgVXNlciB1c2VyLCBFdmVudCBldmVudCwgRGF0ZSBkYXRlUmVzZXJ2YXRpb24sIFN0cmluZyBzdGF0dXQpIHtcXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcXG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XFxuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XFxuICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcXG4gICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBDb25zdHJ1Y3RldXIgc2FucyBpZCAocG91ciBsZXMgbm91dmVsbGVzIHJcXHUwMGU5c2VydmF0aW9ucylcXG4gICAgICogQHBhcmFtIHVzZXIgVXRpbGlzYXRldXIgcXVpIHJcXHUwMGU5c2VydmVcXG4gICAgICogQHBhcmFtIGV2ZW50IFxcdTAwYzl2XFx1MDBlOW5lbWVudCByXFx1MDBlOXNlcnZcXHUwMGU5XFxuICAgICAqIEBwYXJhbSBkYXRlUmVzZXJ2YXRpb24gRGF0ZSBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKiBAcGFyYW0gc3RhdHV0IFN0YXR1dCBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKi9cXG4gICAgcHVibGljIFJlc2VydmVyRXZlbnQoVXNlciB1c2VyLCBFdmVudCBldmVudCwgRGF0ZSBkYXRlUmVzZXJ2YXRpb24sIFN0cmluZyBzdGF0dXQpIHtcXG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XFxuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XFxuICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcXG4gICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xcbiAgICB9XFxuXFxuICAgIC8vIEdldHRlcnMgZXQgU2V0dGVyc1xcbiAgICBwdWJsaWMgaW50IGdldElkKCkge1xcbiAgICAgICAgcmV0dXJuIGlkO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkge1xcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBVc2VyIGdldFVzZXIoKSB7XFxuICAgICAgICByZXR1cm4gdXNlcjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRVc2VyKFVzZXIgdXNlcikge1xcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgRXZlbnQgZ2V0RXZlbnQoKSB7XFxuICAgICAgICByZXR1cm4gZXZlbnQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0RXZlbnQoRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlUmVzZXJ2YXRpb24oKSB7XFxuICAgICAgICByZXR1cm4gZGF0ZVJlc2VydmF0aW9uO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldERhdGVSZXNlcnZhdGlvbihEYXRlIGRhdGVSZXNlcnZhdGlvbikge1xcbiAgICAgICAgdGhpcy5kYXRlUmVzZXJ2YXRpb24gPSBkYXRlUmVzZXJ2YXRpb247XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXQoKSB7XFxuICAgICAgICByZXR1cm4gc3RhdHV0O1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1dChTdHJpbmcgc3RhdHV0KSB7XFxuICAgICAgICB0aGlzLnN0YXR1dCA9IHN0YXR1dDtcXG4gICAgfVxcblxcbiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcXG4gICAgICAgIHJldHVybiBcXFwiUmVzZXJ2ZXJFdmVudHtcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcImlkPVxcXCIgKyBpZCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIHVzZXI9XFxcIiArIHVzZXIgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBldmVudD1cXFwiICsgZXZlbnQgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBkYXRlUmVzZXJ2YXRpb249XFxcIiArIGRhdGVSZXNlcnZhdGlvbiArXFxuICAgICAgICAgICAgICAgIFxcXCIsIHN0YXR1dD0nXFxcIiArIHN0YXR1dCArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICAnfSc7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBjcsOpb25zIGxhIGNsYXNzZSBSZXNlcnZlckV2ZW50OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTUtwVXRHY2RaUkRUdmFnUE1qWmlnMyJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBjcsOpb25zIGxhIGNsYXNzZSBSZXNlcnZlckV2ZW50OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJjYW5jZWxsZWQiLCJyZXF1ZXN0X2lkIjoidGVtcC1mZS1iZTczMTY2Yi0zNjU1LTQ0NjQtYTIzMy04NWJmMWZhMDAyMDMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVJhTXA5cDR0RWJwWnM4Ylh0QVp1S1AifX1dfSx7InJlcXVlc3RfaWQiOiI0YzM0YjFjMy0zNmNmLTRkNjQtOGE5Ny1kOTc1NGU5YTliMTMiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImEzMjVjMTFjLTYxMTgtNDRiOC04NTg1LWI3NTc4YTU0Yjk1OCIsInJlcXVlc3RfbWVzc2FnZSI6InZvdXMgYXZleiB1biBkb3NzaWVyIG5vbW3DqSBlbnRpdGl0ZXMgZXQgdG9pIHR1IGFqb3V0ZSBsZXMgZW50aXTDqXMgZGFucyBsZSBmb2xkZXIgdGVzdCB3aHkgXG5yZXNwZWN0ZSBsYXJjaGl0ZWN0dXJlIGR1IHByb2pldCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ2b3VzIGF2ZXogdW4gZG9zc2llciBub21tw6kgZW50aXRpdGVzIGV0IHRvaSB0dSBham91dGUgbGVzIGVudGl0w6lzIGRhbnMgbGUgZm9sZGVyIHRlc3Qgd2h5ICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoicmVzcGVjdGUgbGFyY2hpdGVjdHVyZSBkdSBwcm9qZXQifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUc5bjlNMlV4UWhLQ0RxaHlDNHJUTjIiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIlRyb3V2ZXIgbGEgc3RydWN0dXJlIGRlcyBkb3NzaWVycyBwb3VyIGxlcyBlbnRpdFxcdTAwZTlzIGRhbnMgbGUgcHJvamV0LCBub3RhbW1lbnQgb1xcdTAwZjkgc2UgdHJvdXZlbnQgbGVzIGNsYXNzZXMgVXNlci5qYXZhIGV0IEV2ZW50LmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlZvdXMgYXZleiByYWlzb24sIGplIGRvaXMgcmVzcGVjdGVyIGwnYXJjaGl0ZWN0dXJlIGR1IHByb2pldC4gSmUgdmFpcyBjb3JyaWdlciBjZWxhIGVuIHBsYcOnYW50IGxlcyBlbnRpdMOpcyBkYW5zIGxlIGRvc3NpZXIgYXBwcm9wcmnDqS5cblxuVsOpcmlmaW9ucyBkJ2Fib3JkIGxhIHN0cnVjdHVyZSBleGFjdGUgZHUgcHJvamV0IHBvdXIgbGVzIGVudGl0w6lzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IlZvdXMgYXZleiByYWlzb24sIGplIGRvaXMgcmVzcGVjdGVyIGwnYXJjaGl0ZWN0dXJlIGR1IHByb2pldC4gSmUgdmFpcyBjb3JyaWdlciBjZWxhIGVuIHBsYcOnYW50IGxlcyBlbnRpdMOpcyBkYW5zIGxlIGRvc3NpZXIgYXBwcm9wcmnDqS5cblxuVsOpcmlmaW9ucyBkJ2Fib3JkIGxhIHN0cnVjdHVyZSBleGFjdGUgZHUgcHJvamV0IHBvdXIgbGVzIGVudGl0w6lzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjQwMzY2ZGQ5LTM2ZmMtNDY0YS1iY2UzLTEyOTk4NTdmMWQwOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURjN0w5anNvV3d0RnFzZUU1ano0bmYiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcXG5cXG4vKipcXG4gKiBDbGFzc2Ugc2luZ2xldG9uIHBvdXIgZ1xcdTAwZTlyZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxcbiAqL1xcbnB1YmxpYyBjbGFzcyBVc2VyU2Vzc2lvbiB7XFxuICAgIHByaXZhdGUgc3RhdGljIFVzZXJTZXNzaW9uIGluc3RhbmNlO1xcbiAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XFxuXFxuICAgIC8vIENvbnN0cnVjdGV1ciBwcml2XFx1MDBlOSBwb3VyIGVtcFxcdTAwZWFjaGVyIGwnaW5zdGFuY2lhdGlvbiBkaXJlY3RlXFxuICAgIHByaXZhdGUgVXNlclNlc3Npb24oKSB7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE9idGllbnQgbCdpbnN0YW5jZSB1bmlxdWUgZGUgVXNlclNlc3Npb25cXG4gICAgICogQHJldHVybiBMJ2luc3RhbmNlIGRlIFVzZXJTZXNzaW9uXFxuICAgICAqL1xcbiAgICBwdWJsaWMgc3RhdGljIFVzZXJTZXNzaW9uIGdldEluc3RhbmNlKCkge1xcbiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcXG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBVc2VyU2Vzc2lvbigpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBEXFx1MDBlOWZpbml0IGwndXRpbGlzYXRldXIgYWN0dWVsbGVtZW50IGNvbm5lY3RcXHUwMGU5XFxuICAgICAqIEBwYXJhbSB1c2VyIEwndXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTlcXG4gICAgICovXFxuICAgIHB1YmxpYyB2b2lkIHNldEN1cnJlbnRVc2VyKFVzZXIgdXNlcikge1xcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHVzZXI7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE9idGllbnQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdFxcdTAwZTlcXG4gICAgICogQHJldHVybiBMJ3V0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5XFxuICAgICAqL1xcbiAgICBwdWJsaWMgVXNlciBnZXRDdXJyZW50VXNlcigpIHtcXG4gICAgICAgIHJldHVybiBjdXJyZW50VXNlcjtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogRFxcdTAwZTljb25uZWN0ZSBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG51bGw7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFZcXHUwMGU5cmlmaWUgc2kgdW4gdXRpbGlzYXRldXIgZXN0IGNvbm5lY3RcXHUwMGU5XFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdFxcdTAwZTksIGZhbHNlIHNpbm9uXFxuICAgICAqL1xcbiAgICBwdWJsaWMgYm9vbGVhbiBpc0xvZ2dlZEluKCkge1xcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyICE9IG51bGw7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2b2lzIHF1ZSBsZXMgZW50aXTDqXMgc29udCBkYW5zIGxlIHBhY2thZ2UgYHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzYC4gSmUgdmFpcyBkb25jIGNyw6llciBsZXMgbm91dmVsbGVzIGVudGl0w6lzIGRhbnMgY2UgcGFja2FnZSBldCBjb3JyaWdlciBsZSBmaWNoaWVyIE1haW4uamF2YS5cblxuQ29tbWVuw6dvbnMgcGFyIGNyw6llciBsJ2VudGl0w6kgVXNlclNlc3Npb24gZGFucyBsZSBib24gcGFja2FnZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvRXZlbnQuamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcblxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xuXG5wdWJsaWMgY2xhc3MgRXZlbnQge1xuXG4gICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgcHJpdmF0ZSBVc2VyIG9yZ25pc2VyO1xuICAgIHByaXZhdGUgU3RyaW5nIHRpdGxlO1xuICAgIHByaXZhdGUgU3RyaW5nIGRlc2NyaXB0aW9uO1xuICAgIHByaXZhdGUgRGF0ZSBkYXRlX2RlYnV0O1xuICAgIHByaXZhdGUgRGF0ZSBkYXRlX2ZpbjtcbiAgICBwcml2YXRlIGludCBtYXhfcGFydGljaXBhbnRzO1xuICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1cztcbiAgICBwcml2YXRlIFN0cmluZyBpbWFnZTtcblxuICAgIHB1YmxpYyBFdmVudChpbnQgaWQsIFVzZXIgb3JnbmlzZXIsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBEYXRlIGRhdGVfZGVidXQsIERhdGUgZGF0ZV9maW4sIGludCBtYXhfcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzLCBTdHJpbmcgaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm9yZ25pc2VyID0gb3JnbmlzZXI7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIEV2ZW50KFVzZXIgb3JnbmlzZXIsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBEYXRlIGRhdGVfZGVidXQsIERhdGUgZGF0ZV9maW4sIGludCBtYXhfcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzLCBTdHJpbmcgaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5vcmduaXNlciA9IG9yZ25pc2VyO1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBFdmVudCgpIHtcblxuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlciBnZXRPcmduaXNlcigpIHtcbiAgICAgICAgcmV0dXJuIG9yZ25pc2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE9yZ25pc2VyKFVzZXIgb3JnbmlzZXIpIHtcbiAgICAgICAgdGhpcy5vcmduaXNlciA9IG9yZ25pc2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRUaXRsZShTdHJpbmcgdGl0bGUpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9XG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIkV2ZW50e1wiICtcbiAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgICAgICAgICAgICAgIFwiLCBvcmduaXNlcj1cIiArIG9yZ25pc2VyICtcbiAgICAgICAgICAgICAgICBcIiwgdGl0bGU9J1wiICsgdGl0bGUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGRlc2NyaXB0aW9uPSdcIiArIGRlc2NyaXB0aW9uICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBkYXRlX2RlYnV0PVwiICsgZGF0ZV9kZWJ1dCArXG4gICAgICAgICAgICAgICAgXCIsIGRhdGVfZmluPVwiICsgZGF0ZV9maW4gK1xuICAgICAgICAgICAgICAgIFwiLCBtYXhfcGFydGljaXBhbnRzPVwiICsgbWF4X3BhcnRpY2lwYW50cyArXG4gICAgICAgICAgICAgICAgXCIsIHN0YXR1cz0nXCIgKyBzdGF0dXMgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGltYWdlPSdcIiArIGltYWdlICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgICd9JztcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvVXNlci5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuXG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuRGF0ZTtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBvcmcubWluZHJvdC5qYmNyeXB0LkJDcnlwdDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5cblxuXG5cbnB1YmxpYyBjbGFzcyBVc2VyIHtcblxuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICBwcml2YXRlIFN0cmluZyBlbWFpbDtcbiAgICBwcml2YXRlIFN0cmluZyBwcmVub207XG4gICAgcHJpdmF0ZSBTdHJpbmcgYWRyZXNzZTtcbiAgICBwcml2YXRlIFN0cmluZyB0ZWxlcGhvbmU7XG4gICAgcHJpdmF0ZSBib29sZWFuIGlzVmVyaWZpZWQ7XG4gICAgcHJpdmF0ZSBUaW1lc3RhbXAgY3JlYXRlZF9hdDtcbiAgICBwcml2YXRlIExpc3Q8U3RyaW5nPiByb2xlO1xuICAgIHByaXZhdGUgU3RyaW5nIHBhc3N3b3JkO1xuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlVXJsO1xuXG4gICAgLy8gQ29uc3RydWN0b3JcblxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZF9hdCwgIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIGltYWdlVXJsKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTsgLy8gU2V0IHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTtcbiAgICAgICAgLy8gdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKCkge1xuICAgICAgICAvLyAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoU3RyaW5nIG5vbSwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgdGVsZXBob25lLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIC8vIHRoaXMucGFzc3dvcmQgPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBmYWxzZTsgLy8gRGVmYXVsdCB2YWx1ZSBmb3IgbmV3IHVzZXJzXG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOyAvLyBTZXQgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZEF0LCBEYXRlIGxhc3RDb25uZXhpb24sIFN0cmluZyBzdG9yZWRIYXNoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkQXQgIT0gbnVsbCA/IG5ldyBUaW1lc3RhbXAoY3JlYXRlZEF0LmdldFRpbWUoKSkgOiBudWxsO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gc3RvcmVkSGFzaDtcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsOyAvLyBQYXIgZMOpZmF1dCwgcGFzIGQnaW1hZ2VcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgRGF0ZSBjcmVhdGVkQXQsIFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZEF0ICE9IG51bGwgPyBuZXcgVGltZXN0YW1wKGNyZWF0ZWRBdC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IG51bGw7IC8vIFBhciBkw6lmYXV0LCBwYXMgZCdpbWFnZVxuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgIFRpbWVzdGFtcCBjcmVhdGVkQXQsIFN0cmluZyBpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gbmV3IFRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7IC8vIFNldCB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Tm9tKCkge1xuICAgICAgICByZXR1cm4gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE5vbShTdHJpbmcgbm9tKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWwoKSB7XG4gICAgICAgIHJldHVybiBlbWFpbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJlbm9tKCkge1xuICAgICAgICByZXR1cm4gcHJlbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFByZW5vbShTdHJpbmcgcHJlbm9tKSB7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIH1cblxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZHJlc3NlKCkge1xuICAgICAgICByZXR1cm4gYWRyZXNzZTtcbiAgICB9XG4uLi5cblxuICAgIC8qKlxuICAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgIH1cbiAgICAgKi9cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2VVcmwoKSB7XG4gICAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZVVybChTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIlVzZXJ7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG5vbT0nXCIgKyBub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGVtYWlsPSdcIiArIGVtYWlsICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBwcmVub209J1wiICsgcHJlbm9tICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBhZHJlc3NlPSdcIiArIGFkcmVzc2UgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIHRlbGVwaG9uZT0nXCIgKyB0ZWxlcGhvbmUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGlzVmVyaWZpZWQ9XCIgKyBpc1ZlcmlmaWVkICtcbiAgICAgICAgICAgICAgICBcIiwgY3JlYXRlZF9hdD1cIiArIGNyZWF0ZWRfYXQgK1xuICAgICAgICAgICAgICAgIFwiLCByb2xlPVwiICsgcm9sZSArXG4gICAgICAgICAgICAgICAgXCIsIHBhc3N3b3JkPSdcIiArIHBhc3N3b3JkICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBpbWFnZVVybD0nXCIgKyBpbWFnZVVybCArICdcXCcnICtcbiAgICAgICAgICAgICAgICAnfSc7XG4gICAgfVxuXG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvdGVzdHMvUmVzZXJ2ZXJFdmVudC5qYXZhXG5wYWNrYWdlIHRlc3RzO1xuXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5FdmVudDtcblxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xuXG4vKipcbiAqIENsYXNzZSByZXByw6lzZW50YW50IHVuZSByw6lzZXJ2YXRpb24gZCfDqXbDqW5lbWVudFxuICogRmFpdCBsYSBqb2ludHVyZSBlbnRyZSB1biB1dGlsaXNhdGV1ciBldCB1biDDqXbDqW5lbWVudFxuICovXG5wdWJsaWMgY2xhc3MgUmVzZXJ2ZXJFdmVudCB7XG4gICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgcHJpdmF0ZSBVc2VyIHVzZXI7XG4gICAgcHJpdmF0ZSBFdmVudCBldmVudDtcbiAgICBwcml2YXRlIERhdGUgZGF0ZVJlc2VydmF0aW9uO1xuICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1dDsgLy8gUGFyIGV4ZW1wbGU6IFwiY29uZmlybcOpXCIsIFwiZW4gYXR0ZW50ZVwiLCBcImFubnVsw6lcIlxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZXVyIHBhciBkw6lmYXV0XG4gICAgICovXG4gICAgcHVibGljIFJlc2VydmVyRXZlbnQoKSB7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YVxucGFja2FnZSB0ZXN0cztcblxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcblxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcblxucHVibGljIGNsYXNzIE1haW4ge1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDb25uZXhpb24gw6AgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuXG4gICAgICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XG4gICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcbiAgICAgICAgdXNlci5zZXROb20oXCJEb2VcIik7XG4gICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAgICAgdXNlci5zZXRFbWFpbChcImpvaG4uZG9lQGV4YW1wbGUuY29tXCIpO1xuXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNyw6nDqTogXCIgKyB1c2VyKTtcblxuICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgICAgIGV2ZW50LnNldFRpdGxlKFwiw4l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgICAgIGV2ZW50LnNldERhdGVfZGVidXQobmV3IERhdGUoKSk7XG4gICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xuXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ8OpdsOpbmVtZW50XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsOJdsOpbmVtZW50IGNyw6nDqTogXCIgKyBldmVudCk7XG5cbiAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgICAgIFVzZXJTZXNzaW9uIHVzZXJTZXNzaW9uID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNvbm5lY3TDqTogXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9lbnRpdGllcy9QZXJzb25uZS5qYXZhXG5wYWNrYWdlIGVudGl0aWVzO1xuXG5wdWJsaWMgY2xhc3MgUGVyc29ubmUge1xuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICBwcml2YXRlIFN0cmluZyBwcmVub207XG4gICAgcHJpdmF0ZSBpbnQgYWdlO1xuXG4gICAgcHVibGljIFBlcnNvbm5lKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBQZXJzb25uZShTdHJpbmcgbm9tLCBTdHJpbmcgcHJlbm9tLCBpbnQgYWdlKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIFBlcnNvbm5lKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIHByZW5vbSwgaW50IGFnZSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXROb20oKSB7XG4gICAgICAgIHJldHVybiBub207XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Tm9tKFN0cmluZyBub20pIHtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQcmVub20oKSB7XG4gICAgICAgIHJldHVybiBwcmVub207XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0UHJlbm9tKFN0cmluZyBwcmVub20pIHtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRBZ2UoKSB7XG4gICAgICAgIHJldHVybiBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWdlKGludCBhZ2UpIHtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiUGVyc29ubmV7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG5vbT0nXCIgKyBub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIHByZW5vbT0nXCIgKyBwcmVub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGFnZT1cIiArIGFnZSArXG4gICAgICAgICAgICAgICAgJ30nO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9zZXJ2aWNlcy9TZXJ2aWNlUGVyc29ubmUuamF2YVxucGFja2FnZSBzZXJ2aWNlcztcblxuaW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG5cbmltcG9ydCBqYXZhLnNxbC4qO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBjbGFzcyBTZXJ2aWNlUGVyc29ubmUgaW1wbGVtZW50cyBJU2VydmljZTxQZXJzb25uZT4ge1xuICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcbiAgICBwdWJsaWMgU2VydmljZVBlcnNvbm5lKCkge1xuICAgICAgICBjb25uZWN0aW9uPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuXG4gICAgfVxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGFqb3V0ZXIoUGVyc29ubmUgcGVyc29ubmUpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcmVxID1cIklOU0VSVCBJTlRPIHBlcnNvbm5lKG5vbSwgcHJlbm9tLCBhZ2UpIFZBTFVFUyAoJ1wiK3BlcnNvbm5lLmdldE5vbSgpK1wiJywnXCIrcGVyc29ubmUuZ2V0UHJlbm9tKCkrXCInLFwiK3BlcnNvbm5lLmdldEFnZSgpK1wiKVwiO1xuICAgICAgICBTdGF0ZW1lbnQgc3RhdGVtZW50PWNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKHJlcSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcInBlcnNvbm5lIGFqb3V0w6lcIik7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgc3VwcHJpbWVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcblxuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIG1vZGlmaWVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHJlcSA9IFwidXBkYXRlIHBlcnNvbm5lIHNldCBub209PywgcHJlbm9tPT8sIGFnZT0/IHdoZXJlIGlkPT9cIjtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHJlcGFyZWRTdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocmVxKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIHBlcnNvbm5lLmdldE5vbSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0U3RyaW5nKDIsIHBlcnNvbm5lLmdldFByZW5vbSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0SW50KDMsIHBlcnNvbm5lLmdldEFnZSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0SW50KDQsIHBlcnNvbm5lLmdldElkKCkpO1xuICAgICAgICBwcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XG5cbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgTGlzdDxQZXJzb25uZT4gYWZmaWNoZXIoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgTGlzdDxQZXJzb25uZT4gcGVyc29ubmVzID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIFN0cmluZyByZXEgPSBcInNlbGVjdCAqIGZyb20gcGVyc29ubmVcIjtcbiAgICAgICAgU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG5cbiAgICAgICBSZXN1bHRTZXQgcnMgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KHJlcSk7XG4gICAgICAgd2hpbGUgKHJzLm5leHQoKSkge1xuICAgICAgICAgICBQZXJzb25uZSBwZXJzb25uZSA9IG5ldyBQZXJzb25uZSgpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXRJZChycy5nZXRJbnQoMSkpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXROb20ocnMuZ2V0U3RyaW5nKFwibm9tXCIpKTtcbiAgICAgICAgICAgcGVyc29ubmUuc2V0UHJlbm9tKHJzLmdldFN0cmluZyhcInByZW5vbVwiKSk7XG4gICAgICAgICAgIHBlcnNvbm5lLnNldEFnZShycy5nZXRJbnQoNCkpO1xuICAgICAgICAgICBwZXJzb25uZXMuYWRkKHBlcnNvbm5lKTtcblxuICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBwZXJzb25uZXM7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL21vZHVsZS1pbmZvLmphdmFcbm1vZHVsZSBwaTI0MjUuc3dhcHB5X2phdmFmeCB7XG4gICAgcmVxdWlyZXMgamF2YWZ4LmNvbnRyb2xzO1xuICAgIHJlcXVpcmVzIGphdmFmeC5meG1sO1xuICAgIHJlcXVpcmVzIGphdmFmeC5tZWRpYTtcbiAgICByZXF1aXJlcyBqYXZhZnguc3dpbmc7XG4gICAgcmVxdWlyZXMgamF2YS5zcWw7XG4gICAgcmVxdWlyZXMgamJjcnlwdDtcbiAgICByZXF1aXJlcyBteXNxbC5jb25uZWN0b3IuajtcbiAgICByZXF1aXJlcyBkZS5ta2FtbWVyZXIuYXJnb24yLm5vbGlicztcbiAgICByZXF1aXJlcyBvcmcuanNvbjtcbiAgICByZXF1aXJlcyB3ZWJjYW0uY2FwdHVyZTtcblxuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzIHRvIGphdmFmeC5iYXNlO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG5cblxuXG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZngudGVzdHMgdG8gamF2YWZ4LmZ4bWw7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC50ZXN0cztcbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC5jb250cm9sbGVycyB0byBqYXZhZnguZnhtbDtcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmNvbnRyb2xsZXJzO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHM7XG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMgdG8gamF2YWZ4LmZ4bWw7XG5cblxufS4uLlxuUGF0aDogcG9tLnhtbFxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48cHJvamVjdCB4bWxucz1cImh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMFwiXG4gICAgICAgICB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiXG4gICAgICAgICB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAgaHR0cHM6Ly9tYXZlbi5hcGFjaGUub3JnL3hzZC9tYXZlbi00LjAuMC54c2RcIj5cbiAgICA8bW9kZWxWZXJzaW9uPjQuMC4wPC9tb2RlbFZlcnNpb24+XG5cbiAgICA8Z3JvdXBJZD5waTI0MjU8L2dyb3VwSWQ+XG4gICAgPGFydGlmYWN0SWQ+c3dhcHB5X2phdmFGWDwvYXJ0aWZhY3RJZD5cbiAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+XG4gICAgPG5hbWU+c3dhcHB5X2phdmFGWDwvbmFtZT5cblxuICAgIDxwcm9wZXJ0aWVzPlxuICAgICAgICA8cHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5VVEYtODwvcHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5cbiAgICAgICAgPGp1bml0LnZlcnNpb24+NS4xMC4yPC9qdW5pdC52ZXJzaW9uPlxuICAgIDwvcHJvcGVydGllcz5cbi4uLlxuICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LW1lZGlhPC9hcnRpZmFjdElkPlxuICAgICAgICAgICAgPHZlcnNpb24+MTcuMC42PC92ZXJzaW9uPlxuICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgICAgIDxkZXBlbmRlbmN5PlxuICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtc3dpbmc8L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICA8dmVyc2lvbj4xNy4wLjY8L3ZlcnNpb24+XG4gICAgICAgIDwvZGVwZW5kZW5jeT5cblxuICAgICAgICA8IS0tIFdlYmNhbSBDYXB0dXJlIEFQSSAtLT5cbiAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgICAgICAgICA8Z3JvdXBJZD5jb20uZ2l0aHViLnNhcnhvczwvZ3JvdXBJZD5cbiAgICAgICAgICAgIDxhcnRpZmFjdElkPndlYmNhbS1jYXB0dXJlPC9hcnRpZmFjdElkPlxuICAgICAgICAgICAgPHZlcnNpb24+MC4zLjEyPC92ZXJzaW9uPlxuICAgICAgICA8L2RlcGVuZGVuY3k+XG5cbiAgICAgICAgPCEtLSBTTEY0SiBJbXBsZW1lbnRhdGlvbiAtLT5cbiAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgICAgICAgICA8Z3JvdXBJZD5vcmcuc2xmNGo8L2dyb3VwSWQ+XG4gICAgICAgICAgICA8YXJ0aWZhY3RJZD5zbGY0ai1zaW1wbGU8L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICA8dmVyc2lvbj4xLjcuMzY8L3ZlcnNpb24+XG4gICAgICAgIDwvZGVwZW5kZW5jeT5cblxuICAgIDwvZGVwZW5kZW5jaWVzPlxuXG4gICAgPGJ1aWxkPlxuICAgICAgICA8cGx1Z2lucz5cbiAgICAgICAgICAgIDxwbHVnaW4+XG4gICAgICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5tYXZlbi5wbHVnaW5zPC9ncm91cElkPlxuICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPm1hdmVuLWNvbXBpbGVyLXBsdWdpbjwvYXJ0aWZhY3RJZD5cbiAgICAgICAgICAgICAgICA8dmVyc2lvbj4zLjEzLjA8L3ZlcnNpb24+XG4gICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2U+MTc8L3NvdXJjZT5cbiAgICAgICAgICAgICAgICAgICAgPHRhcmdldD4xNzwvdGFyZ2V0PlxuXG4gICAgICAgICAgICAgICAgPC9jb25maWd1cmF0aW9uPlxuICAgICAgICAgICAgPC9wbHVnaW4+XG4gICAgICAgICAgICA8cGx1Z2luPlxuICAgICAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICAgICAgPHZlcnNpb24+MC4wLjg8L3ZlcnNpb24+XG4gICAgICAgICAgICAgICAgPGV4ZWN1dGlvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxleGVjdXRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIERlZmF1bHQgY29uZmlndXJhdGlvbiBmb3IgcnVubmluZyB3aXRoOiBtdm4gY2xlYW4gamF2YWZ4OnJ1biAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpZD5kZWZhdWx0LWNsaTwvaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29uZmlndXJhdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWFpbkNsYXNzPnBpMjQyNS5zd2FwcHlfamF2YWZ4L3BpMjQyNS5zd2FwcHlfamF2YWZ4LnRlc3RzLkhlbGxvQXBwbGljYXRpb248L21haW5DbGFzcz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGF1bmNoZXI+YXBwPC9sYXVuY2hlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8amxpbmtaaXBOYW1lPmFwcDwvamxpbmtaaXBOYW1lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxqbGlua0ltYWdlTmFtZT5hcHA8L2psaW5rSW1hZ2VOYW1lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxub01hblBhZ2VzPnRydWU8L25vTWFuUGFnZXM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cmlwRGVidWc+dHJ1ZTwvc3RyaXBEZWJ1Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bm9IZWFkZXJGaWxlcz50cnVlPC9ub0hlYWRlckZpbGVzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb25maWd1cmF0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbj5cbiAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbnM+XG4gICAgICAgICAgICA8L3BsdWdpbj5cbiAgICAgICAgPC9wbHVnaW5zPlxuICAgIDwvYnVpbGQ+XG48L3Byb2plY3Q+Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0lTZXJ2aWNlLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXM7XG5cbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBpbnRlcmZhY2UgSVNlcnZpY2U8VD5cbntcbiAgICB2b2lkIGFqb3V0ZXIgKFQgdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcbiAgICB2b2lkIHN1cHByaW1lciAoVCB0KSB0aHJvd3MgU1FMRXhjZXB0aW9uO1xuICAgIHZvaWQgbW9kaWZpZXIgKFQgdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcbiAgICBMaXN0PFQ+IGFmZmljaGVyKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcblxufVxuLi4uXG5QYXRoOiBwb20ueG1sXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbjxwcm9qZWN0IHhtbG5zPVwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wXCJcbiAgICAgICAgIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbiAgICAgICAgIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMCBodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy94c2QvbWF2ZW4tNC4wLjAueHNkXCI+XG4gICAgPG1vZGVsVmVyc2lvbj40LjAuMDwvbW9kZWxWZXJzaW9uPlxuXG4gICAgPGdyb3VwSWQ+b3JnLmV4YW1wbGU8L2dyb3VwSWQ+XG4gICAgPGFydGlmYWN0SWQ+V29ya3Nob3BKREJDM0E2MzwvYXJ0aWZhY3RJZD5cbiAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+XG5cbiAgICA8cHJvcGVydGllcz5cbiAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnNvdXJjZT4xNzwvbWF2ZW4uY29tcGlsZXIuc291cmNlPlxuICAgICAgICA8bWF2ZW4uY29tcGlsZXIudGFyZ2V0PjE3PC9tYXZlbi5jb21waWxlci50YXJnZXQ+XG4gICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDwvcHJvcGVydGllcz5cbiAgICA8ZGVwZW5kZW5jaWVzPlxuICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICAgICAgICAgIDxncm91cElkPm15c3FsPC9ncm91cElkPlxuICAgICAgICAgICAgPGFydGlmYWN0SWQ+bXlzcWwtY29ubmVjdG9yLWphdmE8L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICA8dmVyc2lvbj44LjAuMzM8L3ZlcnNpb24+XG4gICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICA8L2RlcGVuZGVuY2llcz5cblxuXG48L3Byb2plY3Q+Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0FkbWluU2VydmljZS5qYXZhXG4uLi5cblxuICAgICAgICAgICAgaWYgKHJlc3VsdFNldC5nZXRJbnQoMSkgPT0gMCkgeyAvLyBBdWN1biBzdXBlciBhZG1pbiB0cm91dsOpXG4gICAgICAgICAgICAgICAgQXJnb24yIGFyZ29uMiA9IEFyZ29uMkZhY3RvcnkuY3JlYXRlKEFyZ29uMkZhY3RvcnkuQXJnb24yVHlwZXMuQVJHT04yaWQpO1xuXG5cbiAgICAgICAgICAgICAgICBTdHJpbmcgaGFzaGVkUGFzc3dvcmQgPSBhcmdvbjIuaGFzaCgxMCwgNjU1MzYsIDEsIFwic3VwZXIxMjNcIik7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGluc2VydFF1ZXJ5ID0gXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBjcmVhdGVkX2F0LCByb2xlICwgaXNfdmVyaWZpZWQpIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPylcIjtcblxuICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IGluc2VydFN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQoaW5zZXJ0UXVlcnkpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDEsIFwiYWxheWFcIik7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRTdHJpbmcoMiwgXCJ5b3Vzc2VmXCIpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDMsIFwiYWRtaW5AZXhlbXBsZS5jb21cIik7XG4gICAgICAgICAgICAgICAgLy8gSGFjaGFnZSBkdSBtb3QgZGUgcGFzc2VcbiAgICAgICAgICAgICAgICBpbnNlcnRTdG10LnNldFN0cmluZyg0LCBoYXNoZWRQYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2YoTG9jYWxEYXRlVGltZS5ub3coKSkpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDYsIFwiU3VwZXItQWRtaW5pc3RyYXRldXJcIik7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRJbnQoNywgMSk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvQWRkQWRtaW5TZXJ2aWNlLmphdmFcbi4uLlxuICAgICAgICBcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3NlLCB0ZWxlcGhvbmUsIGlzX3ZlcmlmaWVkLCByb2xlLCBjcmVhdGVkX2F0LCBpbWFnZVVybCkgXCIgK1xuICAgICAgICAgICAgICAgIFwiVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCAxLCA/LCA/LCA/KVwiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnksIFByZXBhcmVkU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIHVzZXIuZ2V0Tm9tKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMiwgdXNlci5nZXRQcmVub20oKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygzLCB1c2VyLmdldEVtYWlsKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNCwgdXNlci5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDUsIHVzZXIuZ2V0QWRyZXNzZSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDYsIHVzZXIuZ2V0VGVsZXBob25lKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNywgXCJBZG1pbmlzdHJhdGV1clwiKTsgLy8gVXRpbGlzZXIgZXhhY3RlbWVudCBcIkFkbWluaXN0cmF0ZXVyXCJcbiAgICAgICAgICAgIC8vIETDqWZpbmlyIGxhIGRhdGUgZGUgY3LDqWF0aW9uIHNpIGVsbGUgbidlc3QgcGFzIGTDqWrDoCBkw6lmaW5pZVxuICAgICAgICAgICAgaWYgKHVzZXIuZ2V0Q3JlYXRlZF9hdCgpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQobmV3IGphdmEuc3FsLlRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSkpO1xuICAgICAgICAgICAgfVxuLi4uXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHOW45TTJVeFFoS0NEcWh5QzRyVE4yIn19XSwicmVzcG9uc2VfdGV4dCI6IkplIHZvaXMgcXVlIGxlcyBlbnRpdMOpcyBzb250IGRhbnMgbGUgcGFja2FnZSBgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXNgLiBKZSB2YWlzIGRvbmMgY3LDqWVyIGxlcyBub3V2ZWxsZXMgZW50aXTDqXMgZGFucyBjZSBwYWNrYWdlIGV0IGNvcnJpZ2VyIGxlIGZpY2hpZXIgTWFpbi5qYXZhLlxuXG5Db21tZW7Dp29ucyBwYXIgY3LDqWVyIGwnZW50aXTDqSBVc2VyU2Vzc2lvbiBkYW5zIGxlIGJvbiBwYWNrYWdlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImExNzg0MDljLThkZjgtNDlhOC05ZDg0LWQyMWI4ZDUzMDg4MyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTZUZGljQUNpdFV5V1R1Q3I2S010UnEiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9SZXNlcnZlckV2ZW50LmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xcblxcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcXG5cXG4vKipcXG4gKiBDbGFzc2UgcmVwclxcdTAwZTlzZW50YW50IHVuZSByXFx1MDBlOXNlcnZhdGlvbiBkJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAqIEZhaXQgbGEgam9pbnR1cmUgZW50cmUgdW4gdXRpbGlzYXRldXIgZXQgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICovXFxucHVibGljIGNsYXNzIFJlc2VydmVyRXZlbnQge1xcbiAgICBwcml2YXRlIGludCBpZDtcXG4gICAgcHJpdmF0ZSBVc2VyIHVzZXI7XFxuICAgIHByaXZhdGUgRXZlbnQgZXZlbnQ7XFxuICAgIHByaXZhdGUgRGF0ZSBkYXRlUmVzZXJ2YXRpb247XFxuICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1dDsgLy8gUGFyIGV4ZW1wbGU6IFxcXCJjb25maXJtXFx1MDBlOVxcXCIsIFxcXCJlbiBhdHRlbnRlXFxcIiwgXFxcImFubnVsXFx1MDBlOVxcXCJcXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBwYXIgZFxcdTAwZTlmYXV0XFxuICAgICAqL1xcbiAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudCgpIHtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIGF2ZWMgdG91cyBsZXMgcGFyYW1cXHUwMGU4dHJlc1xcbiAgICAgKiBAcGFyYW0gaWQgSWRlbnRpZmlhbnQgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHBhcmFtIHVzZXIgVXRpbGlzYXRldXIgcXVpIHJcXHUwMGU5c2VydmVcXG4gICAgICogQHBhcmFtIGV2ZW50IFxcdTAwYzl2XFx1MDBlOW5lbWVudCByXFx1MDBlOXNlcnZcXHUwMGU5XFxuICAgICAqIEBwYXJhbSBkYXRlUmVzZXJ2YXRpb24gRGF0ZSBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKiBAcGFyYW0gc3RhdHV0IFN0YXR1dCBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKi9cXG4gICAgcHVibGljIFJlc2VydmVyRXZlbnQoaW50IGlkLCBVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcXG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcXG4gICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xcbiAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBzYW5zIGlkIChwb3VyIGxlcyBub3V2ZWxsZXMgclxcdTAwZTlzZXJ2YXRpb25zKVxcbiAgICAgKiBAcGFyYW0gdXNlciBVdGlsaXNhdGV1ciBxdWkgclxcdTAwZTlzZXJ2ZVxcbiAgICAgKiBAcGFyYW0gZXZlbnQgXFx1MDBjOXZcXHUwMGU5bmVtZW50IHJcXHUwMGU5c2VydlxcdTAwZTlcXG4gICAgICogQHBhcmFtIGRhdGVSZXNlcnZhdGlvbiBEYXRlIGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqIEBwYXJhbSBzdGF0dXQgU3RhdHV0IGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqL1xcbiAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudChVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcXG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcXG4gICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xcbiAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XFxuICAgIH1cXG5cXG4gICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXFxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XFxuICAgICAgICByZXR1cm4gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XFxuICAgICAgICB0aGlzLmlkID0gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFVzZXIgZ2V0VXNlcigpIHtcXG4gICAgICAgIHJldHVybiB1c2VyO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXIoVXNlciB1c2VyKSB7XFxuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBFdmVudCBnZXRFdmVudCgpIHtcXG4gICAgICAgIHJldHVybiBldmVudDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRFdmVudChFdmVudCBldmVudCkge1xcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBEYXRlIGdldERhdGVSZXNlcnZhdGlvbigpIHtcXG4gICAgICAgIHJldHVybiBkYXRlUmVzZXJ2YXRpb247XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZVJlc2VydmF0aW9uKERhdGUgZGF0ZVJlc2VydmF0aW9uKSB7XFxuICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1dCgpIHtcXG4gICAgICAgIHJldHVybiBzdGF0dXQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHV0KFN0cmluZyBzdGF0dXQpIHtcXG4gICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xcbiAgICB9XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xcbiAgICAgICAgcmV0dXJuIFxcXCJSZXNlcnZlckV2ZW50e1xcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiaWQ9XFxcIiArIGlkICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgdXNlcj1cXFwiICsgdXNlciArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGV2ZW50PVxcXCIgKyBldmVudCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGRhdGVSZXNlcnZhdGlvbj1cXFwiICsgZGF0ZVJlc2VydmF0aW9uICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgc3RhdHV0PSdcXFwiICsgc3RhdHV0ICsgJ1xcXFwnJyArXFxuICAgICAgICAgICAgICAgICd9JztcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGNyw6lvbnMgbCdlbnRpdMOpIFJlc2VydmVyRXZlbnQgZGFucyBsZSBib24gcGFja2FnZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURjN0w5anNvV3d0RnFzZUU1ano0bmYifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsJ2VudGl0w6kgUmVzZXJ2ZXJFdmVudCBkYW5zIGxlIGJvbiBwYWNrYWdlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNjODgyMzhiLWNlZWItNDU4Mi1iZTMxLWVmOWNkMDJjZmJiZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZjbmZoNldqcVB3NHBxUU53TVFFNk4iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xcblxcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xcblxcbnB1YmxpYyBjbGFzcyBNYWluIHtcXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcXG4gICAgICAgIC8vIFRlc3QgZGVzIGVudGl0XFx1MDBlOXNcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ29ubmV4aW9uIFxcdTAwZTAgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkNvbm5leGlvbiBcXHUwMGUwIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllcyBcXHUwMGU5dGFibGllXFxcIik7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXRcXHUwMGU5c1xcbiAgICAgICAgICAgIHRlc3RFbnRpdGllcygpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkVycmV1cjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIFxcbiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHRlc3RFbnRpdGllcygpIHtcXG4gICAgICAgIC8vIENyXFx1MDBlOWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxcbiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcXG4gICAgICAgIHVzZXIuc2V0Tm9tKFxcXCJEb2VcXFwiKTtcXG4gICAgICAgIHVzZXIuc2V0UHJlbm9tKFxcXCJKb2huXFxcIik7XFxuICAgICAgICB1c2VyLnNldEVtYWlsKFxcXCJqb2huLmRvZUBleGFtcGxlLmNvbVxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJVdGlsaXNhdGV1ciBjclxcdTAwZTlcXHUwMGU5OiBcXFwiICsgdXNlcik7XFxuICAgICAgICBcXG4gICAgICAgIC8vIENyXFx1MDBlOWF0aW9uIGQndW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50IGRlIHRlc3RcXG4gICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XFxuICAgICAgICBldmVudC5zZXRUaXRsZShcXFwiXFx1MDBjOXZcXHUwMGU5bmVtZW50IGRlIHRlc3RcXFwiKTtcXG4gICAgICAgIGV2ZW50LnNldERlc2NyaXB0aW9uKFxcXCJEZXNjcmlwdGlvbiBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxcIik7XFxuICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KG5ldyBEYXRlKCkpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9maW4obmV3IERhdGUoKSk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnQgY3JcXHUwMGU5XFx1MDBlOTogXFxcIiArIGV2ZW50KTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXFxuICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XFxuICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTk6IFxcXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gVGVzdCBkZSByXFx1MDBlOXNlcnZhdGlvbiBkJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XFxuICAgICAgICByZXNlcnZhdGlvbi5zZXRVc2VyKHVzZXIpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0RXZlbnQoZXZlbnQpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiUlxcdTAwZTlzZXJ2YXRpb24gY3JcXHUwMGU5XFx1MDBlOWU6IFxcXCIgKyByZXNlcnZhdGlvbik7XFxuICAgIH1cXG59XCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyU2Vzc2lvbjtcXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuUmVzZXJ2ZXJFdmVudDtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcXG5cXG5wdWJsaWMgY2xhc3MgTWFpbiB7XFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XFxuICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdFxcdTAwZTlzXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENvbm5leGlvbiBcXHUwMGUwIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJDb25uZXhpb24gXFx1MDBlMCBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXMgXFx1MDBlOXRhYmxpZVxcXCIpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0XFx1MDBlOXNcXG4gICAgICAgICAgICB0ZXN0RW50aXRpZXMoKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJFcnJldXI6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBcXG4gICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XFxuICAgICAgICAvLyBDclxcdTAwZTlhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcXG4gICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XFxuICAgICAgICB1c2VyLnNldE5vbShcXFwiRG9lXFxcIik7XFxuICAgICAgICB1c2VyLnNldFByZW5vbShcXFwiSm9oblxcXCIpO1xcbiAgICAgICAgdXNlci5zZXRFbWFpbChcXFwiam9obi5kb2VAZXhhbXBsZS5jb21cXFwiKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXRpbGlzYXRldXIgY3JcXHUwMGU5XFx1MDBlOTogXFxcIiArIHVzZXIpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBDclxcdTAwZTlhdGlvbiBkJ3VuIFxcdTAwZTl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxuICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xcbiAgICAgICAgZXZlbnQuc2V0VGl0bGUoXFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxcIik7XFxuICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcXFwiRGVzY3JpcHRpb24gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnQgZGUgdGVzdFxcXCIpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcXG4gICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiXFx1MDBjOXZcXHUwMGU5bmVtZW50IGNyXFx1MDBlOVxcdTAwZTk6IFxcXCIgKyBldmVudCk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIFRlc3QgZGUgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxcbiAgICAgICAgVXNlclNlc3Npb24gdXNlclNlc3Npb24gPSBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpO1xcbiAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlV0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5OiBcXFwiICsgdXNlclNlc3Npb24uZ2V0Q3VycmVudFVzZXIoKSk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIFRlc3QgZGUgclxcdTAwZTlzZXJ2YXRpb24gZCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICAgIFJlc2VydmVyRXZlbnQgcmVzZXJ2YXRpb24gPSBuZXcgUmVzZXJ2ZXJFdmVudCgpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldERhdGVSZXNlcnZhdGlvbihuZXcgRGF0ZSgpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlJcXHUwMGU5c2VydmF0aW9uIGNyXFx1MDBlOVxcdTAwZTllOiBcXFwiICsgcmVzZXJ2YXRpb24pO1xcbiAgICB9XFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA2MX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgY29ycmlnZW9ucyBsZSBmaWNoaWVyIE1haW4uamF2YSBwb3VyIHV0aWxpc2VyIGxlcyBlbnRpdMOpcyBkYW5zIGxlIGJvbiBwYWNrYWdlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNlRkaWNBQ2l0VXlXVHVDcjZLTXRScSJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBjb3JyaWdlb25zIGxlIGZpY2hpZXIgTWFpbi5qYXZhIHBvdXIgdXRpbGlzZXIgbGVzIGVudGl0w6lzIGRhbnMgbGUgYm9uIHBhY2thZ2U6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOGQyNjdiM2UtMTQ2OC00OTRiLWI4OTYtNDQyY2I4NGQxYTg0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOEo0dzJvRWpaZnNScEtHR05CQjNBNiIsInRvb2xfbmFtZSI6InNoZWxsIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJpZiAoVGVzdC1QYXRoIC1QYXRoIFxcXCJzcmMvbWFpbi9qYXZhL3Rlc3RzL1VzZXJTZXNzaW9uLmphdmFcXFwiKSB7IFJlbW92ZS1JdGVtIC1QYXRoIFxcXCJzcmMvbWFpbi9qYXZhL3Rlc3RzL1VzZXJTZXNzaW9uLmphdmFcXFwiIH1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIHN1cHByaW1vbnMgbGUgZmljaGllciBVc2VyU2Vzc2lvbi5qYXZhIGRhbnMgbGUgcGFja2FnZSB0ZXN0cyBzJ2lsIGV4aXN0ZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XG4gICAgIDVcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyU2Vzc2lvbjtcbiAgICAgNlx0aW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlJlc2VydmVyRXZlbnQ7XG4gICAgIDdcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgIDExXHRcbiAgICAxMlx0cHVibGljIGNsYXNzIE1haW4ge1xuICAgIDEzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAxNFx0ICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDE1XHQgICAgICAgIHRyeSB7XG4gICAgMTZcdCAgICAgICAgICAgIC8vIENvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMTdcdCAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMThcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAyMVx0ICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjRcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjZcdCAgICAgICAgfVxuICAgIDI3XHQgICAgfVxuICAgIDI4XHRcbiAgICAyOVx0ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xuICAgIDMwXHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAzMVx0ICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgIDMyXHQgICAgICAgIHVzZXIuc2V0Tm9tKFwiRG9lXCIpO1xuICAgIDMzXHQgICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAzNFx0ICAgICAgICB1c2VyLnNldEVtYWlsKFwiam9obi5kb2VAZXhhbXBsZS5jb21cIik7XG4gICAgMzVcdFxuICAgIDM2XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgMzdcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY3LDqcOpOiBcIiArIHVzZXIpO1xuICAgIDM4XHRcbiAgICAzOVx0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgNDBcdCAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICA0MVx0ICAgICAgICBldmVudC5zZXRUaXRsZShcIsOJdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDJcdCAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDNcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcbiAgICA0NFx0ICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcbiAgICA0NVx0XG4gICAgNDZcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnw6l2w6luZW1lbnRcbiAgICA0N1x0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLDiXbDqW5lbWVudCBjcsOpw6k6IFwiICsgZXZlbnQpO1xuICAgIDQ4XHRcbiAgICA0OVx0ICAgICAgICAvLyBUZXN0IGRlIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICA1MFx0ICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgNTFcdCAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgNTJcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY29ubmVjdMOpOiBcIiArIHVzZXJTZXNzaW9uLmdldEN1cnJlbnRVc2VyKCkpO1xuICAgIDUzXHRcbiAgICA1NFx0ICAgICAgICAvLyBUZXN0IGRlIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgNTVcdCAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XG4gICAgNTZcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcbiAgICA1N1x0ICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XG4gICAgNThcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNjFcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsOpc2VydmF0aW9uIGNyw6nDqWU6IFwiICsgcmVzZXJ2YXRpb24pO1xuICAgIDYyXHQgICAgfVxuICAgIDYzXHR9XG4gICAgNjRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWY25maDZXanFQdzRwcVFOd01RRTZOIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIHN1cHByaW1vbnMgbGUgZmljaGllciBVc2VyU2Vzc2lvbi5qYXZhIGRhbnMgbGUgcGFja2FnZSB0ZXN0cyBzJ2lsIGV4aXN0ZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5N2NkZjIyYi1iZDEzLTQ2MzktYTdkMS1hYzg1ZmVmM2I0ZDIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2aGpRUDQ5RzZMQ053TXJ2ZVg0Mm1tIiwidG9vbF9uYW1lIjoic2hlbGwiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcImlmIChUZXN0LVBhdGggLVBhdGggXFxcInNyYy9tYWluL2phdmEvdGVzdHMvUmVzZXJ2ZXJFdmVudC5qYXZhXFxcIikgeyBSZW1vdmUtSXRlbSAtUGF0aCBcXFwic3JjL21haW4vamF2YS90ZXN0cy9SZXNlcnZlckV2ZW50LmphdmFcXFwiIH1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlN1cHByaW1vbnMgw6lnYWxlbWVudCBsZSBmaWNoaWVyIFJlc2VydmVyRXZlbnQuamF2YSBkYW5zIGxlIHBhY2thZ2UgdGVzdHMgcydpbCBleGlzdGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiIiLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4SjR3Mm9Falpmc1JwS0dHTkJCM0E2In19XSwicmVzcG9uc2VfdGV4dCI6IlN1cHByaW1vbnMgw6lnYWxlbWVudCBsZSBmaWNoaWVyIFJlc2VydmVyRXZlbnQuamF2YSBkYW5zIGxlIHBhY2thZ2UgdGVzdHMgcydpbCBleGlzdGU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMzRmNDM3NTktYjljOC00NWY4LTgzNWYtMDgxYTBkNTQ2YjY4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSGRvaEZlU0pYVVRrSzN5bUg0a3VRNyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL1Jlc2VydmVyRXZlbnQuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVsOpcmlmaW9ucyBxdWUgdG91dCBlc3QgZW4gb3JkcmU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiIiLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2aGpRUDQ5RzZMQ053TXJ2ZVg0Mm1tIn19XSwicmVzcG9uc2VfdGV4dCI6IlbDqXJpZmlvbnMgcXVlIHRvdXQgZXN0IGVuIG9yZHJlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdjYTBiYzQyLTQ2NjYtNDdhMy05YmJjLTU2YTcxZGQ5MmY2ZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRFWG9SNWdFQ1RXOUFjMkNjZzVvWEYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvUmVzZXJ2ZXJFdmVudC5qYXZhOlxuICAgICAxXHRwYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgICA0XHRcbiAgICAgNVx0LyoqXG4gICAgIDZcdCAqIENsYXNzZSByZXByw6lzZW50YW50IHVuZSByw6lzZXJ2YXRpb24gZCfDqXbDqW5lbWVudFxuICAgICA3XHQgKiBGYWl0IGxhIGpvaW50dXJlIGVudHJlIHVuIHV0aWxpc2F0ZXVyIGV0IHVuIMOpdsOpbmVtZW50XG4gICAgIDhcdCAqL1xuICAgICA5XHRwdWJsaWMgY2xhc3MgUmVzZXJ2ZXJFdmVudCB7XG4gICAgMTBcdCAgICBwcml2YXRlIGludCBpZDtcbiAgICAxMVx0ICAgIHByaXZhdGUgVXNlciB1c2VyO1xuICAgIDEyXHQgICAgcHJpdmF0ZSBFdmVudCBldmVudDtcbiAgICAxM1x0ICAgIHByaXZhdGUgRGF0ZSBkYXRlUmVzZXJ2YXRpb247XG4gICAgMTRcdCAgICBwcml2YXRlIFN0cmluZyBzdGF0dXQ7IC8vIFBhciBleGVtcGxlOiBcImNvbmZpcm3DqVwiLCBcImVuIGF0dGVudGVcIiwgXCJhbm51bMOpXCJcbiAgICAxNVx0XG4gICAgMTZcdCAgICAvKipcbiAgICAxN1x0ICAgICAqIENvbnN0cnVjdGV1ciBwYXIgZMOpZmF1dFxuICAgIDE4XHQgICAgICovXG4gICAgMTlcdCAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudCgpIHtcbiAgICAyMFx0ICAgIH1cbiAgICAyMVx0XG4gICAgMjJcdCAgICAvKipcbiAgICAyM1x0ICAgICAqIENvbnN0cnVjdGV1ciBhdmVjIHRvdXMgbGVzIHBhcmFtw6h0cmVzXG4gICAgMjRcdCAgICAgKiBAcGFyYW0gaWQgSWRlbnRpZmlhbnQgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgMjVcdCAgICAgKiBAcGFyYW0gdXNlciBVdGlsaXNhdGV1ciBxdWkgcsOpc2VydmVcbiAgICAyNlx0ICAgICAqIEBwYXJhbSBldmVudCDDiXbDqW5lbWVudCByw6lzZXJ2w6lcbiAgICAyN1x0ICAgICAqIEBwYXJhbSBkYXRlUmVzZXJ2YXRpb24gRGF0ZSBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICAyOFx0ICAgICAqIEBwYXJhbSBzdGF0dXQgU3RhdHV0IGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDI5XHQgICAgICovXG4gICAgMzBcdCAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudChpbnQgaWQsIFVzZXIgdXNlciwgRXZlbnQgZXZlbnQsIERhdGUgZGF0ZVJlc2VydmF0aW9uLCBTdHJpbmcgc3RhdHV0KSB7XG4gICAgMzFcdCAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIDMyXHQgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgMzNcdCAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgIDM0XHQgICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xuICAgIDM1XHQgICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xuICAgIDM2XHQgICAgfVxuICAgIDM3XHRcbiAgICAzOFx0ICAgIC8qKlxuICAgIDM5XHQgICAgICogQ29uc3RydWN0ZXVyIHNhbnMgaWQgKHBvdXIgbGVzIG5vdXZlbGxlcyByw6lzZXJ2YXRpb25zKVxuICAgIDQwXHQgICAgICogQHBhcmFtIHVzZXIgVXRpbGlzYXRldXIgcXVpIHLDqXNlcnZlXG4gICAgNDFcdCAgICAgKiBAcGFyYW0gZXZlbnQgw4l2w6luZW1lbnQgcsOpc2VydsOpXG4gICAgNDJcdCAgICAgKiBAcGFyYW0gZGF0ZVJlc2VydmF0aW9uIERhdGUgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNDNcdCAgICAgKiBAcGFyYW0gc3RhdHV0IFN0YXR1dCBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICA0NFx0ICAgICAqL1xuICAgIDQ1XHQgICAgcHVibGljIFJlc2VydmVyRXZlbnQoVXNlciB1c2VyLCBFdmVudCBldmVudCwgRGF0ZSBkYXRlUmVzZXJ2YXRpb24sIFN0cmluZyBzdGF0dXQpIHtcbiAgICA0Nlx0ICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgIDQ3XHQgICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICA0OFx0ICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcbiAgICA0OVx0ICAgICAgICB0aGlzLnN0YXR1dCA9IHN0YXR1dDtcbiAgICA1MFx0ICAgIH1cbiAgICA1MVx0XG4gICAgNTJcdCAgICAvLyBHZXR0ZXJzIGV0IFNldHRlcnNcbiAgICA1M1x0ICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XG4gICAgNTRcdCAgICAgICAgcmV0dXJuIGlkO1xuICAgIDU1XHQgICAgfVxuICAgIDU2XHRcbiAgICA1N1x0ICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkge1xuICAgIDU4XHQgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICA1OVx0ICAgIH1cbiAgICA2MFx0XG4gICAgNjFcdCAgICBwdWJsaWMgVXNlciBnZXRVc2VyKCkge1xuICAgIDYyXHQgICAgICAgIHJldHVybiB1c2VyO1xuICAgIDYzXHQgICAgfVxuICAgIDY0XHRcbiAgICA2NVx0ICAgIHB1YmxpYyB2b2lkIHNldFVzZXIoVXNlciB1c2VyKSB7XG4gICAgNjZcdCAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICA2N1x0ICAgIH1cbiAgICA2OFx0XG4gICAgNjlcdCAgICBwdWJsaWMgRXZlbnQgZ2V0RXZlbnQoKSB7XG4gICAgNzBcdCAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIDcxXHQgICAgfVxuICAgIDcyXHRcbiAgICA3M1x0ICAgIHB1YmxpYyB2b2lkIHNldEV2ZW50KEV2ZW50IGV2ZW50KSB7XG4gICAgNzRcdCAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgIDc1XHQgICAgfVxuICAgIDc2XHRcbiAgICA3N1x0ICAgIHB1YmxpYyBEYXRlIGdldERhdGVSZXNlcnZhdGlvbigpIHtcbiAgICA3OFx0ICAgICAgICByZXR1cm4gZGF0ZVJlc2VydmF0aW9uO1xuICAgIDc5XHQgICAgfVxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyB2b2lkIHNldERhdGVSZXNlcnZhdGlvbihEYXRlIGRhdGVSZXNlcnZhdGlvbikge1xuICAgIDgyXHQgICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xuICAgIDgzXHQgICAgfVxuICAgIDg0XHRcbiAgICA4NVx0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0U3RhdHV0KCkge1xuICAgIDg2XHQgICAgICAgIHJldHVybiBzdGF0dXQ7XG4gICAgODdcdCAgICB9XG4gICAgODhcdFxuICAgIDg5XHQgICAgcHVibGljIHZvaWQgc2V0U3RhdHV0KFN0cmluZyBzdGF0dXQpIHtcbiAgICA5MFx0ICAgICAgICB0aGlzLnN0YXR1dCA9IHN0YXR1dDtcbiAgICA5MVx0ICAgIH1cbiAgICA5Mlx0XG4gICAgOTNcdCAgICBAT3ZlcnJpZGVcbiAgICA5NFx0ICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgOTVcdCAgICAgICAgcmV0dXJuIFwiUmVzZXJ2ZXJFdmVudHtcIiArXG4gICAgOTZcdCAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgIDk3XHQgICAgICAgICAgICAgICAgXCIsIHVzZXI9XCIgKyB1c2VyICtcbiAgICA5OFx0ICAgICAgICAgICAgICAgIFwiLCBldmVudD1cIiArIGV2ZW50ICtcbiAgICA5OVx0ICAgICAgICAgICAgICAgIFwiLCBkYXRlUmVzZXJ2YXRpb249XCIgKyBkYXRlUmVzZXJ2YXRpb24gK1xuICAgMTAwXHQgICAgICAgICAgICAgICAgXCIsIHN0YXR1dD0nXCIgKyBzdGF0dXQgKyAnXFwnJyArXG4gICAxMDFcdCAgICAgICAgICAgICAgICAnfSc7XG4gICAxMDJcdCAgICB9XG4gICAxMDNcdH1cbiAgIDEwNFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMDRcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUhkb2hGZVNKWFVUa0szeW1INGt1UTcifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFjNGM5YmU4LTAwNWMtNDBmZC05MGI4LWMxNGRkZTVjN2VjZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVJxR0pweVFCb3BabkplZmNOVmROQXYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhOlxuICAgICAxXHRwYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuICAgICAyXHRcbiAgICAgM1x0LyoqXG4gICAgIDRcdCAqIENsYXNzZSBzaW5nbGV0b24gcG91ciBnw6lyZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgICA1XHQgKi9cbiAgICAgNlx0cHVibGljIGNsYXNzIFVzZXJTZXNzaW9uIHtcbiAgICAgN1x0ICAgIHByaXZhdGUgc3RhdGljIFVzZXJTZXNzaW9uIGluc3RhbmNlO1xuICAgICA4XHQgICAgcHJpdmF0ZSBVc2VyIGN1cnJlbnRVc2VyO1xuICAgICA5XHRcbiAgICAxMFx0ICAgIC8vIENvbnN0cnVjdGV1ciBwcml2w6kgcG91ciBlbXDDqmNoZXIgbCdpbnN0YW5jaWF0aW9uIGRpcmVjdGVcbiAgICAxMVx0ICAgIHByaXZhdGUgVXNlclNlc3Npb24oKSB7XG4gICAgMTJcdCAgICB9XG4gICAgMTNcdFxuICAgIDE0XHQgICAgLyoqXG4gICAgMTVcdCAgICAgKiBPYnRpZW50IGwnaW5zdGFuY2UgdW5pcXVlIGRlIFVzZXJTZXNzaW9uXG4gICAgMTZcdCAgICAgKiBAcmV0dXJuIEwnaW5zdGFuY2UgZGUgVXNlclNlc3Npb25cbiAgICAxN1x0ICAgICAqL1xuICAgIDE4XHQgICAgcHVibGljIHN0YXRpYyBVc2VyU2Vzc2lvbiBnZXRJbnN0YW5jZSgpIHtcbiAgICAxOVx0ICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgIDIwXHQgICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBVc2VyU2Vzc2lvbigpO1xuICAgIDIxXHQgICAgICAgIH1cbiAgICAyMlx0ICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgMjNcdCAgICB9XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLyoqXG4gICAgMjZcdCAgICAgKiBEw6lmaW5pdCBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0w6lcbiAgICAyN1x0ICAgICAqIEBwYXJhbSB1c2VyIEwndXRpbGlzYXRldXIgY29ubmVjdMOpXG4gICAgMjhcdCAgICAgKi9cbiAgICAyOVx0ICAgIHB1YmxpYyB2b2lkIHNldEN1cnJlbnRVc2VyKFVzZXIgdXNlcikge1xuICAgIDMwXHQgICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB1c2VyO1xuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIC8qKlxuICAgIDM0XHQgICAgICogT2J0aWVudCBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0w6lcbiAgICAzNVx0ICAgICAqIEByZXR1cm4gTCd1dGlsaXNhdGV1ciBjb25uZWN0w6lcbiAgICAzNlx0ICAgICAqL1xuICAgIDM3XHQgICAgcHVibGljIFVzZXIgZ2V0Q3VycmVudFVzZXIoKSB7XG4gICAgMzhcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xuICAgIDM5XHQgICAgfVxuICAgIDQwXHRcbiAgICA0MVx0ICAgIC8qKlxuICAgIDQyXHQgICAgICogRMOpY29ubmVjdGUgbCd1dGlsaXNhdGV1ciBhY3R1ZWxcbiAgICA0M1x0ICAgICAqL1xuICAgIDQ0XHQgICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xuICAgIDQ1XHQgICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBudWxsO1xuICAgIDQ2XHQgICAgfVxuICAgIDQ3XHRcbiAgICA0OFx0ICAgIC8qKlxuICAgIDQ5XHQgICAgICogVsOpcmlmaWUgc2kgdW4gdXRpbGlzYXRldXIgZXN0IGNvbm5lY3TDqVxuICAgIDUwXHQgICAgICogQHJldHVybiB0cnVlIHNpIHVuIHV0aWxpc2F0ZXVyIGVzdCBjb25uZWN0w6ksIGZhbHNlIHNpbm9uXG4gICAgNTFcdCAgICAgKi9cbiAgICA1Mlx0ICAgIHB1YmxpYyBib29sZWFuIGlzTG9nZ2VkSW4oKSB7XG4gICAgNTNcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyICE9IG51bGw7XG4gICAgNTRcdCAgICB9XG4gICAgNTVcdH1cbiAgICA1Nlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVEVYb1I1Z0VDVFc5QWMyQ2NnNW9YRiJ9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYzJjY2Q2Y2YtNDFhZC00NTg1LTllYzUtZjE1MDNmNTY3NTFhIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSHlqTEFFOTlpMmhNU21DVVJSalBaQSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwicGFja2FnZSB0ZXN0cztcXG5cXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XFxuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XFxuXFxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcXG5pbXBvcnQgamF2YS51dGlsLkRhdGU7XCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyU2Vzc2lvbjtcXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuUmVzZXJ2ZXJFdmVudDtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogOH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSmUgdm9pcyBxdSdpbCB5IGEgdW4gcHJvYmzDqG1lIGRhbnMgbGUgZmljaGllciBNYWluLmphdmEuIExlcyBpbXBvcnRzIHBvdXIgVXNlclNlc3Npb24gZXQgUmVzZXJ2ZXJFdmVudCBzb250IG1hbnF1YW50cy4gQ29ycmlnZW9ucyBjZWxhOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YTpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XG4gICAgIDVcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgICA5XHRcbiAgICAxMFx0cHVibGljIGNsYXNzIE1haW4ge1xuICAgIDExXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAxMlx0ICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDEzXHQgICAgICAgIHRyeSB7XG4gICAgMTRcdCAgICAgICAgICAgIC8vIENvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMTVcdCAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMTZcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAxOVx0ICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjJcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjNcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjRcdCAgICAgICAgfVxuICAgIDI1XHQgICAgfVxuICAgIDI2XHRcbiAgICAyN1x0ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xuICAgIDI4XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAyOVx0ICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgIDMwXHQgICAgICAgIHVzZXIuc2V0Tm9tKFwiRG9lXCIpO1xuICAgIDMxXHQgICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAzMlx0ICAgICAgICB1c2VyLnNldEVtYWlsKFwiam9obi5kb2VAZXhhbXBsZS5jb21cIik7XG4gICAgMzNcdFxuICAgIDM0XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgMzVcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY3LDqcOpOiBcIiArIHVzZXIpO1xuICAgIDM2XHRcbiAgICAzN1x0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgMzhcdCAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICAzOVx0ICAgICAgICBldmVudC5zZXRUaXRsZShcIsOJdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDBcdCAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDFcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcbiAgICA0Mlx0ICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnw6l2w6luZW1lbnRcbiAgICA0NVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLDiXbDqW5lbWVudCBjcsOpw6k6IFwiICsgZXZlbnQpO1xuICAgIDQ2XHRcbiAgICA0N1x0ICAgICAgICAvLyBUZXN0IGRlIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICA0OFx0ICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgNDlcdCAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgNTBcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY29ubmVjdMOpOiBcIiArIHVzZXJTZXNzaW9uLmdldEN1cnJlbnRVc2VyKCkpO1xuICAgIDUxXHRcbiAgICA1Mlx0ICAgICAgICAvLyBUZXN0IGRlIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgNTNcdCAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XG4gICAgNTRcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcbiAgICA1NVx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XG4gICAgNTZcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xuICAgIDU3XHRcbiAgICA1OFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNTlcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsOpc2VydmF0aW9uIGNyw6nDqWU6IFwiICsgcmVzZXJ2YXRpb24pO1xuICAgIDYwXHQgICAgfVxuICAgIDYxXHR9XG4gICAgNjJcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNjJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVJxR0pweVFCb3BabkplZmNOVmROQXYifX1dLCJyZXNwb25zZV90ZXh0IjoiSmUgdm9pcyBxdSdpbCB5IGEgdW4gcHJvYmzDqG1lIGRhbnMgbGUgZmljaGllciBNYWluLmphdmEuIExlcyBpbXBvcnRzIHBvdXIgVXNlclNlc3Npb24gZXQgUmVzZXJ2ZXJFdmVudCBzb250IG1hbnF1YW50cy4gQ29ycmlnZW9ucyBjZWxhOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjE5ZGMyZDUyLWE4MmItNDliNy04NjE3LWMyMTBlMmQ3MDVjZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBhcmZhaXQgISBKJ2FpIG1haW50ZW5hbnQgOlxuXG4xLiBTdXBwcmltw6kgdG91dCBjZSBxdWkgY29uY2VybmUgbCdlbnRpdMOpIFBlcnNvbm5lIGRhbnMgTWFpbi5qYXZhXG4yLiBDcsOpw6kgbCdlbnRpdMOpIFVzZXJTZXNzaW9uIGRhbnMgbGUgcGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllc1xuMy4gQ3LDqcOpIGwnZW50aXTDqSBSZXNlcnZlckV2ZW50IGRhbnMgbGUgcGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllc1xuNC4gTWlzIMOgIGpvdXIgbGUgZmljaGllciBNYWluLmphdmEgcG91ciB1dGlsaXNlciBjZXMgbm91dmVsbGVzIGVudGl0w6lzXG5cblZvaWNpIHVuIHLDqXN1bcOpIGRlcyBtb2RpZmljYXRpb25zIGVmZmVjdHXDqWVzIDpcblxuMS4gKipTdXBwcmVzc2lvbiBkZSBsJ2VudGl0w6kgUGVyc29ubmUqKiA6IEonYWkgcmV0aXLDqSB0b3V0ZXMgbGVzIHLDqWbDqXJlbmNlcyDDoCBsJ2VudGl0w6kgUGVyc29ubmUgZGFucyBsZSBmaWNoaWVyIE1haW4uamF2YS5cblxuMi4gKipDcsOpYXRpb24gZGUgbCdlbnRpdMOpIFVzZXJTZXNzaW9uKiogOiBKJ2FpIGNyw6nDqSB1bmUgY2xhc3NlIHNpbmdsZXRvbiBwb3VyIGfDqXJlciBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyLCBwZXJtZXR0YW50IGRlIHN0b2NrZXIgZXQgcsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0w6kuXG5cbjMuICoqQ3LDqWF0aW9uIGRlIGwnZW50aXTDqSBSZXNlcnZlckV2ZW50KiogOiBKJ2FpIGNyw6nDqSB1bmUgY2xhc3NlIHF1aSBmYWl0IGxhIGpvaW50dXJlIGVudHJlIHVuIHV0aWxpc2F0ZXVyIChVc2VyKSBldCB1biDDqXbDqW5lbWVudCAoRXZlbnQpLCBhdmVjIGxlcyBwcm9wcmnDqXTDqXMgbsOpY2Vzc2FpcmVzIHBvdXIgZ8OpcmVyIGxlcyByw6lzZXJ2YXRpb25zLlxuXG40LiAqKk1pc2Ugw6Agam91ciBkdSBmaWNoaWVyIE1haW4uamF2YSoqIDogSidhaSBtb2RpZmnDqSBsZSBmaWNoaWVyIHBvdXIgdGVzdGVyIGxlcyBub3V2ZWxsZXMgZW50aXTDqXMsIGVuIGNyw6lhbnQgZGVzIGluc3RhbmNlcyBldCBlbiBhZmZpY2hhbnQgbGV1cnMgaW5mb3JtYXRpb25zLlxuXG5Ub3V0ZXMgY2VzIG1vZGlmaWNhdGlvbnMgcmVzcGVjdGVudCBsJ2FyY2hpdGVjdHVyZSBkdSBwcm9qZXQsIGVuIHBsYcOnYW50IGxlcyBub3V2ZWxsZXMgZW50aXTDqXMgZGFucyBsZSBwYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzIG/DuSBzZSB0cm91dmVudCBkw6lqw6AgbGVzIGVudGl0w6lzIFVzZXIgZXQgRXZlbnQuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDFcdHBhY2thZ2UgdGVzdHM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xuICAgICA1XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlclNlc3Npb247XG4gICAgIDZcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5SZXNlcnZlckV2ZW50O1xuICAgICA3XHRpbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTBcdGltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcbiAgICAxMVx0XG4gICAgMTJcdHB1YmxpYyBjbGFzcyBNYWluIHtcbiAgICAxM1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgMTRcdCAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSHlqTEFFOTlpMmhNU21DVVJSalBaQSJ9fV0sInJlc3BvbnNlX3RleHQiOiJQYXJmYWl0ICEgSidhaSBtYWludGVuYW50IDpcblxuMS4gU3VwcHJpbcOpIHRvdXQgY2UgcXVpIGNvbmNlcm5lIGwnZW50aXTDqSBQZXJzb25uZSBkYW5zIE1haW4uamF2YVxuMi4gQ3LDqcOpIGwnZW50aXTDqSBVc2VyU2Vzc2lvbiBkYW5zIGxlIHBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXNcbjMuIENyw6nDqSBsJ2VudGl0w6kgUmVzZXJ2ZXJFdmVudCBkYW5zIGxlIHBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXNcbjQuIE1pcyDDoCBqb3VyIGxlIGZpY2hpZXIgTWFpbi5qYXZhIHBvdXIgdXRpbGlzZXIgY2VzIG5vdXZlbGxlcyBlbnRpdMOpc1xuXG5Wb2ljaSB1biByw6lzdW3DqSBkZXMgbW9kaWZpY2F0aW9ucyBlZmZlY3R1w6llcyA6XG5cbjEuICoqU3VwcHJlc3Npb24gZGUgbCdlbnRpdMOpIFBlcnNvbm5lKiogOiBKJ2FpIHJldGlyw6kgdG91dGVzIGxlcyByw6lmw6lyZW5jZXMgw6AgbCdlbnRpdMOpIFBlcnNvbm5lIGRhbnMgbGUgZmljaGllciBNYWluLmphdmEuXG5cbjIuICoqQ3LDqWF0aW9uIGRlIGwnZW50aXTDqSBVc2VyU2Vzc2lvbioqIDogSidhaSBjcsOpw6kgdW5lIGNsYXNzZSBzaW5nbGV0b24gcG91ciBnw6lyZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1ciwgcGVybWV0dGFudCBkZSBzdG9ja2VyIGV0IHLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpLlxuXG4zLiAqKkNyw6lhdGlvbiBkZSBsJ2VudGl0w6kgUmVzZXJ2ZXJFdmVudCoqIDogSidhaSBjcsOpw6kgdW5lIGNsYXNzZSBxdWkgZmFpdCBsYSBqb2ludHVyZSBlbnRyZSB1biB1dGlsaXNhdGV1ciAoVXNlcikgZXQgdW4gw6l2w6luZW1lbnQgKEV2ZW50KSwgYXZlYyBsZXMgcHJvcHJpw6l0w6lzIG7DqWNlc3NhaXJlcyBwb3VyIGfDqXJlciBsZXMgcsOpc2VydmF0aW9ucy5cblxuNC4gKipNaXNlIMOgIGpvdXIgZHUgZmljaGllciBNYWluLmphdmEqKiA6IEonYWkgbW9kaWZpw6kgbGUgZmljaGllciBwb3VyIHRlc3RlciBsZXMgbm91dmVsbGVzIGVudGl0w6lzLCBlbiBjcsOpYW50IGRlcyBpbnN0YW5jZXMgZXQgZW4gYWZmaWNoYW50IGxldXJzIGluZm9ybWF0aW9ucy5cblxuVG91dGVzIGNlcyBtb2RpZmljYXRpb25zIHJlc3BlY3RlbnQgbCdhcmNoaXRlY3R1cmUgZHUgcHJvamV0LCBlbiBwbGHDp2FudCBsZXMgbm91dmVsbGVzIGVudGl0w6lzIGRhbnMgbGUgcGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcyBvw7kgc2UgdHJvdXZlbnQgZMOpasOgIGxlcyBlbnRpdMOpcyBVc2VyIGV0IEV2ZW50LlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjMzYTEwNzA0LTUxYzYtNDk2ZC1iOWEzLTBhNGJjY2Q0MTZiMCIsInJlcXVlc3RfbWVzc2FnZSI6Im1haXMgcXUnZXN0IHR1IGZhaXMgXG5cblxuXG5wb3VycXVvaSB0dSBmYWlzIGNvbW1lIGNhIGF2ZWMgbW9pIFxuamUgdCdhaSBkb25uw6kgdW5lIGluc3RydWN0aW9uIGEgcmVzcGVjdGVyXG5pbCB5YSB1biBkb3NzaWVyIGVudGl0ZXMgXG5zb3VzIGFqdmEgXG4iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoibWFpcyBxdSdlc3QgdHUgZmFpcyAifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InBvdXJxdW9pIHR1IGZhaXMgY29tbWUgY2EgYXZlYyBtb2kgIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJqZSB0J2FpIGRvbm7DqSB1bmUgaW5zdHJ1Y3Rpb24gYSByZXNwZWN0ZXIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImlsIHlhIHVuIGRvc3NpZXIgZW50aXRlcyAifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InNvdXMgYWp2YSAifSx7InR5cGUiOiJoYXJkQnJlYWsifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVCQkh3Uk5ISFhoR3BSUWtUenE0bm0iLCJ0b29sX25hbWUiOiJzaGVsbCIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiR2V0LUNoaWxkSXRlbSAtUGF0aCBcXFwic3JjL21haW4vamF2YS9lbnRpdGllc1xcXCIgLVJlY3Vyc2VcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkplIHZvdXMgcHLDqXNlbnRlIG1lcyBleGN1c2VzIHBvdXIgbGEgY29uZnVzaW9uLiBWb3VzIGF2ZXogcmFpc29uLCBqJ2FpIG1hbCBpbnRlcnByw6l0w6kgdm90cmUgZGVtYW5kZS4gSmUgdmFpcyBjb3JyaWdlciBjZWxhIGVuIHJlc3BlY3RhbnQgc3RyaWN0ZW1lbnQgbGEgc3RydWN0dXJlIGR1IHByb2pldCBhdmVjIGxlIGRvc3NpZXIgYGVudGl0aWVzYCBzb3VzIGBqYXZhYC5cblxuVsOpcmlmaW9ucyBkJ2Fib3JkIGxhIHN0cnVjdHVyZSBleGFjdGUgZHUgZG9zc2llciBgZW50aXRpZXNgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IkplIHZvdXMgcHLDqXNlbnRlIG1lcyBleGN1c2VzIHBvdXIgbGEgY29uZnVzaW9uLiBWb3VzIGF2ZXogcmFpc29uLCBqJ2FpIG1hbCBpbnRlcnByw6l0w6kgdm90cmUgZGVtYW5kZS4gSmUgdmFpcyBjb3JyaWdlciBjZWxhIGVuIHJlc3BlY3RhbnQgc3RyaWN0ZW1lbnQgbGEgc3RydWN0dXJlIGR1IHByb2pldCBhdmVjIGxlIGRvc3NpZXIgYGVudGl0aWVzYCBzb3VzIGBqYXZhYC5cblxuVsOpcmlmaW9ucyBkJ2Fib3JkIGxhIHN0cnVjdHVyZSBleGFjdGUgZHUgZG9zc2llciBgZW50aXRpZXNgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjJkMWMyMWNjLTg2YTUtNGM4My04ZDNlLTg1MGU2YjM4ODE0MSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTNnaFpodTFhQnNCSG1kV3lxa0wyWVciLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9Vc2VyLmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIGVudGl0aWVzO1xcblxcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XFxuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcblxcbnB1YmxpYyBjbGFzcyBVc2VyIHtcXG4gICAgcHJpdmF0ZSBpbnQgaWQ7XFxuICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcXG4gICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7XFxuICAgIHByaXZhdGUgU3RyaW5nIHByZW5vbTtcXG4gICAgcHJpdmF0ZSBTdHJpbmcgYWRyZXNzZTtcXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVsZXBob25lO1xcbiAgICBwcml2YXRlIGJvb2xlYW4gaXNWZXJpZmllZDtcXG4gICAgcHJpdmF0ZSBUaW1lc3RhbXAgY3JlYXRlZF9hdDtcXG4gICAgcHJpdmF0ZSBMaXN0PFN0cmluZz4gcm9sZTtcXG4gICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7XFxuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlVXJsO1xcblxcbiAgICAvLyBDb25zdHJ1Y3RldXIgcGFyIGRcXHUwMGU5ZmF1dFxcbiAgICBwdWJsaWMgVXNlcigpIHtcXG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xcbiAgICB9XFxuXFxuICAgIC8vIENvbnN0cnVjdGV1ciBhdmVjIHRvdXMgbGVzIHBhcmFtXFx1MDBlOHRyZXNcXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIFRpbWVzdGFtcCBjcmVhdGVkX2F0LCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyBpbWFnZVVybCkge1xcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xcbiAgICAgICAgdGhpcy5ub20gPSBub207XFxuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XFxuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcXG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XFxuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcXG4gICAgICAgIHRoaXMuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XFxuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XFxuICAgIH1cXG5cXG4gICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXFxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XFxuICAgICAgICByZXR1cm4gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XFxuICAgICAgICB0aGlzLmlkID0gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXROb20oKSB7XFxuICAgICAgICByZXR1cm4gbm9tO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldE5vbShTdHJpbmcgbm9tKSB7XFxuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldEVtYWlsKCkge1xcbiAgICAgICAgcmV0dXJuIGVtYWlsO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldEVtYWlsKFN0cmluZyBlbWFpbCkge1xcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJlbm9tKCkge1xcbiAgICAgICAgcmV0dXJuIHByZW5vbTtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRQcmVub20oU3RyaW5nIHByZW5vbSkge1xcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXRBZHJlc3NlKCkge1xcbiAgICAgICAgcmV0dXJuIGFkcmVzc2U7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0QWRyZXNzZShTdHJpbmcgYWRyZXNzZSkge1xcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldFRlbGVwaG9uZSgpIHtcXG4gICAgICAgIHJldHVybiB0ZWxlcGhvbmU7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0VGVsZXBob25lKFN0cmluZyB0ZWxlcGhvbmUpIHtcXG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBib29sZWFuIGlzVmVyaWZpZWQoKSB7XFxuICAgICAgICByZXR1cm4gaXNWZXJpZmllZDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRWZXJpZmllZChib29sZWFuIHZlcmlmaWVkKSB7XFxuICAgICAgICBpc1ZlcmlmaWVkID0gdmVyaWZpZWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFRpbWVzdGFtcCBnZXRDcmVhdGVkX2F0KCkge1xcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRfYXQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0Q3JlYXRlZF9hdChUaW1lc3RhbXAgY3JlYXRlZF9hdCkge1xcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZF9hdDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgTGlzdDxTdHJpbmc+IGdldFJvbGUoKSB7XFxuICAgICAgICByZXR1cm4gcm9sZTtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKExpc3Q8U3RyaW5nPiByb2xlKSB7XFxuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7XFxuICAgICAgICByZXR1cm4gcGFzc3dvcmQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0UGFzc3dvcmQoU3RyaW5nIHBhc3N3b3JkKSB7XFxuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXRJbWFnZVVybCgpIHtcXG4gICAgICAgIHJldHVybiBpbWFnZVVybDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZVVybChTdHJpbmcgaW1hZ2VVcmwpIHtcXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcXG4gICAgfVxcblxcbiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcXG4gICAgICAgIHJldHVybiBcXFwiVXNlcntcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcImlkPVxcXCIgKyBpZCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIG5vbT0nXFxcIiArIG5vbSArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBlbWFpbD0nXFxcIiArIGVtYWlsICsgJ1xcXFwnJyArXFxuICAgICAgICAgICAgICAgIFxcXCIsIHByZW5vbT0nXFxcIiArIHByZW5vbSArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBhZHJlc3NlPSdcXFwiICsgYWRyZXNzZSArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCB0ZWxlcGhvbmU9J1xcXCIgKyB0ZWxlcGhvbmUgKyAnXFxcXCcnICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgaXNWZXJpZmllZD1cXFwiICsgaXNWZXJpZmllZCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGNyZWF0ZWRfYXQ9XFxcIiArIGNyZWF0ZWRfYXQgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCByb2xlPVxcXCIgKyByb2xlICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgaW1hZ2VVcmw9J1xcXCIgKyBpbWFnZVVybCArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICAnfSc7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBqZSB2YWlzIGNyw6llciBsZXMgZW50aXTDqXMgZGFucyBsZSBib24gZG9zc2llciBgZW50aXRpZXNgIGV0IGNvcnJpZ2VyIGxlIGZpY2hpZXIgTWFpbi5qYXZhOlxuXG4xLiBEJ2Fib3JkLCBjcsOpb25zIGwnZW50aXTDqSBVc2VyIGRhbnMgbGUgZG9zc2llciBlbnRpdGllczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlxyXG5cclxuICAgIERpcmVjdG9yeTogQzpcXFVzZXJzXFwzbGV5YVxcSWRlYVByb2plY3RzXFxwaV9kZXZcXHNyY1xcbWFpblxcamF2YVxcZW50aXRpZXNcclxuXHJcblxyXG5Nb2RlICAgICAgICAgICAgICAgICBMYXN0V3JpdGVUaW1lICAgICAgICAgTGVuZ3RoIE5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4tLS0tICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgLS0tLS0tIC0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4tYS0tLS0gICAgICAgICAgNS82LzIwMjUgIDEwOjI5IEFNICAgICAgICAgICAxMjMyIFBlcnNvbm5lLmphdmEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuXHJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVCQkh3Uk5ISFhoR3BSUWtUenE0bm0ifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgamUgdmFpcyBjcsOpZXIgbGVzIGVudGl0w6lzIGRhbnMgbGUgYm9uIGRvc3NpZXIgYGVudGl0aWVzYCBldCBjb3JyaWdlciBsZSBmaWNoaWVyIE1haW4uamF2YTpcblxuMS4gRCdhYm9yZCwgY3LDqW9ucyBsJ2VudGl0w6kgVXNlciBkYW5zIGxlIGRvc3NpZXIgZW50aXRpZXM6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDczNTZiOTYtNmQ4OC00ZWJhLWI1OWUtY2FmZWU5YjVhNWYwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQXpZU1lHNjVFdnpxQ21aa0hLcktlOCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1VzZXJTZXNzaW9uLmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIGVudGl0aWVzO1xcblxcbi8qKlxcbiAqIENsYXNzZSBzaW5nbGV0b24gcG91ciBnXFx1MDBlOXJlciBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXFxuICovXFxucHVibGljIGNsYXNzIFVzZXJTZXNzaW9uIHtcXG4gICAgcHJpdmF0ZSBzdGF0aWMgVXNlclNlc3Npb24gaW5zdGFuY2U7XFxuICAgIHByaXZhdGUgVXNlciBjdXJyZW50VXNlcjtcXG5cXG4gICAgLy8gQ29uc3RydWN0ZXVyIHByaXZcXHUwMGU5IHBvdXIgZW1wXFx1MDBlYWNoZXIgbCdpbnN0YW5jaWF0aW9uIGRpcmVjdGVcXG4gICAgcHJpdmF0ZSBVc2VyU2Vzc2lvbigpIHtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogT2J0aWVudCBsJ2luc3RhbmNlIHVuaXF1ZSBkZSBVc2VyU2Vzc2lvblxcbiAgICAgKiBAcmV0dXJuIEwnaW5zdGFuY2UgZGUgVXNlclNlc3Npb25cXG4gICAgICovXFxuICAgIHB1YmxpYyBzdGF0aWMgVXNlclNlc3Npb24gZ2V0SW5zdGFuY2UoKSB7XFxuICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IFVzZXJTZXNzaW9uKCk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIERcXHUwMGU5ZmluaXQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdFxcdTAwZTlcXG4gICAgICogQHBhcmFtIHVzZXIgTCd1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOVxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgc2V0Q3VycmVudFVzZXIoVXNlciB1c2VyKSB7XFxuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogT2J0aWVudCBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0XFx1MDBlOVxcbiAgICAgKiBAcmV0dXJuIEwndXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTlcXG4gICAgICovXFxuICAgIHB1YmxpYyBVc2VyIGdldEN1cnJlbnRVc2VyKCkge1xcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBEXFx1MDBlOWNvbm5lY3RlIGwndXRpbGlzYXRldXIgYWN0dWVsXFxuICAgICAqL1xcbiAgICBwdWJsaWMgdm9pZCBsb2dvdXQoKSB7XFxuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gbnVsbDtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogVlxcdTAwZTlyaWZpZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdFxcdTAwZTlcXG4gICAgICogQHJldHVybiB0cnVlIHNpIHVuIHV0aWxpc2F0ZXVyIGVzdCBjb25uZWN0XFx1MDBlOSwgZmFsc2Ugc2lub25cXG4gICAgICovXFxuICAgIHB1YmxpYyBib29sZWFuIGlzTG9nZ2VkSW4oKSB7XFxuICAgICAgICByZXR1cm4gY3VycmVudFVzZXIgIT0gbnVsbDtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IjIuIENyw6lvbnMgbCdlbnRpdMOpIFVzZXJTZXNzaW9uOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM2doWmh1MWFCc0JIbWRXeXFrTDJZVyJ9fV0sInJlc3BvbnNlX3RleHQiOiIyLiBDcsOpb25zIGwnZW50aXTDqSBVc2VyU2Vzc2lvbjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2OGU3ZDdlYy1lZmI2LTRiYTctOWNmMC02ZDdiZmZkZTIwM2QiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4UldHZVpUbjZoZ3FrNzhyeno0c1BrIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL2phdmEvZW50aXRpZXMvRXZlbnQuamF2YVwiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2UgZW50aXRpZXM7XFxuXFxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xcblxcbi8qKlxcbiAqIENsYXNzZSByZXByXFx1MDBlOXNlbnRhbnQgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICovXFxucHVibGljIGNsYXNzIEV2ZW50IHtcXG4gICAgcHJpdmF0ZSBpbnQgaWQ7XFxuICAgIHByaXZhdGUgVXNlciBvcmdhbmlzZXI7XFxuICAgIHByaXZhdGUgU3RyaW5nIHRpdGxlO1xcbiAgICBwcml2YXRlIFN0cmluZyBkZXNjcmlwdGlvbjtcXG4gICAgcHJpdmF0ZSBEYXRlIGRhdGVfZGVidXQ7XFxuICAgIHByaXZhdGUgRGF0ZSBkYXRlX2ZpbjtcXG4gICAgcHJpdmF0ZSBpbnQgbWF4X3BhcnRpY2lwYW50cztcXG4gICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHVzO1xcbiAgICBwcml2YXRlIFN0cmluZyBpbWFnZTtcXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBwYXIgZFxcdTAwZTlmYXV0XFxuICAgICAqL1xcbiAgICBwdWJsaWMgRXZlbnQoKSB7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBhdmVjIHRvdXMgbGVzIHBhcmFtXFx1MDBlOHRyZXNcXG4gICAgICogQHBhcmFtIGlkIElkZW50aWZpYW50IGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBvcmdhbmlzZXIgT3JnYW5pc2F0ZXVyIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSB0aXRsZSBUaXRyZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb24gRGVzY3JpcHRpb24gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIGRhdGVfZGVidXQgRGF0ZSBkZSBkXFx1MDBlOWJ1dCBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZGF0ZV9maW4gRGF0ZSBkZSBmaW4gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIG1heF9wYXJ0aWNpcGFudHMgTm9tYnJlIG1heGltdW0gZGUgcGFydGljaXBhbnRzXFxuICAgICAqIEBwYXJhbSBzdGF0dXMgU3RhdHV0IGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBpbWFnZSBJbWFnZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKi9cXG4gICAgcHVibGljIEV2ZW50KGludCBpZCwgVXNlciBvcmdhbmlzZXIsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBEYXRlIGRhdGVfZGVidXQsIERhdGUgZGF0ZV9maW4sIGludCBtYXhfcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzLCBTdHJpbmcgaW1hZ2UpIHtcXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcXG4gICAgICAgIHRoaXMub3JnYW5pc2VyID0gb3JnYW5pc2VyO1xcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcXG4gICAgICAgIHRoaXMuZGF0ZV9maW4gPSBkYXRlX2ZpbjtcXG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XFxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIHNhbnMgaWQgKHBvdXIgbGVzIG5vdXZlYXV4IFxcdTAwZTl2XFx1MDBlOW5lbWVudHMpXFxuICAgICAqIEBwYXJhbSBvcmdhbmlzZXIgT3JnYW5pc2F0ZXVyIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSB0aXRsZSBUaXRyZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb24gRGVzY3JpcHRpb24gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIGRhdGVfZGVidXQgRGF0ZSBkZSBkXFx1MDBlOWJ1dCBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZGF0ZV9maW4gRGF0ZSBkZSBmaW4gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIG1heF9wYXJ0aWNpcGFudHMgTm9tYnJlIG1heGltdW0gZGUgcGFydGljaXBhbnRzXFxuICAgICAqIEBwYXJhbSBzdGF0dXMgU3RhdHV0IGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBpbWFnZSBJbWFnZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKi9cXG4gICAgcHVibGljIEV2ZW50KFVzZXIgb3JnYW5pc2VyLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBkZXNjcmlwdGlvbiwgRGF0ZSBkYXRlX2RlYnV0LCBEYXRlIGRhdGVfZmluLCBpbnQgbWF4X3BhcnRpY2lwYW50cywgU3RyaW5nIHN0YXR1cywgU3RyaW5nIGltYWdlKSB7XFxuICAgICAgICB0aGlzLm9yZ2FuaXNlciA9IG9yZ2FuaXNlcjtcXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcXG4gICAgICAgIHRoaXMuZGF0ZV9kZWJ1dCA9IGRhdGVfZGVidXQ7XFxuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XFxuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XFxuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XFxuICAgIH1cXG5cXG4gICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXFxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XFxuICAgICAgICByZXR1cm4gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XFxuICAgICAgICB0aGlzLmlkID0gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFVzZXIgZ2V0T3JnYW5pc2VyKCkge1xcbiAgICAgICAgcmV0dXJuIG9yZ2FuaXNlcjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRPcmdhbmlzZXIoVXNlciBvcmdhbmlzZXIpIHtcXG4gICAgICAgIHRoaXMub3JnYW5pc2VyID0gb3JnYW5pc2VyO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGl0bGUoKSB7XFxuICAgICAgICByZXR1cm4gdGl0bGU7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0VGl0bGUoU3RyaW5nIHRpdGxlKSB7XFxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHtcXG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXREZXNjcmlwdGlvbihTdHJpbmcgZGVzY3JpcHRpb24pIHtcXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlX2RlYnV0KCkge1xcbiAgICAgICAgcmV0dXJuIGRhdGVfZGVidXQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9kZWJ1dChEYXRlIGRhdGVfZGVidXQpIHtcXG4gICAgICAgIHRoaXMuZGF0ZV9kZWJ1dCA9IGRhdGVfZGVidXQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIERhdGUgZ2V0RGF0ZV9maW4oKSB7XFxuICAgICAgICByZXR1cm4gZGF0ZV9maW47XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9maW4oRGF0ZSBkYXRlX2Zpbikge1xcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBpbnQgZ2V0TWF4X3BhcnRpY2lwYW50cygpIHtcXG4gICAgICAgIHJldHVybiBtYXhfcGFydGljaXBhbnRzO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldE1heF9wYXJ0aWNpcGFudHMoaW50IG1heF9wYXJ0aWNpcGFudHMpIHtcXG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7XFxuICAgICAgICByZXR1cm4gc3RhdHVzO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1cyhTdHJpbmcgc3RhdHVzKSB7XFxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldEltYWdlKCkge1xcbiAgICAgICAgcmV0dXJuIGltYWdlO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldEltYWdlKFN0cmluZyBpbWFnZSkge1xcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xcbiAgICB9XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xcbiAgICAgICAgcmV0dXJuIFxcXCJFdmVudHtcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcImlkPVxcXCIgKyBpZCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIG9yZ2FuaXNlcj1cXFwiICsgb3JnYW5pc2VyICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgdGl0bGU9J1xcXCIgKyB0aXRsZSArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBkZXNjcmlwdGlvbj0nXFxcIiArIGRlc2NyaXB0aW9uICsgJ1xcXFwnJyArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGRhdGVfZGVidXQ9XFxcIiArIGRhdGVfZGVidXQgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBkYXRlX2Zpbj1cXFwiICsgZGF0ZV9maW4gK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBtYXhfcGFydGljaXBhbnRzPVxcXCIgKyBtYXhfcGFydGljaXBhbnRzICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgc3RhdHVzPSdcXFwiICsgc3RhdHVzICsgJ1xcXFwnJyArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGltYWdlPSdcXFwiICsgaW1hZ2UgKyAnXFxcXCcnICtcXG4gICAgICAgICAgICAgICAgJ30nO1xcbiAgICB9XFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiMy4gQ3LDqW9ucyBsJ2VudGl0w6kgRXZlbnQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBellTWUc2NUV2enFDbVprSEtyS2U4In19XSwicmVzcG9uc2VfdGV4dCI6IjMuIENyw6lvbnMgbCdlbnRpdMOpIEV2ZW50OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQ0MTk1Yzk0LTY2NzgtNDc0YS05Mzc2LTE5NDIxYjQyYjQyYSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTJ3c3NheGNZdENDYzR4V2tHYThBRUQiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9SZXNlcnZlckV2ZW50LmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIGVudGl0aWVzO1xcblxcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcXG5cXG4vKipcXG4gKiBDbGFzc2UgcmVwclxcdTAwZTlzZW50YW50IHVuZSByXFx1MDBlOXNlcnZhdGlvbiBkJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAqIEZhaXQgbGEgam9pbnR1cmUgZW50cmUgdW4gdXRpbGlzYXRldXIgZXQgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICovXFxucHVibGljIGNsYXNzIFJlc2VydmVyRXZlbnQge1xcbiAgICBwcml2YXRlIGludCBpZDtcXG4gICAgcHJpdmF0ZSBVc2VyIHVzZXI7XFxuICAgIHByaXZhdGUgRXZlbnQgZXZlbnQ7XFxuICAgIHByaXZhdGUgRGF0ZSBkYXRlUmVzZXJ2YXRpb247XFxuICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1dDsgLy8gUGFyIGV4ZW1wbGU6IFxcXCJjb25maXJtXFx1MDBlOVxcXCIsIFxcXCJlbiBhdHRlbnRlXFxcIiwgXFxcImFubnVsXFx1MDBlOVxcXCJcXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBwYXIgZFxcdTAwZTlmYXV0XFxuICAgICAqL1xcbiAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudCgpIHtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIGF2ZWMgdG91cyBsZXMgcGFyYW1cXHUwMGU4dHJlc1xcbiAgICAgKiBAcGFyYW0gaWQgSWRlbnRpZmlhbnQgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHBhcmFtIHVzZXIgVXRpbGlzYXRldXIgcXVpIHJcXHUwMGU5c2VydmVcXG4gICAgICogQHBhcmFtIGV2ZW50IFxcdTAwYzl2XFx1MDBlOW5lbWVudCByXFx1MDBlOXNlcnZcXHUwMGU5XFxuICAgICAqIEBwYXJhbSBkYXRlUmVzZXJ2YXRpb24gRGF0ZSBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKiBAcGFyYW0gc3RhdHV0IFN0YXR1dCBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKi9cXG4gICAgcHVibGljIFJlc2VydmVyRXZlbnQoaW50IGlkLCBVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcXG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcXG4gICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xcbiAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBzYW5zIGlkIChwb3VyIGxlcyBub3V2ZWxsZXMgclxcdTAwZTlzZXJ2YXRpb25zKVxcbiAgICAgKiBAcGFyYW0gdXNlciBVdGlsaXNhdGV1ciBxdWkgclxcdTAwZTlzZXJ2ZVxcbiAgICAgKiBAcGFyYW0gZXZlbnQgXFx1MDBjOXZcXHUwMGU5bmVtZW50IHJcXHUwMGU5c2VydlxcdTAwZTlcXG4gICAgICogQHBhcmFtIGRhdGVSZXNlcnZhdGlvbiBEYXRlIGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqIEBwYXJhbSBzdGF0dXQgU3RhdHV0IGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqL1xcbiAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudChVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcXG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcXG4gICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xcbiAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XFxuICAgIH1cXG5cXG4gICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXFxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XFxuICAgICAgICByZXR1cm4gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XFxuICAgICAgICB0aGlzLmlkID0gaWQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFVzZXIgZ2V0VXNlcigpIHtcXG4gICAgICAgIHJldHVybiB1c2VyO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldFVzZXIoVXNlciB1c2VyKSB7XFxuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBFdmVudCBnZXRFdmVudCgpIHtcXG4gICAgICAgIHJldHVybiBldmVudDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRFdmVudChFdmVudCBldmVudCkge1xcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBEYXRlIGdldERhdGVSZXNlcnZhdGlvbigpIHtcXG4gICAgICAgIHJldHVybiBkYXRlUmVzZXJ2YXRpb247XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZVJlc2VydmF0aW9uKERhdGUgZGF0ZVJlc2VydmF0aW9uKSB7XFxuICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1dCgpIHtcXG4gICAgICAgIHJldHVybiBzdGF0dXQ7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHV0KFN0cmluZyBzdGF0dXQpIHtcXG4gICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xcbiAgICB9XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xcbiAgICAgICAgcmV0dXJuIFxcXCJSZXNlcnZlckV2ZW50e1xcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiaWQ9XFxcIiArIGlkICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgdXNlcj1cXFwiICsgdXNlciArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGV2ZW50PVxcXCIgKyBldmVudCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGRhdGVSZXNlcnZhdGlvbj1cXFwiICsgZGF0ZVJlc2VydmF0aW9uICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgc3RhdHV0PSdcXFwiICsgc3RhdHV0ICsgJ1xcXFwnJyArXFxuICAgICAgICAgICAgICAgICd9JztcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IjQuIENyw6lvbnMgbCdlbnRpdMOpIFJlc2VydmVyRXZlbnQ6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4UldHZVpUbjZoZ3FrNzhyeno0c1BrIn19XSwicmVzcG9uc2VfdGV4dCI6IjQuIENyw6lvbnMgbCdlbnRpdMOpIFJlc2VydmVyRXZlbnQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODg1NTBhZGMtNGQzZi00ODE4LWFmZGUtNGU3ZDg2YmRmOWIxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTUNXWTdyZkc0cXN6WDQ5MXlEdkdGcSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwicGFja2FnZSB0ZXN0cztcXG5cXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XFxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXJTZXNzaW9uO1xcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5SZXNlcnZlckV2ZW50O1xcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xcblxcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xcblxcbnB1YmxpYyBjbGFzcyBNYWluIHtcXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcXG4gICAgICAgIC8vIFRlc3QgZGVzIGVudGl0XFx1MDBlOXNcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ29ubmV4aW9uIFxcdTAwZTAgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkNvbm5leGlvbiBcXHUwMGUwIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllcyBcXHUwMGU5dGFibGllXFxcIik7XFxuXFxuICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXRcXHUwMGU5c1xcbiAgICAgICAgICAgIHRlc3RFbnRpdGllcygpO1xcblxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkVycmV1cjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xcbiAgICAgICAgLy8gQ3JcXHUwMGU5YXRpb24gZCd1biB1dGlsaXNhdGV1ciBkZSB0ZXN0XFxuICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xcbiAgICAgICAgdXNlci5zZXROb20oXFxcIkRvZVxcXCIpO1xcbiAgICAgICAgdXNlci5zZXRQcmVub20oXFxcIkpvaG5cXFwiKTtcXG4gICAgICAgIHVzZXIuc2V0RW1haWwoXFxcImpvaG4uZG9lQGV4YW1wbGUuY29tXFxcIik7XFxuXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJVdGlsaXNhdGV1ciBjclxcdTAwZTlcXHUwMGU5OiBcXFwiICsgdXNlcik7XFxuXFxuICAgICAgICAvLyBDclxcdTAwZTlhdGlvbiBkJ3VuIFxcdTAwZTl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxuICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xcbiAgICAgICAgZXZlbnQuc2V0VGl0bGUoXFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxcIik7XFxuICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcXFwiRGVzY3JpcHRpb24gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnQgZGUgdGVzdFxcXCIpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcXG4gICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xcblxcbiAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudCBjclxcdTAwZTlcXHUwMGU5OiBcXFwiICsgZXZlbnQpO1xcblxcbiAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXFxuICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XFxuICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTk6IFxcXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcXG5cXG4gICAgICAgIC8vIFRlc3QgZGUgclxcdTAwZTlzZXJ2YXRpb24gZCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICAgIFJlc2VydmVyRXZlbnQgcmVzZXJ2YXRpb24gPSBuZXcgUmVzZXJ2ZXJFdmVudCgpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldERhdGVSZXNlcnZhdGlvbihuZXcgRGF0ZSgpKTtcXG5cXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJSXFx1MDBlOXNlcnZhdGlvbiBjclxcdTAwZTlcXHUwMGU5ZTogXFxcIiArIHJlc2VydmF0aW9uKTtcXG4gICAgfVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwicGFja2FnZSB0ZXN0cztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgZW50aXRpZXMuRXZlbnQ7XFxuaW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xcbmltcG9ydCBlbnRpdGllcy5SZXNlcnZlckV2ZW50O1xcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xcblxcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xcblxcbnB1YmxpYyBjbGFzcyBNYWluIHtcXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcXG4gICAgICAgIC8vIFRlc3QgZGVzIGVudGl0XFx1MDBlOXNcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ29ubmV4aW9uIFxcdTAwZTAgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkNvbm5leGlvbiBcXHUwMGUwIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllcyBcXHUwMGU5dGFibGllXFxcIik7XFxuXFxuICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXRcXHUwMGU5c1xcbiAgICAgICAgICAgIHRlc3RFbnRpdGllcygpO1xcblxcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIkVycmV1cjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xcbiAgICAgICAgLy8gQ3JcXHUwMGU5YXRpb24gZCd1biB1dGlsaXNhdGV1ciBkZSB0ZXN0XFxuICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xcbiAgICAgICAgdXNlci5zZXROb20oXFxcIkRvZVxcXCIpO1xcbiAgICAgICAgdXNlci5zZXRQcmVub20oXFxcIkpvaG5cXFwiKTtcXG4gICAgICAgIHVzZXIuc2V0RW1haWwoXFxcImpvaG4uZG9lQGV4YW1wbGUuY29tXFxcIik7XFxuXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJVdGlsaXNhdGV1ciBjclxcdTAwZTlcXHUwMGU5OiBcXFwiICsgdXNlcik7XFxuXFxuICAgICAgICAvLyBDclxcdTAwZTlhdGlvbiBkJ3VuIFxcdTAwZTl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxuICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xcbiAgICAgICAgZXZlbnQuc2V0VGl0bGUoXFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudCBkZSB0ZXN0XFxcIik7XFxuICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcXFwiRGVzY3JpcHRpb24gZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnQgZGUgdGVzdFxcXCIpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcXG4gICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xcblxcbiAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudCBjclxcdTAwZTlcXHUwMGU5OiBcXFwiICsgZXZlbnQpO1xcblxcbiAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXFxuICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XFxuICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTk6IFxcXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcXG5cXG4gICAgICAgIC8vIFRlc3QgZGUgclxcdTAwZTlzZXJ2YXRpb24gZCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICAgIFJlc2VydmVyRXZlbnQgcmVzZXJ2YXRpb24gPSBuZXcgUmVzZXJ2ZXJFdmVudCgpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldERhdGVSZXNlcnZhdGlvbihuZXcgRGF0ZSgpKTtcXG5cXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsYSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJSXFx1MDBlOXNlcnZhdGlvbiBjclxcdTAwZTlcXHUwMGU5ZTogXFxcIiArIHJlc2VydmF0aW9uKTtcXG4gICAgfVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNjF9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IjUuIE1haW50ZW5hbnQsIG1vZGlmaW9ucyBsZSBmaWNoaWVyIE1haW4uamF2YSBwb3VyIHV0aWxpc2VyIGNlcyBlbnRpdMOpczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTJ3c3NheGNZdENDYzR4V2tHYThBRUQifX1dLCJyZXNwb25zZV90ZXh0IjoiNS4gTWFpbnRlbmFudCwgbW9kaWZpb25zIGxlIGZpY2hpZXIgTWFpbi5qYXZhIHBvdXIgdXRpbGlzZXIgY2VzIGVudGl0w6lzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijg3YTY2MTY5LWRhOGEtNDIyOS05YmRlLWE1YTU2NzA3NThjMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUw1Z2ZBNHFDRmlKNURCSDdhYXN6OXkiLCJ0b29sX25hbWUiOiJzaGVsbCIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiaWYgKFRlc3QtUGF0aCAtUGF0aCBcXFwic3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhXFxcIikgeyBSZW1vdmUtSXRlbSAtUGF0aCBcXFwic3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhXFxcIiB9XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiI2LiBTdXBwcmltb25zIGxlcyBlbnRpdMOpcyBjcsOpw6llcyBwcsOpY8OpZGVtbWVudCBkYW5zIGxlIG1hdXZhaXMgcGFja2FnZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgZW50aXRpZXMuRXZlbnQ7XG4gICAgIDVcdGltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcbiAgICAgNlx0aW1wb3J0IGVudGl0aWVzLlJlc2VydmVyRXZlbnQ7XG4gICAgIDdcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgIDExXHRcbiAgICAxMlx0cHVibGljIGNsYXNzIE1haW4ge1xuICAgIDEzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAxNFx0ICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDE1XHQgICAgICAgIHRyeSB7XG4gICAgMTZcdCAgICAgICAgICAgIC8vIENvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMTdcdCAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMThcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAyMVx0ICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjRcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjZcdCAgICAgICAgfVxuICAgIDI3XHQgICAgfVxuICAgIDI4XHRcbiAgICAyOVx0ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xuICAgIDMwXHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAzMVx0ICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgIDMyXHQgICAgICAgIHVzZXIuc2V0Tm9tKFwiRG9lXCIpO1xuICAgIDMzXHQgICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAzNFx0ICAgICAgICB1c2VyLnNldEVtYWlsKFwiam9obi5kb2VAZXhhbXBsZS5jb21cIik7XG4gICAgMzVcdFxuICAgIDM2XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgMzdcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY3LDqcOpOiBcIiArIHVzZXIpO1xuICAgIDM4XHRcbiAgICAzOVx0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgNDBcdCAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICA0MVx0ICAgICAgICBldmVudC5zZXRUaXRsZShcIsOJdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDJcdCAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDNcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcbiAgICA0NFx0ICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcbiAgICA0NVx0XG4gICAgNDZcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnw6l2w6luZW1lbnRcbiAgICA0N1x0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLDiXbDqW5lbWVudCBjcsOpw6k6IFwiICsgZXZlbnQpO1xuICAgIDQ4XHRcbiAgICA0OVx0ICAgICAgICAvLyBUZXN0IGRlIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICA1MFx0ICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgNTFcdCAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgNTJcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY29ubmVjdMOpOiBcIiArIHVzZXJTZXNzaW9uLmdldEN1cnJlbnRVc2VyKCkpO1xuICAgIDUzXHRcbiAgICA1NFx0ICAgICAgICAvLyBUZXN0IGRlIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgNTVcdCAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XG4gICAgNTZcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcbiAgICA1N1x0ICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XG4gICAgNThcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNjFcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsOpc2VydmF0aW9uIGNyw6nDqWU6IFwiICsgcmVzZXJ2YXRpb24pO1xuICAgIDYyXHQgICAgfVxuICAgIDYzXHR9XG4gICAgNjRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFNQ1dZN3JmRzRxc3pYNDkxeUR2R0ZxIn19XSwicmVzcG9uc2VfdGV4dCI6IjYuIFN1cHByaW1vbnMgbGVzIGVudGl0w6lzIGNyw6nDqWVzIHByw6ljw6lkZW1tZW50IGRhbnMgbGUgbWF1dmFpcyBwYWNrYWdlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImJhMDZiMTIyLTkwMjEtNDRlYy1iYzU1LWY5NmY1N2I3ZjNkMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTEyNmppYVFGQkt1UmR0MkppYkJnb3ciLCJ0b29sX25hbWUiOiJzaGVsbCIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiaWYgKFRlc3QtUGF0aCAtUGF0aCBcXFwic3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9SZXNlcnZlckV2ZW50LmphdmFcXFwiKSB7IFJlbW92ZS1JdGVtIC1QYXRoIFxcXCJzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL1Jlc2VydmVyRXZlbnQuamF2YVxcXCIgfVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTDVnZkE0cUNGaUo1REJIN2Fhc3o5eSJ9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiN2M4ZDZhZWUtNDExNS00YmFjLTllZDAtMzAwMWQzMmNmMDk4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVVl3alZvN0Z1Nzdra1BZS01lcnQ3dSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1VzZXIuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVsOpcmlmaW9ucyBxdWUgdG91dCBlc3QgZW4gb3JkcmU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiIiLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExMjZqaWFRRkJLdVJkdDJKaWJCZ293In19XSwicmVzcG9uc2VfdGV4dCI6IlbDqXJpZmlvbnMgcXVlIHRvdXQgZXN0IGVuIG9yZHJlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjZlYzk2NWU5LTM4MDAtNGZjZC1hZjgxLWI3NTE0MDY2MTQ4MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNDMzgxQjFRZGhYS1VEVXpVRFpRdUMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9FdmVudC5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvZW50aXRpZXMvVXNlci5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGVudGl0aWVzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAgNFx0aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG4gICAgIDVcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAgNlx0XG4gICAgIDdcdHB1YmxpYyBjbGFzcyBVc2VyIHtcbiAgICAgOFx0ICAgIHByaXZhdGUgaW50IGlkO1xuICAgICA5XHQgICAgcHJpdmF0ZSBTdHJpbmcgbm9tO1xuICAgIDEwXHQgICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7XG4gICAgMTFcdCAgICBwcml2YXRlIFN0cmluZyBwcmVub207XG4gICAgMTJcdCAgICBwcml2YXRlIFN0cmluZyBhZHJlc3NlO1xuICAgIDEzXHQgICAgcHJpdmF0ZSBTdHJpbmcgdGVsZXBob25lO1xuICAgIDE0XHQgICAgcHJpdmF0ZSBib29sZWFuIGlzVmVyaWZpZWQ7XG4gICAgMTVcdCAgICBwcml2YXRlIFRpbWVzdGFtcCBjcmVhdGVkX2F0O1xuICAgIDE2XHQgICAgcHJpdmF0ZSBMaXN0PFN0cmluZz4gcm9sZTtcbiAgICAxN1x0ICAgIHByaXZhdGUgU3RyaW5nIHBhc3N3b3JkO1xuICAgIDE4XHQgICAgcHJpdmF0ZSBTdHJpbmcgaW1hZ2VVcmw7XG4gICAgMTlcdFxuICAgIDIwXHQgICAgLy8gQ29uc3RydWN0ZXVyIHBhciBkw6lmYXV0XG4gICAgMjFcdCAgICBwdWJsaWMgVXNlcigpIHtcbiAgICAyMlx0ICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAyM1x0ICAgIH1cbiAgICAyNFx0XG4gICAgMjVcdCAgICAvLyBDb25zdHJ1Y3RldXIgYXZlYyB0b3VzIGxlcyBwYXJhbcOodHJlc1xuICAgIDI2XHQgICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIFRpbWVzdGFtcCBjcmVhdGVkX2F0LCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyBpbWFnZVVybCkge1xuICAgIDI3XHQgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAyOFx0ICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAyOVx0ICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgMzBcdCAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgMzFcdCAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICAzMlx0ICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAzM1x0ICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgIDM0XHQgICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRfYXQ7XG4gICAgMzVcdCAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIDM2XHQgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcbiAgICAzN1x0ICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAzOFx0ICAgIH1cbiAgICAzOVx0XG4gICAgNDBcdCAgICAvLyBHZXR0ZXJzIGV0IFNldHRlcnNcbiAgICA0MVx0ICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XG4gICAgNDJcdCAgICAgICAgcmV0dXJuIGlkO1xuICAgIDQzXHQgICAgfVxuICAgIDQ0XHRcbiAgICA0NVx0ICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkge1xuICAgIDQ2XHQgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICA0N1x0ICAgIH1cbiAgICA0OFx0XG4gICAgNDlcdCAgICBwdWJsaWMgU3RyaW5nIGdldE5vbSgpIHtcbiAgICA1MFx0ICAgICAgICByZXR1cm4gbm9tO1xuICAgIDUxXHQgICAgfVxuICAgIDUyXHRcbiAgICA1M1x0ICAgIHB1YmxpYyB2b2lkIHNldE5vbShTdHJpbmcgbm9tKSB7XG4gICAgNTRcdCAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgNTVcdCAgICB9XG4gICAgNTZcdFxuICAgIDU3XHQgICAgcHVibGljIFN0cmluZyBnZXRFbWFpbCgpIHtcbiAgICA1OFx0ICAgICAgICByZXR1cm4gZW1haWw7XG4gICAgNTlcdCAgICB9XG4gICAgNjBcdFxuICAgIDYxXHQgICAgcHVibGljIHZvaWQgc2V0RW1haWwoU3RyaW5nIGVtYWlsKSB7XG4gICAgNjJcdCAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgIDYzXHQgICAgfVxuICAgIDY0XHRcbiAgICA2NVx0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJlbm9tKCkge1xuICAgIDY2XHQgICAgICAgIHJldHVybiBwcmVub207XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdFxuICAgIDY5XHQgICAgcHVibGljIHZvaWQgc2V0UHJlbm9tKFN0cmluZyBwcmVub20pIHtcbiAgICA3MFx0ICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICA3MVx0ICAgIH1cbiAgICA3Mlx0XG4gICAgNzNcdCAgICBwdWJsaWMgU3RyaW5nIGdldEFkcmVzc2UoKSB7XG4gICAgNzRcdCAgICAgICAgcmV0dXJuIGFkcmVzc2U7XG4gICAgNzVcdCAgICB9XG4gICAgNzZcdFxuICAgIDc3XHQgICAgcHVibGljIHZvaWQgc2V0QWRyZXNzZShTdHJpbmcgYWRyZXNzZSkge1xuICAgIDc4XHQgICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgNzlcdCAgICB9XG4gICAgODBcdFxuICAgIDgxXHQgICAgcHVibGljIFN0cmluZyBnZXRUZWxlcGhvbmUoKSB7XG4gICAgODJcdCAgICAgICAgcmV0dXJuIHRlbGVwaG9uZTtcbiAgICA4M1x0ICAgIH1cbiAgICA4NFx0XG4gICAgODVcdCAgICBwdWJsaWMgdm9pZCBzZXRUZWxlcGhvbmUoU3RyaW5nIHRlbGVwaG9uZSkge1xuICAgIDg2XHQgICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgIDg3XHQgICAgfVxuICAgIDg4XHRcbiAgICA4OVx0ICAgIHB1YmxpYyBib29sZWFuIGlzVmVyaWZpZWQoKSB7XG4gICAgOTBcdCAgICAgICAgcmV0dXJuIGlzVmVyaWZpZWQ7XG4gICAgOTFcdCAgICB9XG4gICAgOTJcdFxuICAgIDkzXHQgICAgcHVibGljIHZvaWQgc2V0VmVyaWZpZWQoYm9vbGVhbiB2ZXJpZmllZCkge1xuICAgIDk0XHQgICAgICAgIGlzVmVyaWZpZWQgPSB2ZXJpZmllZDtcbiAgICA5NVx0ICAgIH1cbiAgICA5Nlx0XG4gICAgOTdcdCAgICBwdWJsaWMgVGltZXN0YW1wIGdldENyZWF0ZWRfYXQoKSB7XG4gICAgOThcdCAgICAgICAgcmV0dXJuIGNyZWF0ZWRfYXQ7XG4gICAgOTlcdCAgICB9XG4gICAxMDBcdFxuICAgMTAxXHQgICAgcHVibGljIHZvaWQgc2V0Q3JlYXRlZF9hdChUaW1lc3RhbXAgY3JlYXRlZF9hdCkge1xuICAgMTAyXHQgICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRfYXQ7XG4gICAxMDNcdCAgICB9XG4gICAxMDRcdFxuICAgMTA1XHQgICAgcHVibGljIExpc3Q8U3RyaW5nPiBnZXRSb2xlKCkge1xuICAgMTA2XHQgICAgICAgIHJldHVybiByb2xlO1xuICAgMTA3XHQgICAgfVxuICAgMTA4XHRcbiAgIDEwOVx0ICAgIHB1YmxpYyB2b2lkIHNldFJvbGUoTGlzdDxTdHJpbmc+IHJvbGUpIHtcbiAgIDExMFx0ICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgMTExXHQgICAgfVxuICAgMTEyXHRcbiAgIDExM1x0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0UGFzc3dvcmQoKSB7XG4gICAxMTRcdCAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgMTE1XHQgICAgfVxuICAgMTE2XHRcbiAgIDExN1x0ICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgMTE4XHQgICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgIDExOVx0ICAgIH1cbiAgIDEyMFx0XG4gICAxMjFcdCAgICBwdWJsaWMgU3RyaW5nIGdldEltYWdlVXJsKCkge1xuICAgMTIyXHQgICAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgIDEyM1x0ICAgIH1cbiAgIDEyNFx0XG4gICAxMjVcdCAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZVVybChTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgIDEyNlx0ICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAxMjdcdCAgICB9XG4gICAxMjhcdFxuICAgMTI5XHQgICAgQE92ZXJyaWRlXG4gICAxMzBcdCAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xuICAgMTMxXHQgICAgICAgIHJldHVybiBcIlVzZXJ7XCIgK1xuICAgMTMyXHQgICAgICAgICAgICAgICAgXCJpZD1cIiArIGlkICtcbiAgIDEzM1x0ICAgICAgICAgICAgICAgIFwiLCBub209J1wiICsgbm9tICsgJ1xcJycgK1xuICAgMTM0XHQgICAgICAgICAgICAgICAgXCIsIGVtYWlsPSdcIiArIGVtYWlsICsgJ1xcJycgK1xuICAgMTM1XHQgICAgICAgICAgICAgICAgXCIsIHByZW5vbT0nXCIgKyBwcmVub20gKyAnXFwnJyArXG4gICAxMzZcdCAgICAgICAgICAgICAgICBcIiwgYWRyZXNzZT0nXCIgKyBhZHJlc3NlICsgJ1xcJycgK1xuICAgMTM3XHQgICAgICAgICAgICAgICAgXCIsIHRlbGVwaG9uZT0nXCIgKyB0ZWxlcGhvbmUgKyAnXFwnJyArXG4gICAxMzhcdCAgICAgICAgICAgICAgICBcIiwgaXNWZXJpZmllZD1cIiArIGlzVmVyaWZpZWQgK1xuICAgMTM5XHQgICAgICAgICAgICAgICAgXCIsIGNyZWF0ZWRfYXQ9XCIgKyBjcmVhdGVkX2F0ICtcbiAgIDE0MFx0ICAgICAgICAgICAgICAgIFwiLCByb2xlPVwiICsgcm9sZSArXG4gICAxNDFcdCAgICAgICAgICAgICAgICBcIiwgaW1hZ2VVcmw9J1wiICsgaW1hZ2VVcmwgKyAnXFwnJyArXG4gICAxNDJcdCAgICAgICAgICAgICAgICAnfSc7XG4gICAxNDNcdCAgICB9XG4gICAxNDRcdH1cbiAgIDE0NVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxNDVcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVVZd2pWbzdGdTc3a2tQWUtNZXJ0N3UifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImI4MTBhYTZmLWVmOTItNDY1Ny1hYWEwLWI3ZmE1YzE1YmU1NSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1jOHlEdEtXZG5zdDFnN1R3eXhja3EiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9FdmVudC5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBlbnRpdGllcztcXG5cXG5pbXBvcnQgamF2YS51dGlsLkRhdGU7XFxuXFxuLyoqXFxuICogQ2xhc3NlIHJlcHJcXHUwMGU5c2VudGFudCB1biBcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gKi9cXG5wdWJsaWMgY2xhc3MgRXZlbnQge1xcbiAgICBwcml2YXRlIGludCBpZDtcXG4gICAgcHJpdmF0ZSBVc2VyIG9yZ2FuaXNlcjtcXG4gICAgcHJpdmF0ZSBTdHJpbmcgdGl0bGU7XFxuICAgIHByaXZhdGUgU3RyaW5nIGRlc2NyaXB0aW9uO1xcbiAgICBwcml2YXRlIERhdGUgZGF0ZV9kZWJ1dDtcXG4gICAgcHJpdmF0ZSBEYXRlIGRhdGVfZmluO1xcbiAgICBwcml2YXRlIGludCBtYXhfcGFydGljaXBhbnRzO1xcbiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXM7XFxuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlO1xcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIHBhciBkXFx1MDBlOWZhdXRcXG4gICAgICovXFxuICAgIHB1YmxpYyBFdmVudCgpIHtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIGF2ZWMgdG91cyBsZXMgcGFyYW1cXHUwMGU4dHJlc1xcbiAgICAgKiBAcGFyYW0gaWQgSWRlbnRpZmlhbnQgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIG9yZ2FuaXNlciBPcmdhbmlzYXRldXIgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIHRpdGxlIFRpdHJlIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBEZXNjcmlwdGlvbiBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZGF0ZV9kZWJ1dCBEYXRlIGRlIGRcXHUwMGU5YnV0IGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBkYXRlX2ZpbiBEYXRlIGRlIGZpbiBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gbWF4X3BhcnRpY2lwYW50cyBOb21icmUgbWF4aW11bSBkZSBwYXJ0aWNpcGFudHNcXG4gICAgICogQHBhcmFtIHN0YXR1cyBTdGF0dXQgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIGltYWdlIEltYWdlIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqL1xcbiAgICBwdWJsaWMgRXZlbnQoaW50IGlkLCBVc2VyIG9yZ2FuaXNlciwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgZGVzY3JpcHRpb24sIERhdGUgZGF0ZV9kZWJ1dCwgRGF0ZSBkYXRlX2ZpbiwgaW50IG1heF9wYXJ0aWNpcGFudHMsIFN0cmluZyBzdGF0dXMsIFN0cmluZyBpbWFnZSkge1xcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xcbiAgICAgICAgdGhpcy5vcmdhbmlzZXIgPSBvcmdhbmlzZXI7XFxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XFxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XFxuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xcbiAgICAgICAgdGhpcy5tYXhfcGFydGljaXBhbnRzID0gbWF4X3BhcnRpY2lwYW50cztcXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBDb25zdHJ1Y3RldXIgc2FucyBpZCAocG91ciBsZXMgbm91dmVhdXggXFx1MDBlOXZcXHUwMGU5bmVtZW50cylcXG4gICAgICogQHBhcmFtIG9yZ2FuaXNlciBPcmdhbmlzYXRldXIgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIHRpdGxlIFRpdHJlIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBEZXNjcmlwdGlvbiBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZGF0ZV9kZWJ1dCBEYXRlIGRlIGRcXHUwMGU5YnV0IGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBkYXRlX2ZpbiBEYXRlIGRlIGZpbiBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gbWF4X3BhcnRpY2lwYW50cyBOb21icmUgbWF4aW11bSBkZSBwYXJ0aWNpcGFudHNcXG4gICAgICogQHBhcmFtIHN0YXR1cyBTdGF0dXQgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIGltYWdlIEltYWdlIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqL1xcbiAgICBwdWJsaWMgRXZlbnQoVXNlciBvcmdhbmlzZXIsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBEYXRlIGRhdGVfZGVidXQsIERhdGUgZGF0ZV9maW4sIGludCBtYXhfcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzLCBTdHJpbmcgaW1hZ2UpIHtcXG4gICAgICAgIHRoaXMub3JnYW5pc2VyID0gb3JnYW5pc2VyO1xcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcXG4gICAgICAgIHRoaXMuZGF0ZV9maW4gPSBkYXRlX2ZpbjtcXG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XFxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcXG4gICAgfVxcblxcbiAgICAvLyBHZXR0ZXJzIGV0IFNldHRlcnNcXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcXG4gICAgICAgIHJldHVybiBpZDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHtcXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgVXNlciBnZXRPcmdhbmlzZXIoKSB7XFxuICAgICAgICByZXR1cm4gb3JnYW5pc2VyO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldE9yZ2FuaXNlcihVc2VyIG9yZ2FuaXNlcikge1xcbiAgICAgICAgdGhpcy5vcmdhbmlzZXIgPSBvcmdhbmlzZXI7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIFN0cmluZyBnZXRUaXRsZSgpIHtcXG4gICAgICAgIHJldHVybiB0aXRsZTtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXRUaXRsZShTdHJpbmcgdGl0bGUpIHtcXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkge1xcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikge1xcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBEYXRlIGdldERhdGVfZGVidXQoKSB7XFxuICAgICAgICByZXR1cm4gZGF0ZV9kZWJ1dDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXREYXRlX2RlYnV0KERhdGUgZGF0ZV9kZWJ1dCkge1xcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlX2ZpbigpIHtcXG4gICAgICAgIHJldHVybiBkYXRlX2ZpbjtcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgdm9pZCBzZXREYXRlX2ZpbihEYXRlIGRhdGVfZmluKSB7XFxuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XFxuICAgIH1cXG5cXG4gICAgcHVibGljIGludCBnZXRNYXhfcGFydGljaXBhbnRzKCkge1xcbiAgICAgICAgcmV0dXJuIG1heF9wYXJ0aWNpcGFudHM7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0TWF4X3BhcnRpY2lwYW50cyhpbnQgbWF4X3BhcnRpY2lwYW50cykge1xcbiAgICAgICAgdGhpcy5tYXhfcGFydGljaXBhbnRzID0gbWF4X3BhcnRpY2lwYW50cztcXG4gICAgfVxcblxcbiAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1cygpIHtcXG4gICAgICAgIHJldHVybiBzdGF0dXM7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHVzKFN0cmluZyBzdGF0dXMpIHtcXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2UoKSB7XFxuICAgICAgICByZXR1cm4gaW1hZ2U7XFxuICAgIH1cXG5cXG4gICAgcHVibGljIHZvaWQgc2V0SW1hZ2UoU3RyaW5nIGltYWdlKSB7XFxuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XFxuICAgIH1cXG5cXG4gICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XFxuICAgICAgICByZXR1cm4gXFxcIkV2ZW50e1xcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiaWQ9XFxcIiArIGlkICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgb3JnYW5pc2VyPVxcXCIgKyBvcmdhbmlzZXIgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCB0aXRsZT0nXFxcIiArIHRpdGxlICsgJ1xcXFwnJyArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGRlc2NyaXB0aW9uPSdcXFwiICsgZGVzY3JpcHRpb24gKyAnXFxcXCcnICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgZGF0ZV9kZWJ1dD1cXFwiICsgZGF0ZV9kZWJ1dCArXFxuICAgICAgICAgICAgICAgIFxcXCIsIGRhdGVfZmluPVxcXCIgKyBkYXRlX2ZpbiArXFxuICAgICAgICAgICAgICAgIFxcXCIsIG1heF9wYXJ0aWNpcGFudHM9XFxcIiArIG1heF9wYXJ0aWNpcGFudHMgK1xcbiAgICAgICAgICAgICAgICBcXFwiLCBzdGF0dXM9J1xcXCIgKyBzdGF0dXMgKyAnXFxcXCcnICtcXG4gICAgICAgICAgICAgICAgXFxcIiwgaW1hZ2U9J1xcXCIgKyBpbWFnZSArICdcXFxcJycgK1xcbiAgICAgICAgICAgICAgICAnfSc7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJbCBzZW1ibGUgeSBhdm9pciB1biBwcm9ibMOobWUgYXZlYyBsZSBmaWNoaWVyIEV2ZW50LmphdmEuIEVzc2F5b25zIGRlIGxlIHJlY3LDqWVyOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiUmFuIGludG8gQ2Fubm90IHJlYWQgZmlsZTogc3JjL21haW4vamF2YS9lbnRpdGllcy9FdmVudC5qYXZhIHdoaWxlIHRyeWluZyB0byByZWFkIHNyYy9tYWluL2phdmEvZW50aXRpZXMvRXZlbnQuamF2YSIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU0MzODFCMVFkaFhLVURVelVEWlF1QyJ9fV0sInJlc3BvbnNlX3RleHQiOiJJbCBzZW1ibGUgeSBhdm9pciB1biBwcm9ibMOobWUgYXZlYyBsZSBmaWNoaWVyIEV2ZW50LmphdmEuIEVzc2F5b25zIGRlIGxlIHJlY3LDqWVyOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRhNjZiYWRhLTIxNjYtNDgyZC1hYzAwLTRkYTMyZDI2ODQ1MyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUppUlpHVGRobXRmM1RGcUF0Nm4yZkUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFNYzh5RHRLV2Ruc3QxZzdUd3l4Y2txIn19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2ZjBhMzNmYy0zMWM0LTQ0YWItOGM2OS0zZWFmMzZhOTM5NjQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2eG5zOWZlNmhpMXhCdUV1MlhCNEZzIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvZW50aXRpZXMvUmVzZXJ2ZXJFdmVudC5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvZW50aXRpZXMvVXNlclNlc3Npb24uamF2YTpcbiAgICAgMVx0cGFja2FnZSBlbnRpdGllcztcbiAgICAgMlx0XG4gICAgIDNcdC8qKlxuICAgICA0XHQgKiBDbGFzc2Ugc2luZ2xldG9uIHBvdXIgZ8OpcmVyIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICAgNVx0ICovXG4gICAgIDZcdHB1YmxpYyBjbGFzcyBVc2VyU2Vzc2lvbiB7XG4gICAgIDdcdCAgICBwcml2YXRlIHN0YXRpYyBVc2VyU2Vzc2lvbiBpbnN0YW5jZTtcbiAgICAgOFx0ICAgIHByaXZhdGUgVXNlciBjdXJyZW50VXNlcjtcbiAgICAgOVx0XG4gICAgMTBcdCAgICAvLyBDb25zdHJ1Y3RldXIgcHJpdsOpIHBvdXIgZW1ww6pjaGVyIGwnaW5zdGFuY2lhdGlvbiBkaXJlY3RlXG4gICAgMTFcdCAgICBwcml2YXRlIFVzZXJTZXNzaW9uKCkge1xuICAgIDEyXHQgICAgfVxuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8qKlxuICAgIDE1XHQgICAgICogT2J0aWVudCBsJ2luc3RhbmNlIHVuaXF1ZSBkZSBVc2VyU2Vzc2lvblxuICAgIDE2XHQgICAgICogQHJldHVybiBMJ2luc3RhbmNlIGRlIFVzZXJTZXNzaW9uXG4gICAgMTdcdCAgICAgKi9cbiAgICAxOFx0ICAgIHB1YmxpYyBzdGF0aWMgVXNlclNlc3Npb24gZ2V0SW5zdGFuY2UoKSB7XG4gICAgMTlcdCAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcbiAgICAyMFx0ICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgVXNlclNlc3Npb24oKTtcbiAgICAyMVx0ICAgICAgICB9XG4gICAgMjJcdCAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIDIzXHQgICAgfVxuICAgIDI0XHRcbiAgICAyNVx0ICAgIC8qKlxuICAgIDI2XHQgICAgICogRMOpZmluaXQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdMOpXG4gICAgMjdcdCAgICAgKiBAcGFyYW0gdXNlciBMJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqVxuICAgIDI4XHQgICAgICovXG4gICAgMjlcdCAgICBwdWJsaWMgdm9pZCBzZXRDdXJyZW50VXNlcihVc2VyIHVzZXIpIHtcbiAgICAzMFx0ICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICAzMVx0ICAgIH1cbiAgICAzMlx0XG4gICAgMzNcdCAgICAvKipcbiAgICAzNFx0ICAgICAqIE9idGllbnQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdMOpXG4gICAgMzVcdCAgICAgKiBAcmV0dXJuIEwndXRpbGlzYXRldXIgY29ubmVjdMOpXG4gICAgMzZcdCAgICAgKi9cbiAgICAzN1x0ICAgIHB1YmxpYyBVc2VyIGdldEN1cnJlbnRVc2VyKCkge1xuICAgIDM4XHQgICAgICAgIHJldHVybiBjdXJyZW50VXNlcjtcbiAgICAzOVx0ICAgIH1cbiAgICA0MFx0XG4gICAgNDFcdCAgICAvKipcbiAgICA0Mlx0ICAgICAqIETDqWNvbm5lY3RlIGwndXRpbGlzYXRldXIgYWN0dWVsXG4gICAgNDNcdCAgICAgKi9cbiAgICA0NFx0ICAgIHB1YmxpYyB2b2lkIGxvZ291dCgpIHtcbiAgICA0NVx0ICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICA0Nlx0ICAgIH1cbiAgICA0N1x0XG4gICAgNDhcdCAgICAvKipcbiAgICA0OVx0ICAgICAqIFbDqXJpZmllIHNpIHVuIHV0aWxpc2F0ZXVyIGVzdCBjb25uZWN0w6lcbiAgICA1MFx0ICAgICAqIEByZXR1cm4gdHJ1ZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdMOpLCBmYWxzZSBzaW5vblxuICAgIDUxXHQgICAgICovXG4gICAgNTJcdCAgICBwdWJsaWMgYm9vbGVhbiBpc0xvZ2dlZEluKCkge1xuICAgIDUzXHQgICAgICAgIHJldHVybiBjdXJyZW50VXNlciAhPSBudWxsO1xuICAgIDU0XHQgICAgfVxuICAgIDU1XHR9XG4gICAgNTZcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNTZcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUppUlpHVGRobXRmM1RGcUF0Nm4yZkUifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQzNjRmNmEyLWMyM2MtNDgzMS1iMTc3LTY1NWExYWNlZmYxOCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUNvU01TaXkyZ2NBenQzMWdXdFN2V2UiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9lbnRpdGllcy9SZXNlcnZlckV2ZW50LmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZW50aXRpZXM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamF2YS51dGlsLkRhdGU7XG4gICAgIDRcdFxuICAgICA1XHQvKipcbiAgICAgNlx0ICogQ2xhc3NlIHJlcHLDqXNlbnRhbnQgdW5lIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgIDdcdCAqIEZhaXQgbGEgam9pbnR1cmUgZW50cmUgdW4gdXRpbGlzYXRldXIgZXQgdW4gw6l2w6luZW1lbnRcbiAgICAgOFx0ICovXG4gICAgIDlcdHB1YmxpYyBjbGFzcyBSZXNlcnZlckV2ZW50IHtcbiAgICAxMFx0ICAgIHByaXZhdGUgaW50IGlkO1xuICAgIDExXHQgICAgcHJpdmF0ZSBVc2VyIHVzZXI7XG4gICAgMTJcdCAgICBwcml2YXRlIEV2ZW50IGV2ZW50O1xuICAgIDEzXHQgICAgcHJpdmF0ZSBEYXRlIGRhdGVSZXNlcnZhdGlvbjtcbiAgICAxNFx0ICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1dDsgLy8gUGFyIGV4ZW1wbGU6IFwiY29uZmlybcOpXCIsIFwiZW4gYXR0ZW50ZVwiLCBcImFubnVsw6lcIlxuICAgIDE1XHRcbiAgICAxNlx0ICAgIC8qKlxuICAgIDE3XHQgICAgICogQ29uc3RydWN0ZXVyIHBhciBkw6lmYXV0XG4gICAgMThcdCAgICAgKi9cbiAgICAxOVx0ICAgIHB1YmxpYyBSZXNlcnZlckV2ZW50KCkge1xuICAgIDIwXHQgICAgfVxuICAgIDIxXHRcbiAgICAyMlx0ICAgIC8qKlxuICAgIDIzXHQgICAgICogQ29uc3RydWN0ZXVyIGF2ZWMgdG91cyBsZXMgcGFyYW3DqHRyZXNcbiAgICAyNFx0ICAgICAqIEBwYXJhbSBpZCBJZGVudGlmaWFudCBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICAyNVx0ICAgICAqIEBwYXJhbSB1c2VyIFV0aWxpc2F0ZXVyIHF1aSByw6lzZXJ2ZVxuICAgIDI2XHQgICAgICogQHBhcmFtIGV2ZW50IMOJdsOpbmVtZW50IHLDqXNlcnbDqVxuICAgIDI3XHQgICAgICogQHBhcmFtIGRhdGVSZXNlcnZhdGlvbiBEYXRlIGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDI4XHQgICAgICogQHBhcmFtIHN0YXR1dCBTdGF0dXQgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgMjlcdCAgICAgKi9cbiAgICAzMFx0ICAgIHB1YmxpYyBSZXNlcnZlckV2ZW50KGludCBpZCwgVXNlciB1c2VyLCBFdmVudCBldmVudCwgRGF0ZSBkYXRlUmVzZXJ2YXRpb24sIFN0cmluZyBzdGF0dXQpIHtcbiAgICAzMVx0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgMzJcdCAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICAzM1x0ICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgMzRcdCAgICAgICAgdGhpcy5kYXRlUmVzZXJ2YXRpb24gPSBkYXRlUmVzZXJ2YXRpb247XG4gICAgMzVcdCAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XG4gICAgMzZcdCAgICB9XG4gICAgMzdcdFxuICAgIDM4XHQgICAgLyoqXG4gICAgMzlcdCAgICAgKiBDb25zdHJ1Y3RldXIgc2FucyBpZCAocG91ciBsZXMgbm91dmVsbGVzIHLDqXNlcnZhdGlvbnMpXG4gICAgNDBcdCAgICAgKiBAcGFyYW0gdXNlciBVdGlsaXNhdGV1ciBxdWkgcsOpc2VydmVcbiAgICA0MVx0ICAgICAqIEBwYXJhbSBldmVudCDDiXbDqW5lbWVudCByw6lzZXJ2w6lcbiAgICA0Mlx0ICAgICAqIEBwYXJhbSBkYXRlUmVzZXJ2YXRpb24gRGF0ZSBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICA0M1x0ICAgICAqIEBwYXJhbSBzdGF0dXQgU3RhdHV0IGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDQ0XHQgICAgICovXG4gICAgNDVcdCAgICBwdWJsaWMgUmVzZXJ2ZXJFdmVudChVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xuICAgIDQ2XHQgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgNDdcdCAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgIDQ4XHQgICAgICAgIHRoaXMuZGF0ZVJlc2VydmF0aW9uID0gZGF0ZVJlc2VydmF0aW9uO1xuICAgIDQ5XHQgICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xuICAgIDUwXHQgICAgfVxuICAgIDUxXHRcbiAgICA1Mlx0ICAgIC8vIEdldHRlcnMgZXQgU2V0dGVyc1xuICAgIDUzXHQgICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICA1NFx0ICAgICAgICByZXR1cm4gaWQ7XG4gICAgNTVcdCAgICB9XG4gICAgNTZcdFxuICAgIDU3XHQgICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XG4gICAgNThcdCAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIDU5XHQgICAgfVxuICAgIDYwXHRcbiAgICA2MVx0ICAgIHB1YmxpYyBVc2VyIGdldFVzZXIoKSB7XG4gICAgNjJcdCAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgNjNcdCAgICB9XG4gICAgNjRcdFxuICAgIDY1XHQgICAgcHVibGljIHZvaWQgc2V0VXNlcihVc2VyIHVzZXIpIHtcbiAgICA2Nlx0ICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgIDY3XHQgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgIHB1YmxpYyBFdmVudCBnZXRFdmVudCgpIHtcbiAgICA3MFx0ICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgNzFcdCAgICB9XG4gICAgNzJcdFxuICAgIDczXHQgICAgcHVibGljIHZvaWQgc2V0RXZlbnQoRXZlbnQgZXZlbnQpIHtcbiAgICA3NFx0ICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgNzVcdCAgICB9XG4gICAgNzZcdFxuICAgIDc3XHQgICAgcHVibGljIERhdGUgZ2V0RGF0ZVJlc2VydmF0aW9uKCkge1xuICAgIDc4XHQgICAgICAgIHJldHVybiBkYXRlUmVzZXJ2YXRpb247XG4gICAgNzlcdCAgICB9XG4gICAgODBcdFxuICAgIDgxXHQgICAgcHVibGljIHZvaWQgc2V0RGF0ZVJlc2VydmF0aW9uKERhdGUgZGF0ZVJlc2VydmF0aW9uKSB7XG4gICAgODJcdCAgICAgICAgdGhpcy5kYXRlUmVzZXJ2YXRpb24gPSBkYXRlUmVzZXJ2YXRpb247XG4gICAgODNcdCAgICB9XG4gICAgODRcdFxuICAgIDg1XHQgICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXQoKSB7XG4gICAgODZcdCAgICAgICAgcmV0dXJuIHN0YXR1dDtcbiAgICA4N1x0ICAgIH1cbiAgICA4OFx0XG4gICAgODlcdCAgICBwdWJsaWMgdm9pZCBzZXRTdGF0dXQoU3RyaW5nIHN0YXR1dCkge1xuICAgIDkwXHQgICAgICAgIHRoaXMuc3RhdHV0ID0gc3RhdHV0O1xuICAgIDkxXHQgICAgfVxuICAgIDkyXHRcbiAgICA5M1x0ICAgIEBPdmVycmlkZVxuICAgIDk0XHQgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgICA5NVx0ICAgICAgICByZXR1cm4gXCJSZXNlcnZlckV2ZW50e1wiICtcbiAgICA5Nlx0ICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgOTdcdCAgICAgICAgICAgICAgICBcIiwgdXNlcj1cIiArIHVzZXIgK1xuICAgIDk4XHQgICAgICAgICAgICAgICAgXCIsIGV2ZW50PVwiICsgZXZlbnQgK1xuICAgIDk5XHQgICAgICAgICAgICAgICAgXCIsIGRhdGVSZXNlcnZhdGlvbj1cIiArIGRhdGVSZXNlcnZhdGlvbiArXG4gICAxMDBcdCAgICAgICAgICAgICAgICBcIiwgc3RhdHV0PSdcIiArIHN0YXR1dCArICdcXCcnICtcbiAgIDEwMVx0ICAgICAgICAgICAgICAgICd9JztcbiAgIDEwMlx0ICAgIH1cbiAgIDEwM1x0fVxuICAgMTA0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEwNFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNnhuczlmZTZoaTF4QnVFdTJYQjRGcyJ9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTc5ZDA3MmMtZjgyZS00MDQyLWE0NGUtMzEyYjA0ZjQwMDkwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiUGFyZmFpdCAhIEonYWkgbWFpbnRlbmFudCBjb3JyZWN0ZW1lbnQgOlxuXG4xLiBTdXBwcmltw6kgdG91dCBjZSBxdWkgY29uY2VybmUgbCdlbnRpdMOpIFBlcnNvbm5lIGRhbnMgTWFpbi5qYXZhXG4yLiBDcsOpw6kgbGVzIGVudGl0w6lzIFVzZXIsIEV2ZW50LCBVc2VyU2Vzc2lvbiBldCBSZXNlcnZlckV2ZW50IGRhbnMgbGUgZG9zc2llciBgZW50aXRpZXNgIChldCBub24gZGFucyBgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXNgKVxuMy4gTWlzIMOgIGpvdXIgbGUgZmljaGllciBNYWluLmphdmEgcG91ciB1dGlsaXNlciBjZXMgbm91dmVsbGVzIGVudGl0w6lzXG5cblRvdXRlcyBsZXMgZW50aXTDqXMgc29udCBtYWludGVuYW50IGRhbnMgbGUgYm9uIHBhY2thZ2UgYGVudGl0aWVzYCBldCBsZSBmaWNoaWVyIE1haW4uamF2YSBhIMOpdMOpIG1pcyDDoCBqb3VyIHBvdXIgbGVzIHV0aWxpc2VyIGNvcnJlY3RlbWVudC5cblxuVm9pY2kgdW4gcsOpc3Vtw6kgZGVzIG1vZGlmaWNhdGlvbnMgZWZmZWN0dcOpZXMgOlxuXG4xLiAqKlN1cHByZXNzaW9uIGRlIGwnZW50aXTDqSBQZXJzb25uZSoqIDogSidhaSByZXRpcsOpIHRvdXRlcyBsZXMgcsOpZsOpcmVuY2VzIMOgIGwnZW50aXTDqSBQZXJzb25uZSBkYW5zIGxlIGZpY2hpZXIgTWFpbi5qYXZhLlxuXG4yLiAqKkNyw6lhdGlvbiBkZSBsJ2VudGl0w6kgVXNlcioqIDogSidhaSBjcsOpw6kgdW5lIGNsYXNzZSBVc2VyIGRhbnMgbGUgcGFja2FnZSBlbnRpdGllcyBhdmVjIGxlcyBwcm9wcmnDqXTDqXMgbsOpY2Vzc2FpcmVzLlxuXG4zLiAqKkNyw6lhdGlvbiBkZSBsJ2VudGl0w6kgRXZlbnQqKiA6IEonYWkgY3LDqcOpIHVuZSBjbGFzc2UgRXZlbnQgZGFucyBsZSBwYWNrYWdlIGVudGl0aWVzIHBvdXIgZ8OpcmVyIGxlcyDDqXbDqW5lbWVudHMuXG5cbjQuICoqQ3LDqWF0aW9uIGRlIGwnZW50aXTDqSBVc2VyU2Vzc2lvbioqIDogSidhaSBjcsOpw6kgdW5lIGNsYXNzZSBzaW5nbGV0b24gcG91ciBnw6lyZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1ciwgcGVybWV0dGFudCBkZSBzdG9ja2VyIGV0IHLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpLlxuXG41LiAqKkNyw6lhdGlvbiBkZSBsJ2VudGl0w6kgUmVzZXJ2ZXJFdmVudCoqIDogSidhaSBjcsOpw6kgdW5lIGNsYXNzZSBxdWkgZmFpdCBsYSBqb2ludHVyZSBlbnRyZSB1biB1dGlsaXNhdGV1ciAoVXNlcikgZXQgdW4gw6l2w6luZW1lbnQgKEV2ZW50KSwgYXZlYyBsZXMgcHJvcHJpw6l0w6lzIG7DqWNlc3NhaXJlcyBwb3VyIGfDqXJlciBsZXMgcsOpc2VydmF0aW9ucy5cblxuNi4gKipNaXNlIMOgIGpvdXIgZHUgZmljaGllciBNYWluLmphdmEqKiA6IEonYWkgbW9kaWZpw6kgbGUgZmljaGllciBwb3VyIHRlc3RlciBsZXMgbm91dmVsbGVzIGVudGl0w6lzLCBlbiBjcsOpYW50IGRlcyBpbnN0YW5jZXMgZXQgZW4gYWZmaWNoYW50IGxldXJzIGluZm9ybWF0aW9ucy5cblxuVG91dGVzIGNlcyBtb2RpZmljYXRpb25zIHJlc3BlY3RlbnQgbCdhcmNoaXRlY3R1cmUgZHUgcHJvamV0IGVuIHBsYcOnYW50IGxlcyBlbnRpdMOpcyBkYW5zIGxlIGRvc3NpZXIgYGVudGl0aWVzYCBjb21tZSBkZW1hbmTDqS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgdGVzdHM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IGVudGl0aWVzLkV2ZW50O1xuICAgICA1XHRpbXBvcnQgZW50aXRpZXMuVXNlclNlc3Npb247XG4gICAgIDZcdGltcG9ydCBlbnRpdGllcy5SZXNlcnZlckV2ZW50O1xuICAgICA3XHRpbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTBcdGltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcbiAgICAxMVx0XG4gICAgMTJcdHB1YmxpYyBjbGFzcyBNYWluIHtcbiAgICAxM1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgMTRcdCAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAxNVx0ICAgICAgICB0cnkge1xuICAgIDE2XHQgICAgICAgICAgICAvLyBDb25uZXhpb24gw6AgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgIDE3XHQgICAgICAgICAgICBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuICAgIDE4XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJDb25uZXhpb24gw6AgbGEgYmFzZSBkZSBkb25uw6llcyDDqXRhYmxpZVwiKTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgMjFcdCAgICAgICAgICAgIHRlc3RFbnRpdGllcygpO1xuICAgIDIyXHRcbiAgICAyM1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDI0XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFcnJldXI6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgIDI1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDI2XHQgICAgICAgIH1cbiAgICAyN1x0ICAgIH1cbiAgICAyOFx0XG4gICAgMjlcdCAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHRlc3RFbnRpdGllcygpIHtcbiAgICAzMFx0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biB1dGlsaXNhdGV1ciBkZSB0ZXN0XG4gICAgMzFcdCAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcbiAgICAzMlx0ICAgICAgICB1c2VyLnNldE5vbShcIkRvZVwiKTtcbiAgICAzM1x0ICAgICAgICB1c2VyLnNldFByZW5vbShcIkpvaG5cIik7XG4gICAgMzRcdCAgICAgICAgdXNlci5zZXRFbWFpbChcImpvaG4uZG9lQGV4YW1wbGUuY29tXCIpO1xuICAgIDM1XHRcbiAgICAzNlx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCd1dGlsaXNhdGV1clxuICAgIDM3XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNyw6nDqTogXCIgKyB1c2VyKTtcbiAgICAzOFx0XG4gICAgMzlcdCAgICAgICAgLy8gQ3LDqWF0aW9uIGQndW4gw6l2w6luZW1lbnQgZGUgdGVzdFxuICAgIDQwXHQgICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgNDFcdCAgICAgICAgZXZlbnQuc2V0VGl0bGUoXCLDiXbDqW5lbWVudCBkZSB0ZXN0XCIpO1xuICAgIDQyXHQgICAgICAgIGV2ZW50LnNldERlc2NyaXB0aW9uKFwiRGVzY3JpcHRpb24gZGUgbCfDqXbDqW5lbWVudCBkZSB0ZXN0XCIpO1xuICAgIDQzXHQgICAgICAgIGV2ZW50LnNldERhdGVfZGVidXQobmV3IERhdGUoKSk7XG4gICAgNDRcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9maW4obmV3IERhdGUoKSk7XG4gICAgNDVcdFxuICAgIDQ2XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ8OpdsOpbmVtZW50XG4gICAgNDdcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiw4l2w6luZW1lbnQgY3LDqcOpOiBcIiArIGV2ZW50KTtcbiAgICA0OFx0XG4gICAgNDlcdCAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgNTBcdCAgICAgICAgVXNlclNlc3Npb24gdXNlclNlc3Npb24gPSBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpO1xuICAgIDUxXHQgICAgICAgIHVzZXJTZXNzaW9uLnNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICAgIDUyXHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNvbm5lY3TDqTogXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcbiAgICA1M1x0XG4gICAgNTRcdCAgICAgICAgLy8gVGVzdCBkZSByw6lzZXJ2YXRpb24gZCfDqXbDqW5lbWVudFxuICAgIDU1XHQgICAgICAgIFJlc2VydmVyRXZlbnQgcmVzZXJ2YXRpb24gPSBuZXcgUmVzZXJ2ZXJFdmVudCgpO1xuICAgIDU2XHQgICAgICAgIHJlc2VydmF0aW9uLnNldFVzZXIodXNlcik7XG4gICAgNTdcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RXZlbnQoZXZlbnQpO1xuICAgIDU4XHQgICAgICAgIHJlc2VydmF0aW9uLnNldERhdGVSZXNlcnZhdGlvbihuZXcgRGF0ZSgpKTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDYxXHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlLDqXNlcnZhdGlvbiBjcsOpw6llOiBcIiArIHJlc2VydmF0aW9uKTtcbiAgICA2Mlx0ICAgIH1cbiAgICA2M1x0fVxuICAgIDY0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDY0XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDb1NNU2l5MmdjQXp0MzFnV3RTdldlIn19XSwicmVzcG9uc2VfdGV4dCI6IlBhcmZhaXQgISBKJ2FpIG1haW50ZW5hbnQgY29ycmVjdGVtZW50IDpcblxuMS4gU3VwcHJpbcOpIHRvdXQgY2UgcXVpIGNvbmNlcm5lIGwnZW50aXTDqSBQZXJzb25uZSBkYW5zIE1haW4uamF2YVxuMi4gQ3LDqcOpIGxlcyBlbnRpdMOpcyBVc2VyLCBFdmVudCwgVXNlclNlc3Npb24gZXQgUmVzZXJ2ZXJFdmVudCBkYW5zIGxlIGRvc3NpZXIgYGVudGl0aWVzYCAoZXQgbm9uIGRhbnMgYHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzYClcbjMuIE1pcyDDoCBqb3VyIGxlIGZpY2hpZXIgTWFpbi5qYXZhIHBvdXIgdXRpbGlzZXIgY2VzIG5vdXZlbGxlcyBlbnRpdMOpc1xuXG5Ub3V0ZXMgbGVzIGVudGl0w6lzIHNvbnQgbWFpbnRlbmFudCBkYW5zIGxlIGJvbiBwYWNrYWdlIGBlbnRpdGllc2AgZXQgbGUgZmljaGllciBNYWluLmphdmEgYSDDqXTDqSBtaXMgw6Agam91ciBwb3VyIGxlcyB1dGlsaXNlciBjb3JyZWN0ZW1lbnQuXG5cblZvaWNpIHVuIHLDqXN1bcOpIGRlcyBtb2RpZmljYXRpb25zIGVmZmVjdHXDqWVzIDpcblxuMS4gKipTdXBwcmVzc2lvbiBkZSBsJ2VudGl0w6kgUGVyc29ubmUqKiA6IEonYWkgcmV0aXLDqSB0b3V0ZXMgbGVzIHLDqWbDqXJlbmNlcyDDoCBsJ2VudGl0w6kgUGVyc29ubmUgZGFucyBsZSBmaWNoaWVyIE1haW4uamF2YS5cblxuMi4gKipDcsOpYXRpb24gZGUgbCdlbnRpdMOpIFVzZXIqKiA6IEonYWkgY3LDqcOpIHVuZSBjbGFzc2UgVXNlciBkYW5zIGxlIHBhY2thZ2UgZW50aXRpZXMgYXZlYyBsZXMgcHJvcHJpw6l0w6lzIG7DqWNlc3NhaXJlcy5cblxuMy4gKipDcsOpYXRpb24gZGUgbCdlbnRpdMOpIEV2ZW50KiogOiBKJ2FpIGNyw6nDqSB1bmUgY2xhc3NlIEV2ZW50IGRhbnMgbGUgcGFja2FnZSBlbnRpdGllcyBwb3VyIGfDqXJlciBsZXMgw6l2w6luZW1lbnRzLlxuXG40LiAqKkNyw6lhdGlvbiBkZSBsJ2VudGl0w6kgVXNlclNlc3Npb24qKiA6IEonYWkgY3LDqcOpIHVuZSBjbGFzc2Ugc2luZ2xldG9uIHBvdXIgZ8OpcmVyIGxhIHNlc3Npb24gdXRpbGlzYXRldXIsIHBlcm1ldHRhbnQgZGUgc3RvY2tlciBldCByw6ljdXDDqXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqS5cblxuNS4gKipDcsOpYXRpb24gZGUgbCdlbnRpdMOpIFJlc2VydmVyRXZlbnQqKiA6IEonYWkgY3LDqcOpIHVuZSBjbGFzc2UgcXVpIGZhaXQgbGEgam9pbnR1cmUgZW50cmUgdW4gdXRpbGlzYXRldXIgKFVzZXIpIGV0IHVuIMOpdsOpbmVtZW50IChFdmVudCksIGF2ZWMgbGVzIHByb3ByacOpdMOpcyBuw6ljZXNzYWlyZXMgcG91ciBnw6lyZXIgbGVzIHLDqXNlcnZhdGlvbnMuXG5cbjYuICoqTWlzZSDDoCBqb3VyIGR1IGZpY2hpZXIgTWFpbi5qYXZhKiogOiBKJ2FpIG1vZGlmacOpIGxlIGZpY2hpZXIgcG91ciB0ZXN0ZXIgbGVzIG5vdXZlbGxlcyBlbnRpdMOpcywgZW4gY3LDqWFudCBkZXMgaW5zdGFuY2VzIGV0IGVuIGFmZmljaGFudCBsZXVycyBpbmZvcm1hdGlvbnMuXG5cblRvdXRlcyBjZXMgbW9kaWZpY2F0aW9ucyByZXNwZWN0ZW50IGwnYXJjaGl0ZWN0dXJlIGR1IHByb2pldCBlbiBwbGHDp2FudCBsZXMgZW50aXTDqXMgZGFucyBsZSBkb3NzaWVyIGBlbnRpdGllc2AgY29tbWUgZGVtYW5kw6kuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODMxMzIzNzItZDA0Yi00YWU3LTk0ZWUtYTFkOWNmNTIwZmU3IiwicmVxdWVzdF9tZXNzYWdlIjoic3VwcHJpbWUgdG91dGVzIGxlcyBjaG9zZXMgZGFucyBsZSBtYWluIFxuZXQgbGFpc3NleiB2b2lkIHN0YXJ0IHBvdXIgbGEgcGFnZSBsb2dpbiBxdWUgdHUgdmFzIGxhIHRyYXZhaWxsw6kgXG5haW5zaSBsb2dpbkNvbnRyb2xsZXIgXG5qZSBzdWlzIGVuIHRhaW4gZGUgdHJhdmFpbGxleiBhdmVjIGZ4bWxcbmZhaXMgY2UgcXVlIGplIHQnYWkgZGl0IHNldWxlbWVudFxuXG4iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0Ijoic3VwcHJpbWUgdG91dGVzIGxlcyBjaG9zZXMgZGFucyBsZSBtYWluICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiZXQgbGFpc3NleiB2b2lkIHN0YXJ0IHBvdXIgbGEgcGFnZSBsb2dpbiBxdWUgdHUgdmFzIGxhIHRyYXZhaWxsw6kgIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJhaW5zaSBsb2dpbkNvbnRyb2xsZXIgIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJqZSBzdWlzIGVuIHRhaW4gZGUgdHJhdmFpbGxleiBhdmVjIGZ4bWwifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImZhaXMgY2UgcXVlIGplIHQnYWkgZGl0IHNldWxlbWVudCJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNTVOenJqU0JzU2JGVlJNdTR0ZGRNQiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSmUgdmFpcyBzdXBwcmltZXIgdG91dCBsZSBjb250ZW51IGR1IE1haW4gZXQgbGFpc3NlciB1bmlxdWVtZW50IGxhIG3DqXRob2RlIHZvaWQgc3RhcnQgcG91ciBsYSBwYWdlIGxvZ2luLiBKZSB2YWlzIMOpZ2FsZW1lbnQgcHLDqXBhcmVyIGxlIExvZ2luQ29udHJvbGxlciBwb3VyIHRyYXZhaWxsZXIgYXZlYyBGWE1MLlxuXG5Db21tZW7Dp29ucyBwYXIgZXhhbWluZXIgbGUgZmljaGllciBNYWluIGFjdHVlbDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInJlc3BvbnNlX3RleHQiOiJKZSB2YWlzIHN1cHByaW1lciB0b3V0IGxlIGNvbnRlbnUgZHUgTWFpbiBldCBsYWlzc2VyIHVuaXF1ZW1lbnQgbGEgbcOpdGhvZGUgdm9pZCBzdGFydCBwb3VyIGxhIHBhZ2UgbG9naW4uIEplIHZhaXMgw6lnYWxlbWVudCBwcsOpcGFyZXIgbGUgTG9naW5Db250cm9sbGVyIHBvdXIgdHJhdmFpbGxlciBhdmVjIEZYTUwuXG5cbkNvbW1lbsOnb25zIHBhciBleGFtaW5lciBsZSBmaWNoaWVyIE1haW4gYWN0dWVsOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImY5ZjExNjE3LTZmZTMtNDVmOS04NGQ0LTgyMTMxYTc0NTAxZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVBxb3k0N0VaZFk4OHRSdmVNY1loTHkiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IGVudGl0aWVzLkV2ZW50O1xcbmltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcXG5pbXBvcnQgZW50aXRpZXMuUmVzZXJ2ZXJFdmVudDtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcXG5cXG5wdWJsaWMgY2xhc3MgTWFpbiB7XFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XFxuICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdFxcdTAwZTlzXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENvbm5leGlvbiBcXHUwMGUwIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJDb25uZXhpb24gXFx1MDBlMCBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXMgXFx1MDBlOXRhYmxpZVxcXCIpO1xcblxcbiAgICAgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0XFx1MDBlOXNcXG4gICAgICAgICAgICB0ZXN0RW50aXRpZXMoKTtcXG5cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJFcnJldXI6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHRlc3RFbnRpdGllcygpIHtcXG4gICAgICAgIC8vIENyXFx1MDBlOWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxcbiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcXG4gICAgICAgIHVzZXIuc2V0Tm9tKFxcXCJEb2VcXFwiKTtcXG4gICAgICAgIHVzZXIuc2V0UHJlbm9tKFxcXCJKb2huXFxcIik7XFxuICAgICAgICB1c2VyLnNldEVtYWlsKFxcXCJqb2huLmRvZUBleGFtcGxlLmNvbVxcXCIpO1xcblxcbiAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiVXRpbGlzYXRldXIgY3JcXHUwMGU5XFx1MDBlOTogXFxcIiArIHVzZXIpO1xcblxcbiAgICAgICAgLy8gQ3JcXHUwMGU5YXRpb24gZCd1biBcXHUwMGU5dlxcdTAwZTluZW1lbnQgZGUgdGVzdFxcbiAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcXG4gICAgICAgIGV2ZW50LnNldFRpdGxlKFxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnQgZGUgdGVzdFxcXCIpO1xcbiAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXFxcIkRlc2NyaXB0aW9uIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50IGRlIHRlc3RcXFwiKTtcXG4gICAgICAgIGV2ZW50LnNldERhdGVfZGVidXQobmV3IERhdGUoKSk7XFxuICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcXG5cXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnQgY3JcXHUwMGU5XFx1MDBlOTogXFxcIiArIGV2ZW50KTtcXG5cXG4gICAgICAgIC8vIFRlc3QgZGUgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxcbiAgICAgICAgVXNlclNlc3Npb24gdXNlclNlc3Npb24gPSBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpO1xcbiAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlV0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5OiBcXFwiICsgdXNlclNlc3Npb24uZ2V0Q3VycmVudFVzZXIoKSk7XFxuXFxuICAgICAgICAvLyBUZXN0IGRlIHJcXHUwMGU5c2VydmF0aW9uIGQnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAgICBSZXNlcnZlckV2ZW50IHJlc2VydmF0aW9uID0gbmV3IFJlc2VydmVyRXZlbnQoKTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldFVzZXIodXNlcik7XFxuICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XFxuICAgICAgICByZXNlcnZhdGlvbi5zZXREYXRlUmVzZXJ2YXRpb24obmV3IERhdGUoKSk7XFxuXFxuICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiUlxcdTAwZTlzZXJ2YXRpb24gY3JcXHUwMGU5XFx1MDBlOWU6IFxcXCIgKyByZXNlcnZhdGlvbik7XFxuICAgIH1cXG59XCIsIFwibmV3X3N0clwiOiBcInBhY2thZ2UgdGVzdHM7XFxuXFxuaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XFxuXFxuaW1wb3J0IGphdmEuaW8uRmlsZTtcXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcXG5cXG5wdWJsaWMgY2xhc3MgTWFpbiBleHRlbmRzIEFwcGxpY2F0aW9uIHtcXG4gICAgXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBwcmltYXJ5U3RhZ2UpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsZSBmaWNoaWVyIEZYTUwgZGUgbG9naW5cXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXFxcIi9meG1sL0xvZ2luLmZ4bWxcXFwiKSk7XFxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2NcXHUwMGU4bmVcXG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRUaXRsZShcXFwiTG9naW5cXFwiKTtcXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcXFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZSBsYSBwYWdlIGRlIGxvZ2luOiBcXFwiICsgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgXFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcXG4gICAgICAgIGxhdW5jaChhcmdzKTtcXG4gICAgfVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNjN9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGplIHZhaXMgbW9kaWZpZXIgbGUgZmljaGllciBNYWluIHBvdXIgbmUgZ2FyZGVyIHF1ZSBsYSBtw6l0aG9kZSBzdGFydCBwb3VyIGxhIHBhZ2UgbG9naW46XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBlbnRpdGllcy5FdmVudDtcbiAgICAgNVx0aW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xuICAgICA2XHRpbXBvcnQgZW50aXRpZXMuUmVzZXJ2ZXJFdmVudDtcbiAgICAgN1x0aW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG4gICAgIDhcdFxuICAgICA5XHRpbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkRhdGU7XG4gICAgMTFcdFxuICAgIDEyXHRwdWJsaWMgY2xhc3MgTWFpbiB7XG4gICAgMTNcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSAge1xuICAgIDE0XHQgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgMTVcdCAgICAgICAgdHJ5IHtcbiAgICAxNlx0ICAgICAgICAgICAgLy8gQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXNcbiAgICAxN1x0ICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICAxOFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXMgw6l0YWJsaWVcIik7XG4gICAgMTlcdFxuICAgIDIwXHQgICAgICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDIxXHQgICAgICAgICAgICB0ZXN0RW50aXRpZXMoKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyNFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXJyZXVyOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAyNVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyNlx0ICAgICAgICB9XG4gICAgMjdcdCAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XG4gICAgMzBcdCAgICAgICAgLy8gQ3LDqWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxuICAgIDMxXHQgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAgMzJcdCAgICAgICAgdXNlci5zZXROb20oXCJEb2VcIik7XG4gICAgMzNcdCAgICAgICAgdXNlci5zZXRQcmVub20oXCJKb2huXCIpO1xuICAgIDM0XHQgICAgICAgIHVzZXIuc2V0RW1haWwoXCJqb2huLmRvZUBleGFtcGxlLmNvbVwiKTtcbiAgICAzNVx0XG4gICAgMzZcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICAzN1x0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjcsOpw6k6IFwiICsgdXNlcik7XG4gICAgMzhcdFxuICAgIDM5XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIMOpdsOpbmVtZW50IGRlIHRlc3RcbiAgICA0MFx0ICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xuICAgIDQxXHQgICAgICAgIGV2ZW50LnNldFRpdGxlKFwiw4l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0Mlx0ICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcIkRlc2NyaXB0aW9uIGRlIGwnw6l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0M1x0ICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KG5ldyBEYXRlKCkpO1xuICAgIDQ0XHQgICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCfDqXbDqW5lbWVudFxuICAgIDQ3XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsOJdsOpbmVtZW50IGNyw6nDqTogXCIgKyBldmVudCk7XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgICAgIC8vIFRlc3QgZGUgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgIDUwXHQgICAgICAgIFVzZXJTZXNzaW9uIHVzZXJTZXNzaW9uID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKTtcbiAgICA1MVx0ICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICA1Mlx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjb25uZWN0w6k6IFwiICsgdXNlclNlc3Npb24uZ2V0Q3VycmVudFVzZXIoKSk7XG4gICAgNTNcdFxuICAgIDU0XHQgICAgICAgIC8vIFRlc3QgZGUgcsOpc2VydmF0aW9uIGQnw6l2w6luZW1lbnRcbiAgICA1NVx0ICAgICAgICBSZXNlcnZlckV2ZW50IHJlc2VydmF0aW9uID0gbmV3IFJlc2VydmVyRXZlbnQoKTtcbiAgICA1Nlx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRVc2VyKHVzZXIpO1xuICAgIDU3XHQgICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcbiAgICA1OFx0ICAgICAgICByZXNlcnZhdGlvbi5zZXREYXRlUmVzZXJ2YXRpb24obmV3IERhdGUoKSk7XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICA2MVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSw6lzZXJ2YXRpb24gY3LDqcOpZTogXCIgKyByZXNlcnZhdGlvbik7XG4gICAgNjJcdCAgICB9XG4gICAgNjNcdH1cbiAgICA2NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA2NFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNTVOenJqU0JzU2JGVlJNdTR0ZGRNQiJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBqZSB2YWlzIG1vZGlmaWVyIGxlIGZpY2hpZXIgTWFpbiBwb3VyIG5lIGdhcmRlciBxdWUgbGEgbcOpdGhvZGUgc3RhcnQgcG91ciBsYSBwYWdlIGxvZ2luOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRkOTFjZmM2LWM2ODMtNDA2ZS05NGVmLTUyZGYwNTZiYzZjMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRWV2hMVHgyZzVmMzRBRWZZeHB6Z0oiLCJ0b29sX25hbWUiOiJzaGVsbCIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiTmV3LUl0ZW0gLVBhdGggXFxcInNyYy9tYWluL3Jlc291cmNlcy9meG1sXFxcIiAtSXRlbVR5cGUgRGlyZWN0b3J5IC1Gb3JjZVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsZSBkb3NzaWVyIHBvdXIgbGVzIGZpY2hpZXJzIEZYTUwgZXQgbGUgZmljaGllciBMb2dpbi5meG1sOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcbiAgICAgNFx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDVcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgICA3XHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxMFx0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMTFcdFxuICAgIDEyXHRwdWJsaWMgY2xhc3MgTWFpbiBleHRlbmRzIEFwcGxpY2F0aW9uIHtcbiAgICAxM1x0XG4gICAgMTRcdCAgICBAT3ZlcnJpZGVcbiAgICAxNVx0ICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkge1xuICAgIDE2XHQgICAgICAgIHRyeSB7XG4gICAgMTdcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRlIGxvZ2luXG4gICAgMThcdCAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL0xvZ2luLmZ4bWxcIikpO1xuICAgIDE5XHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgIDIyXHQgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAyM1x0ICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAyNFx0ICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFRpdGxlKFwiTG9naW5cIik7XG4gICAgMjVcdCAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zaG93KCk7XG4gICAgMjZcdFxuICAgIDI3XHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAyOFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZSBsYSBwYWdlIGRlIGxvZ2luOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAyOVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAzMFx0ICAgICAgICB9XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgIDM0XHQgICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICAzNVx0ICAgIH1cbiAgICAzNlx0fVxuICAgIDM3XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUHFveTQ3RVpkWTg4dFJ2ZU1jWWhMeSJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBjcsOpb25zIGxlIGRvc3NpZXIgcG91ciBsZXMgZmljaGllcnMgRlhNTCBldCBsZSBmaWNoaWVyIExvZ2luLmZ4bWw6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMWI1NWQzMzItYmU2Yy00YzVkLWI2MGYtMjExMjc3ZGU4ZWJhIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM1VWTVJyd3pRRXRhWDdLWEhtSmhEVCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXCIsIFwiZmlsZV9jb250ZW50XCI6IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0Lio/Plxcbjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Plxcbjw/aW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0LlRleHQ/PlxcblxcbjxCb3JkZXJQYW5lIHhtbG5zPVxcXCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcXFwiXFxuICAgICAgICAgICAgeG1sbnM6Zng9XFxcImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcXFwiXFxuICAgICAgICAgICAgZng6Y29udHJvbGxlcj1cXFwiY29udHJvbGxlcnMuTG9naW5Db250cm9sbGVyXFxcIlxcbiAgICAgICAgICAgIHByZWZIZWlnaHQ9XFxcIjQwMC4wXFxcIiBwcmVmV2lkdGg9XFxcIjYwMC4wXFxcIj5cXG4gICAgXFxuICAgIDxjZW50ZXI+XFxuICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCIgc3BhY2luZz1cXFwiMjAuMFxcXCI+XFxuICAgICAgICAgICAgPHBhZGRpbmc+XFxuICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPVxcXCIyMC4wXFxcIiByaWdodD1cXFwiMjAuMFxcXCIgYm90dG9tPVxcXCIyMC4wXFxcIiBsZWZ0PVxcXCIyMC4wXFxcIi8+XFxuICAgICAgICAgICAgPC9wYWRkaW5nPlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIkNvbm5leGlvblxcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDI0cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD1cXFwiMTBcXFwiIHZnYXA9XFxcIjEwXFxcIiBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJFbWFpbDpcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIwXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMFxcXCIvPlxcbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVxcXCJlbWFpbEZpZWxkXFxcIiBwcm9tcHRUZXh0PVxcXCJFbnRyZXogdm90cmUgZW1haWxcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIwXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMVxcXCIvPlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIk1vdCBkZSBwYXNzZTpcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIxXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMFxcXCIvPlxcbiAgICAgICAgICAgICAgICA8UGFzc3dvcmRGaWVsZCBmeDppZD1cXFwicGFzc3dvcmRGaWVsZFxcXCIgcHJvbXB0VGV4dD1cXFwiRW50cmV6IHZvdHJlIG1vdCBkZSBwYXNzZVxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjFcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIxXFxcIi8+XFxuICAgICAgICAgICAgPC9HcmlkUGFuZT5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVxcXCJsb2dpbkJ1dHRvblxcXCIgdGV4dD1cXFwiU2UgY29ubmVjdGVyXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZUxvZ2luXFxcIi8+XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgPEhCb3ggYWxpZ25tZW50PVxcXCJDRU5URVJcXFwiIHNwYWNpbmc9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIlBhcyBlbmNvcmUgaW5zY3JpdD9cXFwiLz5cXG4gICAgICAgICAgICAgICAgPEh5cGVybGluayBmeDppZD1cXFwicmVnaXN0ZXJMaW5rXFxcIiB0ZXh0PVxcXCJTJ2luc2NyaXJlXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZVJlZ2lzdGVyXFxcIi8+XFxuICAgICAgICAgICAgPC9IQm94PlxcbiAgICAgICAgPC9WQm94PlxcbiAgICA8L2NlbnRlcj5cXG4gICAgXFxuPC9Cb3JkZXJQYW5lPlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQ3LDqW9ucyBsZSBmaWNoaWVyIExvZ2luLmZ4bWw6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJcclxuXHJcbiAgICBEaXJlY3Rvcnk6IEM6XFxVc2Vyc1xcM2xleWFcXElkZWFQcm9qZWN0c1xccGlfZGV2XFxzcmNcXG1haW5cXHJlc291cmNlc1xyXG5cclxuXHJcbk1vZGUgICAgICAgICAgICAgICAgIExhc3RXcml0ZVRpbWUgICAgICAgICBMZW5ndGggTmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi0tLS0gICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0gICAgICAgICAtLS0tLS0gLS0tLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmQtLS0tLSAgICAgICAgICA1LzYvMjAyNSAgIDI6MjYgUE0gICAgICAgICAgICAgICAgZnhtbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5cclxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVFZXaExUeDJnNWYzNEFFZll4cHpnSiJ9fV0sInJlc3BvbnNlX3RleHQiOiJDcsOpb25zIGxlIGZpY2hpZXIgTG9naW4uZnhtbDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5ZjExOWFkZi01ZDc0LTQwNjUtYWE5My0zZmMyNWYzOGYyMTYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFNQ2VSVENrSEZZTFlRZ1E1NFdZVTdMIiwidG9vbF9uYW1lIjoic2hlbGwiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcIk5ldy1JdGVtIC1QYXRoIFxcXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzXFxcIiAtSXRlbVR5cGUgRGlyZWN0b3J5IC1Gb3JjZVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsZSBkb3NzaWVyIHBvdXIgbGVzIGNvbnRyw7RsZXVycyBldCBsZSBmaWNoaWVyIExvZ2luQ29udHJvbGxlcjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTNVVk1Scnd6UUV0YVg3S1hIbUpoRFQifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsZSBkb3NzaWVyIHBvdXIgbGVzIGNvbnRyw7RsZXVycyBldCBsZSBmaWNoaWVyIExvZ2luQ29udHJvbGxlcjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlZDIxMWE4ZC03MTY5LTQ1OWQtODVlZS0yNjY5OTMxYzJiYzQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEycmpONFl1UnlUV0E2WHVBWlI3S1BpIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIGNvbnRyb2xsZXJzO1xcblxcbmltcG9ydCBlbnRpdGllcy5Vc2VyO1xcbmltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcXG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcblxcbnB1YmxpYyBjbGFzcyBMb2dpbkNvbnRyb2xsZXIge1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHRGaWVsZCBlbWFpbEZpZWxkO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFBhc3N3b3JkRmllbGQgcGFzc3dvcmRGaWVsZDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBCdXR0b24gbG9naW5CdXR0b247XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgSHlwZXJsaW5rIHJlZ2lzdGVyTGluaztcXG5cXG4gICAgcHJpdmF0ZSBDb25uZWN0aW9uIGNvbm5lY3Rpb247XFxuXFxuICAgIHB1YmxpYyBMb2dpbkNvbnRyb2xsZXIoKSB7XFxuICAgICAgICAvLyBJbml0aWFsaXNlciBsYSBjb25uZXhpb24gXFx1MDBlMCBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgIGNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ2luKEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICBTdHJpbmcgZW1haWwgPSBlbWFpbEZpZWxkLmdldFRleHQoKTtcXG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHBhc3N3b3JkRmllbGQuZ2V0VGV4dCgpO1xcblxcbiAgICAgICAgLy8gVlxcdTAwZTlyaWZpZXIgcXVlIGxlcyBjaGFtcHMgbmUgc29udCBwYXMgdmlkZXNcXG4gICAgICAgIGlmIChlbWFpbC5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBjb25uZXhpb25cXFwiLCBcXFwiVmV1aWxsZXogcmVtcGxpciB0b3VzIGxlcyBjaGFtcHMuXFxcIik7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBWXFx1MDBlOXJpZmllciBsZXMgaWRlbnRpZmlhbnRzIGRhbnMgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgVXNlciB1c2VyID0gYXV0aGVudGljYXRlVXNlcihlbWFpbCwgcGFzc3dvcmQpO1xcblxcbiAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgLy8gQ29ubmV4aW9uIHJcXHUwMGU5dXNzaWVcXG4gICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkNvbm5leGlvbiByXFx1MDBlOXVzc2llXFxcIiwgXFxcIkJpZW52ZW51ZSBcXFwiICsgdXNlci5nZXRQcmVub20oKSArIFxcXCIgXFxcIiArIHVzZXIuZ2V0Tm9tKCkgKyBcXFwiIVxcXCIpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkJ2FjY3VlaWxcXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVUb0hvbWUoKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAvLyBcXHUwMGM5Y2hlYyBkZSBsYSBjb25uZXhpb25cXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBjb25uZXhpb25cXFwiLCBcXFwiRW1haWwgb3UgbW90IGRlIHBhc3NlIGluY29ycmVjdC5cXFwiKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZGUgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxcIiwgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXFxcIiwgXFxcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGQnYWNjdWVpbC5cXFwiKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlZ2lzdGVyKEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uXFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvZnhtbC9SZWdpc3Rlci5meG1sXFxcIikpO1xcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHJlZ2lzdGVyTGluay5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcXFwiSW5zY3JpcHRpb25cXFwiKTtcXG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXFxcIiwgXFxcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGQnaW5zY3JpcHRpb24uXFxcIik7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBwcml2YXRlIFVzZXIgYXV0aGVudGljYXRlVXNlcihTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gPyBBTkQgcGFzc3dvcmQgPSA/XFxcIjtcXG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMiwgcGFzc3dvcmQpOyAvLyBOb3RlOiBEYW5zIHVuZSBhcHBsaWNhdGlvbiByXFx1MDBlOWVsbGUsIGlsIGZhdWRyYWl0IGhhY2hlciBsZSBtb3QgZGUgcGFzc2VcXG5cXG4gICAgICAgIFJlc3VsdFNldCByZXN1bHRTZXQgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KCk7XFxuXFxuICAgICAgICBpZiAocmVzdWx0U2V0Lm5leHQoKSkge1xcbiAgICAgICAgICAgIC8vIENyXFx1MDBlOWVyIHVuIG9iamV0IFVzZXIgYXZlYyBsZXMgZG9ublxcdTAwZTllcyBkZSBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0SWQocmVzdWx0U2V0LmdldEludChcXFwiaWRcXFwiKSk7XFxuICAgICAgICAgICAgdXNlci5zZXROb20ocmVzdWx0U2V0LmdldFN0cmluZyhcXFwibm9tXFxcIikpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0UHJlbm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInByZW5vbVxcXCIpKTtcXG4gICAgICAgICAgICB1c2VyLnNldEVtYWlsKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcImVtYWlsXFxcIikpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0QWRyZXNzZShyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJhZHJlc3NlXFxcIikpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0VGVsZXBob25lKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInRlbGVwaG9uZVxcXCIpKTtcXG4gICAgICAgICAgICB1c2VyLnNldFZlcmlmaWVkKHJlc3VsdFNldC5nZXRCb29sZWFuKFxcXCJpc192ZXJpZmllZFxcXCIpKTtcXG4gICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQocmVzdWx0U2V0LmdldFRpbWVzdGFtcChcXFwiY3JlYXRlZF9hdFxcXCIpKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHJldHVybiBudWxsO1xcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgdm9pZCBuYXZpZ2F0ZVRvSG9tZSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XFxuICAgICAgICAvLyBDaGFyZ2VyIGxhIHBhZ2UgZCdhY2N1ZWlsXFxuICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXFxcIi9meG1sL0hvbWUuZnhtbFxcXCIpKTtcXG4gICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY1xcdTAwZThuZVxcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGxvZ2luQnV0dG9uLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgIHN0YWdlLnNldFRpdGxlKFxcXCJBY2N1ZWlsXFxcIik7XFxuICAgICAgICBzdGFnZS5zaG93KCk7XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7XFxuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcXG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KG1lc3NhZ2UpO1xcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkNyw6lvbnMgbGUgZmljaGllciBMb2dpbkNvbnRyb2xsZXI6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJcclxuXHJcbiAgICBEaXJlY3Rvcnk6IEM6XFxVc2Vyc1xcM2xleWFcXElkZWFQcm9qZWN0c1xccGlfZGV2XFxzcmNcXG1haW5cXGphdmFcclxuXHJcblxyXG5Nb2RlICAgICAgICAgICAgICAgICBMYXN0V3JpdGVUaW1lICAgICAgICAgTGVuZ3RoIE5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4tLS0tICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgLS0tLS0tIC0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5kLS0tLS0gICAgICAgICAgNS82LzIwMjUgICAyOjI2IFBNICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuXHJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1DZVJUQ2tIRllMWVFnUTU0V1lVN0wifX1dLCJyZXNwb25zZV90ZXh0IjoiQ3LDqW9ucyBsZSBmaWNoaWVyIExvZ2luQ29udHJvbGxlcjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmYzJiNDI1Yy0yMjYzLTRhYjgtYTU1YS1lNGE0Njk1NWYzYTAiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFZYncyM2NDVlVyQWFIZnhTVWJoa2tCIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJWw6lyaWZpb25zIHF1ZSB0b3V0IGVzdCBlbiBvcmRyZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTJyak40WXVSeVRXQTZYdUFaUjdLUGkifX1dLCJyZXNwb25zZV90ZXh0IjoiVsOpcmlmaW9ucyBxdWUgdG91dCBlc3QgZW4gb3JkcmU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjllNThjYzEtZDA0Yi00NDVhLTllZmUtNTZlZmM5N2Y0OTRkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOHB6d25lREtXQnF4Z1pqUFVuaUhqWCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcbiAgICAgNFx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDVcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgICA3XHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxMFx0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMTFcdFxuICAgIDEyXHRwdWJsaWMgY2xhc3MgTWFpbiBleHRlbmRzIEFwcGxpY2F0aW9uIHtcbiAgICAxM1x0XG4gICAgMTRcdCAgICBAT3ZlcnJpZGVcbiAgICAxNVx0ICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkge1xuICAgIDE2XHQgICAgICAgIHRyeSB7XG4gICAgMTdcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRlIGxvZ2luXG4gICAgMThcdCAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL0xvZ2luLmZ4bWxcIikpO1xuICAgIDE5XHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgIDIyXHQgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAyM1x0ICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAyNFx0ICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFRpdGxlKFwiTG9naW5cIik7XG4gICAgMjVcdCAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zaG93KCk7XG4gICAgMjZcdFxuICAgIDI3XHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAyOFx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZSBsYSBwYWdlIGRlIGxvZ2luOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAyOVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAzMFx0ICAgICAgICB9XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgIDM0XHQgICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICAzNVx0ICAgIH1cbiAgICAzNlx0fVxuICAgIDM3XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM3XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFZYncyM2NDVlVyQWFIZnhTVWJoa2tCIn19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1ODg1ZDQ2MC1iOGVhLTQ5OGItOWUwZi0zYWMxMmRmOTVjMDQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSNDR2bkxQbUZFdUJuQ05iUlZVRmNuIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvTG9naW4uZnhtbDpcbiAgICAgMVx0PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gICAgIDJcdFxuICAgICAzXHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cbiAgICAgNFx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz5cbiAgICAgNVx0PD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+XG4gICAgIDZcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0LlRleHQ/PlxuICAgICA3XHRcbiAgICAgOFx0PEJvcmRlclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcIlxuICAgICA5XHQgICAgICAgICAgICB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcIlxuICAgIDEwXHQgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuTG9naW5Db250cm9sbGVyXCJcbiAgICAxMVx0ICAgICAgICAgICAgcHJlZkhlaWdodD1cIjQwMC4wXCIgcHJlZldpZHRoPVwiNjAwLjBcIj5cbiAgICAxMlx0ICAgIFxuICAgIDEzXHQgICAgPGNlbnRlcj5cbiAgICAxNFx0ICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XCJDRU5URVJcIiBzcGFjaW5nPVwiMjAuMFwiPlxuICAgIDE1XHQgICAgICAgICAgICA8cGFkZGluZz5cbiAgICAxNlx0ICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPVwiMjAuMFwiIHJpZ2h0PVwiMjAuMFwiIGJvdHRvbT1cIjIwLjBcIiBsZWZ0PVwiMjAuMFwiLz5cbiAgICAxN1x0ICAgICAgICAgICAgPC9wYWRkaW5nPlxuICAgIDE4XHQgICAgICAgICAgICBcbiAgICAxOVx0ICAgICAgICAgICAgPFRleHQgdGV4dD1cIkNvbm5leGlvblwiIHN0eWxlPVwiLWZ4LWZvbnQtc2l6ZTogMjRweDsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkO1wiLz5cbiAgICAyMFx0ICAgICAgICAgICAgXG4gICAgMjFcdCAgICAgICAgICAgIDxHcmlkUGFuZSBoZ2FwPVwiMTBcIiB2Z2FwPVwiMTBcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIj5cbiAgICAyMlx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiRW1haWw6XCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIwXCIvPlxuICAgIDIzXHQgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD1cImVtYWlsRmllbGRcIiBwcm9tcHRUZXh0PVwiRW50cmV6IHZvdHJlIGVtYWlsXCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIxXCIvPlxuICAgIDI0XHQgICAgICAgICAgICAgICAgXG4gICAgMjVcdCAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIk1vdCBkZSBwYXNzZTpcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjFcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIi8+XG4gICAgMjZcdCAgICAgICAgICAgICAgICA8UGFzc3dvcmRGaWVsZCBmeDppZD1cInBhc3N3b3JkRmllbGRcIiBwcm9tcHRUZXh0PVwiRW50cmV6IHZvdHJlIG1vdCBkZSBwYXNzZVwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMVwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiLz5cbiAgICAyN1x0ICAgICAgICAgICAgPC9HcmlkUGFuZT5cbiAgICAyOFx0ICAgICAgICAgICAgXG4gICAgMjlcdCAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9XCJsb2dpbkJ1dHRvblwiIHRleHQ9XCJTZSBjb25uZWN0ZXJcIiBvbkFjdGlvbj1cIiNoYW5kbGVMb2dpblwiLz5cbiAgICAzMFx0ICAgICAgICAgICAgXG4gICAgMzFcdCAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cIkNFTlRFUlwiIHNwYWNpbmc9XCIxMFwiPlxuICAgIDMyXHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJQYXMgZW5jb3JlIGluc2NyaXQ/XCIvPlxuICAgIDMzXHQgICAgICAgICAgICAgICAgPEh5cGVybGluayBmeDppZD1cInJlZ2lzdGVyTGlua1wiIHRleHQ9XCJTJ2luc2NyaXJlXCIgb25BY3Rpb249XCIjaGFuZGxlUmVnaXN0ZXJcIi8+XG4gICAgMzRcdCAgICAgICAgICAgIDwvSEJveD5cbiAgICAzNVx0ICAgICAgICA8L1ZCb3g+XG4gICAgMzZcdCAgICA8L2NlbnRlcj5cbiAgICAzN1x0ICAgIFxuICAgIDM4XHQ8L0JvcmRlclBhbmU+XG4gICAgMzlcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzlcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThwenduZURLV0JxeGdaalBVbmlIalgifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjU0NDYyM2VmLWJlM2QtNGI5NS1iYTMxLTkyOTY4ODhmZjFkMyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBhcmZhaXQgISBKJ2FpIGVmZmVjdHXDqSBsZXMgbW9kaWZpY2F0aW9ucyBzdWl2YW50ZXMgOlxuXG4xLiAqKlN1cHByZXNzaW9uIGR1IGNvbnRlbnUgZHUgTWFpbioqIDogSidhaSBzdXBwcmltw6kgdG91dCBsZSBjb250ZW51IGR1IGZpY2hpZXIgTWFpbi5qYXZhIGV0IGwnYWkgcmVtcGxhY8OpIHBhciB1bmUgY2xhc3NlIHF1aSDDqXRlbmQgQXBwbGljYXRpb24gYXZlYyB1bmUgbcOpdGhvZGUgc3RhcnQgcG91ciBjaGFyZ2VyIGxhIHBhZ2UgZGUgbG9naW4uXG5cbjIuICoqQ3LDqWF0aW9uIGRlIGxhIHN0cnVjdHVyZSBGWE1MKiogOiBKJ2FpIGNyw6nDqSB1biBkb3NzaWVyIGZ4bWwgZGFucyBsZXMgcmVzc291cmNlcyBldCB5IGFpIGFqb3V0w6kgdW4gZmljaGllciBMb2dpbi5meG1sIGF2ZWMgdW5lIGludGVyZmFjZSBkZSBjb25uZXhpb24gYmFzaXF1ZS5cblxuMy4gKipDcsOpYXRpb24gZHUgTG9naW5Db250cm9sbGVyKiogOiBKJ2FpIGNyw6nDqSB1biBjb250csO0bGV1ciBwb3VyIGfDqXJlciBsZXMgYWN0aW9ucyBkZSBsYSBwYWdlIGRlIGxvZ2luLCBhdmVjIGRlcyBtw6l0aG9kZXMgcG91ciBsYSBjb25uZXhpb24gZXQgbGEgbmF2aWdhdGlvbiB2ZXJzIGxhIHBhZ2UgZCdpbnNjcmlwdGlvbi5cblxuQ2VzIG1vZGlmaWNhdGlvbnMgdm91cyBwZXJtZXR0ZW50IGRlIHRyYXZhaWxsZXIgYXZlYyBGWE1MIHBvdXIgbCdpbnRlcmZhY2UgdXRpbGlzYXRldXIgZXQgZGUgZ8OpcmVyIGxhIGxvZ2lxdWUgZGUgY29ubmV4aW9uIGRhbnMgbGUgY29udHLDtGxldXIuIFZvdXMgcG91dmV6IG1haW50ZW5hbnQgY29udGludWVyIMOgIGTDqXZlbG9wcGVyIGwnaW50ZXJmYWNlIGV0IGxhIGxvZ2lxdWUgc2Vsb24gdm9zIGJlc29pbnMuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgY29udHJvbGxlcnM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xuICAgICA1XHRpbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxMVx0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAxMlx0aW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG4gICAgMTNcdFxuICAgIDE0XHRpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbiAgICAxNVx0aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG4gICAgMTZcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxN1x0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAxOFx0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxOVx0XG4gICAgMjBcdHB1YmxpYyBjbGFzcyBMb2dpbkNvbnRyb2xsZXIge1xuICAgIDIxXHRcbiAgICAyMlx0ICAgIEBGWE1MXG4gICAgMjNcdCAgICBwcml2YXRlIFRleHRGaWVsZCBlbWFpbEZpZWxkO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgIEBGWE1MXG4gICAgMjZcdCAgICBwcml2YXRlIFBhc3N3b3JkRmllbGQgcGFzc3dvcmRGaWVsZDtcbiAgICAyN1x0XG4gICAgMjhcdCAgICBARlhNTFxuICAgIDI5XHQgICAgcHJpdmF0ZSBCdXR0b24gbG9naW5CdXR0b247XG4gICAgMzBcdFxuICAgIDMxXHQgICAgQEZYTUxcbiAgICAzMlx0ICAgIHByaXZhdGUgSHlwZXJsaW5rIHJlZ2lzdGVyTGluaztcbiAgICAzM1x0XG4gICAgMzRcdCAgICBwcml2YXRlIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcbiAgICAzNVx0XG4gICAgMzZcdCAgICBwdWJsaWMgTG9naW5Db250cm9sbGVyKCkge1xuICAgIDM3XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxhIGNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMzhcdCAgICAgICAgY29ubmVjdGlvbiA9IE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMzlcdCAgICB9XG4gICAgNDBcdFxuICAgIDQxXHQgICAgQEZYTUxcbiAgICA0Mlx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ2luKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDNcdCAgICAgICAgU3RyaW5nIGVtYWlsID0gZW1haWxGaWVsZC5nZXRUZXh0KCk7XG4gICAgNDRcdCAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gcGFzc3dvcmRGaWVsZC5nZXRUZXh0KCk7XG4gICAgNDVcdFxuICAgIDQ2XHQgICAgICAgIC8vIFbDqXJpZmllciBxdWUgbGVzIGNoYW1wcyBuZSBzb250IHBhcyB2aWRlc1xuICAgIDQ3XHQgICAgICAgIGlmIChlbWFpbC5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpKSB7XG4gICAgNDhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIGNvbm5leGlvblwiLCBcIlZldWlsbGV6IHJlbXBsaXIgdG91cyBsZXMgY2hhbXBzLlwiKTtcbiAgICA0OVx0ICAgICAgICAgICAgcmV0dXJuO1xuICAgIDUwXHQgICAgICAgIH1cbiAgICA1MVx0XG4gICAgNTJcdCAgICAgICAgdHJ5IHtcbiAgICA1M1x0ICAgICAgICAgICAgLy8gVsOpcmlmaWVyIGxlcyBpZGVudGlmaWFudHMgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgNTRcdCAgICAgICAgICAgIFVzZXIgdXNlciA9IGF1dGhlbnRpY2F0ZVVzZXIoZW1haWwsIHBhc3N3b3JkKTtcbiAgICA1NVx0XG4gICAgNTZcdCAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICA1N1x0ICAgICAgICAgICAgICAgIC8vIENvbm5leGlvbiByw6l1c3NpZVxuICAgIDU4XHQgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICA1OVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiQ29ubmV4aW9uIHLDqXVzc2llXCIsIFwiQmllbnZlbnVlIFwiICsgdXNlci5nZXRQcmVub20oKSArIFwiIFwiICsgdXNlci5nZXROb20oKSArIFwiIVwiKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgIFxuICAgIDYxXHQgICAgICAgICAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkJ2FjY3VlaWxcbiAgICA2Mlx0ICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9Ib21lKCk7XG4gICAgNjNcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgNjRcdCAgICAgICAgICAgICAgICAvLyDDiWNoZWMgZGUgbGEgY29ubmV4aW9uXG4gICAgNjVcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBjb25uZXhpb25cIiwgXCJFbWFpbCBvdSBtb3QgZGUgcGFzc2UgaW5jb3JyZWN0LlwiKTtcbiAgICA2Nlx0ICAgICAgICAgICAgfVxuICAgIDY3XHQgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgNjhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIGJhc2UgZGUgZG9ubsOpZXNcIiwgZS5nZXRNZXNzYWdlKCkpO1xuICAgIDY5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDcwXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICA3MVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgbmF2aWdhdGlvblwiLCBcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGQnYWNjdWVpbC5cIik7XG4gICAgNzJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzNcdCAgICAgICAgfVxuICAgIDc0XHQgICAgfVxuICAgIDc1XHRcbiAgICA3Nlx0ICAgIEBGWE1MXG4gICAgNzdcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZWdpc3RlcihBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDc4XHQgICAgICAgIHRyeSB7XG4gICAgNzlcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uXG4gICAgODBcdCAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1JlZ2lzdGVyLmZ4bWxcIikpO1xuICAgIDgxXHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgODJcdCAgICAgICAgICAgIFxuICAgIDgzXHQgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgIDg0XHQgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcmVnaXN0ZXJMaW5rLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgODVcdCAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIDg2XHQgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgODdcdCAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSW5zY3JpcHRpb25cIik7XG4gICAgODhcdCAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICA4OVx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgOTBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uLlwiKTtcbiAgICA5MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA5Mlx0ICAgICAgICB9XG4gICAgOTNcdCAgICB9XG4gICAgOTRcdFxuICAgIDk1XHQgICAgcHJpdmF0ZSBVc2VyIGF1dGhlbnRpY2F0ZVVzZXIoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgIDk2XHQgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gPyBBTkQgcGFzc3dvcmQgPSA/XCI7XG4gICAgOTdcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KTtcbiAgICA5OFx0ICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcbiAgICA5OVx0ICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDIsIHBhc3N3b3JkKTsgLy8gTm90ZTogRGFucyB1bmUgYXBwbGljYXRpb24gcsOpZWxsZSwgaWwgZmF1ZHJhaXQgaGFjaGVyIGxlIG1vdCBkZSBwYXNzZVxuICAgMTAwXHRcbiAgIDEwMVx0ICAgICAgICBSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpO1xuICAgMTAyXHRcbiAgIDEwM1x0ICAgICAgICBpZiAocmVzdWx0U2V0Lm5leHQoKSkge1xuICAgMTA0XHQgICAgICAgICAgICAvLyBDcsOpZXIgdW4gb2JqZXQgVXNlciBhdmVjIGxlcyBkb25uw6llcyBkZSBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAxMDVcdCAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAxMDZcdCAgICAgICAgICAgIHVzZXIuc2V0SWQocmVzdWx0U2V0LmdldEludChcImlkXCIpKTtcbiAgIDEwN1x0ICAgICAgICAgICAgdXNlci5zZXROb20ocmVzdWx0U2V0LmdldFN0cmluZyhcIm5vbVwiKSk7XG4gICAxMDhcdCAgICAgICAgICAgIHVzZXIuc2V0UHJlbm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXCJwcmVub21cIikpO1xuICAgMTA5XHQgICAgICAgICAgICB1c2VyLnNldEVtYWlsKHJlc3VsdFNldC5nZXRTdHJpbmcoXCJlbWFpbFwiKSk7XG4gICAxMTBcdCAgICAgICAgICAgIHVzZXIuc2V0QWRyZXNzZShyZXN1bHRTZXQuZ2V0U3RyaW5nKFwiYWRyZXNzZVwiKSk7XG4gICAxMTFcdCAgICAgICAgICAgIHVzZXIuc2V0VGVsZXBob25lKHJlc3VsdFNldC5nZXRTdHJpbmcoXCJ0ZWxlcGhvbmVcIikpO1xuICAgMTEyXHQgICAgICAgICAgICB1c2VyLnNldFZlcmlmaWVkKHJlc3VsdFNldC5nZXRCb29sZWFuKFwiaXNfdmVyaWZpZWRcIikpO1xuICAgMTEzXHQgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQocmVzdWx0U2V0LmdldFRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikpO1xuICAgMTE0XHQgICAgICAgICAgICBcbiAgIDExNVx0ICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAxMTZcdCAgICAgICAgfVxuICAgMTE3XHRcbiAgIDExOFx0ICAgICAgICByZXR1cm4gbnVsbDtcbiAgIDExOVx0ICAgIH1cbiAgIDEyMFx0XG4gICAxMjFcdCAgICBwcml2YXRlIHZvaWQgbmF2aWdhdGVUb0hvbWUoKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTIyXHQgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2FjY3VlaWxcbiAgIDEyM1x0ICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Ib21lLmZ4bWxcIikpO1xuICAgMTI0XHQgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgIDEyNVx0ICAgICAgICBcbiAgIDEyNlx0ICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgMTI3XHQgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBsb2dpbkJ1dHRvbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMTI4XHQgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgMTI5XHQgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgIDEzMFx0ICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkFjY3VlaWxcIik7XG4gICAxMzFcdCAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgMTMyXHQgICAgfVxuICAgMTMzXHRcbiAgIDEzNFx0ICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgbWVzc2FnZSkge1xuICAgMTM1XHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAxMzZcdCAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgMTM3XHQgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAxMzhcdCAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobWVzc2FnZSk7XG4gICAxMzlcdCAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgIDE0MFx0ICAgIH1cbiAgIDE0MVx0fVxuICAgMTQyXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE0MlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUjQ0dm5MUG1GRXVCbkNOYlJWVUZjbiJ9fV0sInJlc3BvbnNlX3RleHQiOiJQYXJmYWl0ICEgSidhaSBlZmZlY3R1w6kgbGVzIG1vZGlmaWNhdGlvbnMgc3VpdmFudGVzIDpcblxuMS4gKipTdXBwcmVzc2lvbiBkdSBjb250ZW51IGR1IE1haW4qKiA6IEonYWkgc3VwcHJpbcOpIHRvdXQgbGUgY29udGVudSBkdSBmaWNoaWVyIE1haW4uamF2YSBldCBsJ2FpIHJlbXBsYWPDqSBwYXIgdW5lIGNsYXNzZSBxdWkgw6l0ZW5kIEFwcGxpY2F0aW9uIGF2ZWMgdW5lIG3DqXRob2RlIHN0YXJ0IHBvdXIgY2hhcmdlciBsYSBwYWdlIGRlIGxvZ2luLlxuXG4yLiAqKkNyw6lhdGlvbiBkZSBsYSBzdHJ1Y3R1cmUgRlhNTCoqIDogSidhaSBjcsOpw6kgdW4gZG9zc2llciBmeG1sIGRhbnMgbGVzIHJlc3NvdXJjZXMgZXQgeSBhaSBham91dMOpIHVuIGZpY2hpZXIgTG9naW4uZnhtbCBhdmVjIHVuZSBpbnRlcmZhY2UgZGUgY29ubmV4aW9uIGJhc2lxdWUuXG5cbjMuICoqQ3LDqWF0aW9uIGR1IExvZ2luQ29udHJvbGxlcioqIDogSidhaSBjcsOpw6kgdW4gY29udHLDtGxldXIgcG91ciBnw6lyZXIgbGVzIGFjdGlvbnMgZGUgbGEgcGFnZSBkZSBsb2dpbiwgYXZlYyBkZXMgbcOpdGhvZGVzIHBvdXIgbGEgY29ubmV4aW9uIGV0IGxhIG5hdmlnYXRpb24gdmVycyBsYSBwYWdlIGQnaW5zY3JpcHRpb24uXG5cbkNlcyBtb2RpZmljYXRpb25zIHZvdXMgcGVybWV0dGVudCBkZSB0cmF2YWlsbGVyIGF2ZWMgRlhNTCBwb3VyIGwnaW50ZXJmYWNlIHV0aWxpc2F0ZXVyIGV0IGRlIGfDqXJlciBsYSBsb2dpcXVlIGRlIGNvbm5leGlvbiBkYW5zIGxlIGNvbnRyw7RsZXVyLiBWb3VzIHBvdXZleiBtYWludGVuYW50IGNvbnRpbnVlciDDoCBkw6l2ZWxvcHBlciBsJ2ludGVyZmFjZSBldCBsYSBsb2dpcXVlIHNlbG9uIHZvcyBiZXNvaW5zLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdiOWVkOGY4LTY2Y2EtNDA3MC04ODVjLWE0N2U5Yjk5ZTk0MyIsInJlcXVlc3RfbWVzc2FnZSI6ImlsIG1hbnF1ZSBsZXMgZGVwZW5kYW5jZSBkZSBqYXZhIGZ4IDE3IFxucG91ciBsYSBjb25maWd1cmF0aW9uIGR1IGphdmFmeCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJpbCBtYW5xdWUgbGVzIGRlcGVuZGFuY2UgZGUgamF2YSBmeCAxNyAifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InBvdXIgbGEgY29uZmlndXJhdGlvbiBkdSBqYXZhZngifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNBVnVxZW1KcnBjNTRlNkU3Sno5Z3giLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwicG9tLnhtbFwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVm91cyBhdmV6IHJhaXNvbiwgaWwgZmF1dCBham91dGVyIGxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIDE3IGRhbnMgbGUgZmljaGllciBwb20ueG1sIHBvdXIgY29uZmlndXJlciBjb3JyZWN0ZW1lbnQgSmF2YUZYLiBWw6lyaWZpb25zIGQnYWJvcmQgbGUgY29udGVudSBhY3R1ZWwgZHUgZmljaGllciBwb20ueG1sIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInJlc3BvbnNlX3RleHQiOiJWb3VzIGF2ZXogcmFpc29uLCBpbCBmYXV0IGFqb3V0ZXIgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggMTcgZGFucyBsZSBmaWNoaWVyIHBvbS54bWwgcG91ciBjb25maWd1cmVyIGNvcnJlY3RlbWVudCBKYXZhRlguIFbDqXJpZmlvbnMgZCdhYm9yZCBsZSBjb250ZW51IGFjdHVlbCBkdSBmaWNoaWVyIHBvbS54bWwgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIwOTM3MmIyLTk2ODUtNDAyOS04MDVlLWM1YTc5ZmQ4MjRhZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZUV3JmelFtamRWZ2t6TURwNUNXdVQiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInBvbS54bWxcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG48cHJvamVjdCB4bWxucz1cXFwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wXFxcIlxcbiAgICAgICAgIHhtbG5zOnhzaT1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcXFwiXFxuICAgICAgICAgeHNpOnNjaGVtYUxvY2F0aW9uPVxcXCJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAgaHR0cDovL21hdmVuLmFwYWNoZS5vcmcveHNkL21hdmVuLTQuMC4wLnhzZFxcXCI+XFxuICAgIDxtb2RlbFZlcnNpb24+NC4wLjA8L21vZGVsVmVyc2lvbj5cXG5cXG4gICAgPGdyb3VwSWQ+b3JnLmV4YW1wbGU8L2dyb3VwSWQ+XFxuICAgIDxhcnRpZmFjdElkPldvcmtzaG9wSkRCQzNBNjM8L2FydGlmYWN0SWQ+XFxuICAgIDx2ZXJzaW9uPjEuMC1TTkFQU0hPVDwvdmVyc2lvbj5cXG5cXG4gICAgPHByb3BlcnRpZXM+XFxuICAgICAgICA8bWF2ZW4uY29tcGlsZXIuc291cmNlPjE3PC9tYXZlbi5jb21waWxlci5zb3VyY2U+XFxuICAgICAgICA8bWF2ZW4uY29tcGlsZXIudGFyZ2V0PjE3PC9tYXZlbi5jb21waWxlci50YXJnZXQ+XFxuICAgICAgICA8cHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5VVEYtODwvcHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5cXG4gICAgPC9wcm9wZXJ0aWVzPlxcbiAgICA8ZGVwZW5kZW5jaWVzPlxcbiAgICAgICAgPGRlcGVuZGVuY3k+XFxuICAgICAgICAgICAgPGdyb3VwSWQ+bXlzcWw8L2dyb3VwSWQ+XFxuICAgICAgICAgICAgPGFydGlmYWN0SWQ+bXlzcWwtY29ubmVjdG9yLWphdmE8L2FydGlmYWN0SWQ+XFxuICAgICAgICAgICAgPHZlcnNpb24+OC4wLjMzPC92ZXJzaW9uPlxcbiAgICAgICAgPC9kZXBlbmRlbmN5PlxcbiAgICA8L2RlcGVuZGVuY2llcz5cXG5cXG5cXG48L3Byb2plY3Q+XCIsIFwibmV3X3N0clwiOiBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuPHByb2plY3QgeG1sbnM9XFxcImh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMFxcXCJcXG4gICAgICAgICB4bWxuczp4c2k9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXFxcIlxcbiAgICAgICAgIHhzaTpzY2hlbWFMb2NhdGlvbj1cXFwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wIGh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL3hzZC9tYXZlbi00LjAuMC54c2RcXFwiPlxcbiAgICA8bW9kZWxWZXJzaW9uPjQuMC4wPC9tb2RlbFZlcnNpb24+XFxuXFxuICAgIDxncm91cElkPm9yZy5leGFtcGxlPC9ncm91cElkPlxcbiAgICA8YXJ0aWZhY3RJZD5Xb3Jrc2hvcEpEQkMzQTYzPC9hcnRpZmFjdElkPlxcbiAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+XFxuXFxuICAgIDxwcm9wZXJ0aWVzPlxcbiAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnNvdXJjZT4xNzwvbWF2ZW4uY29tcGlsZXIuc291cmNlPlxcbiAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4xNzwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0PlxcbiAgICAgICAgPHByb2plY3QuYnVpbGQuc291cmNlRW5jb2Rpbmc+VVRGLTg8L3Byb2plY3QuYnVpbGQuc291cmNlRW5jb2Rpbmc+XFxuICAgICAgICA8amF2YWZ4LnZlcnNpb24+MTcuMC42PC9qYXZhZngudmVyc2lvbj5cXG4gICAgPC9wcm9wZXJ0aWVzPlxcbiAgICBcXG4gICAgPGRlcGVuZGVuY2llcz5cXG4gICAgICAgIDwhLS0gTXlTUUwgQ29ubmVjdG9yIC0tPlxcbiAgICAgICAgPGRlcGVuZGVuY3k+XFxuICAgICAgICAgICAgPGdyb3VwSWQ+bXlzcWw8L2dyb3VwSWQ+XFxuICAgICAgICAgICAgPGFydGlmYWN0SWQ+bXlzcWwtY29ubmVjdG9yLWphdmE8L2FydGlmYWN0SWQ+XFxuICAgICAgICAgICAgPHZlcnNpb24+OC4wLjMzPC92ZXJzaW9uPlxcbiAgICAgICAgPC9kZXBlbmRlbmN5PlxcbiAgICAgICAgXFxuICAgICAgICA8IS0tIEphdmFGWCBEZXBlbmRlbmNpZXMgLS0+XFxuICAgICAgICA8ZGVwZW5kZW5jeT5cXG4gICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cXG4gICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtY29udHJvbHM8L2FydGlmYWN0SWQ+XFxuICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XFxuICAgICAgICA8L2RlcGVuZGVuY3k+XFxuICAgICAgICA8ZGVwZW5kZW5jeT5cXG4gICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cXG4gICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtZnhtbDwvYXJ0aWZhY3RJZD5cXG4gICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cXG4gICAgICAgIDwvZGVwZW5kZW5jeT5cXG4gICAgICAgIDxkZXBlbmRlbmN5PlxcbiAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxcbiAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1ncmFwaGljczwvYXJ0aWZhY3RJZD5cXG4gICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cXG4gICAgICAgIDwvZGVwZW5kZW5jeT5cXG4gICAgICAgIDxkZXBlbmRlbmN5PlxcbiAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxcbiAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tZWRpYTwvYXJ0aWZhY3RJZD5cXG4gICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cXG4gICAgICAgIDwvZGVwZW5kZW5jeT5cXG4gICAgICAgIDxkZXBlbmRlbmN5PlxcbiAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxcbiAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1zd2luZzwvYXJ0aWZhY3RJZD5cXG4gICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cXG4gICAgICAgIDwvZGVwZW5kZW5jeT5cXG4gICAgPC9kZXBlbmRlbmNpZXM+XFxuXFxuICAgIDxidWlsZD5cXG4gICAgICAgIDxwbHVnaW5zPlxcbiAgICAgICAgICAgIDxwbHVnaW4+XFxuICAgICAgICAgICAgICAgIDxncm91cElkPm9yZy5hcGFjaGUubWF2ZW4ucGx1Z2luczwvZ3JvdXBJZD5cXG4gICAgICAgICAgICAgICAgPGFydGlmYWN0SWQ+bWF2ZW4tY29tcGlsZXItcGx1Z2luPC9hcnRpZmFjdElkPlxcbiAgICAgICAgICAgICAgICA8dmVyc2lvbj4zLjExLjA8L3ZlcnNpb24+XFxuICAgICAgICAgICAgICAgIDxjb25maWd1cmF0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZT4xNzwvc291cmNlPlxcbiAgICAgICAgICAgICAgICAgICAgPHRhcmdldD4xNzwvdGFyZ2V0PlxcbiAgICAgICAgICAgICAgICA8L2NvbmZpZ3VyYXRpb24+XFxuICAgICAgICAgICAgPC9wbHVnaW4+XFxuICAgICAgICAgICAgPHBsdWdpbj5cXG4gICAgICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XFxuICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+XFxuICAgICAgICAgICAgICAgIDx2ZXJzaW9uPjAuMC44PC92ZXJzaW9uPlxcbiAgICAgICAgICAgICAgICA8ZXhlY3V0aW9ucz5cXG4gICAgICAgICAgICAgICAgICAgIDxleGVjdXRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIHJ1bm5pbmcgd2l0aDogbXZuIGNsZWFuIGphdmFmeDpydW4gLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlkPmRlZmF1bHQtY2xpPC9pZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29uZmlndXJhdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1haW5DbGFzcz50ZXN0cy5NYWluPC9tYWluQ2xhc3M+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYXVuY2hlcj5hcHA8L2xhdW5jaGVyPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8amxpbmtaaXBOYW1lPmFwcDwvamxpbmtaaXBOYW1lPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8amxpbmtJbWFnZU5hbWU+YXBwPC9qbGlua0ltYWdlTmFtZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5vTWFuUGFnZXM+dHJ1ZTwvbm9NYW5QYWdlcz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cmlwRGVidWc+dHJ1ZTwvc3RyaXBEZWJ1Zz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5vSGVhZGVyRmlsZXM+dHJ1ZTwvbm9IZWFkZXJGaWxlcz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2NvbmZpZ3VyYXRpb24+XFxuICAgICAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbj5cXG4gICAgICAgICAgICAgICAgPC9leGVjdXRpb25zPlxcbiAgICAgICAgICAgIDwvcGx1Z2luPlxcbiAgICAgICAgPC9wbHVnaW5zPlxcbiAgICA8L2J1aWxkPlxcbjwvcHJvamVjdD5cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjV9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGFqb3V0b25zIGxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIDE3IGF1IGZpY2hpZXIgcG9tLnhtbCA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHBvbS54bWw6XG4gICAgIDFcdDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuICAgICAyXHQ8cHJvamVjdCB4bWxucz1cImh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMFwiXG4gICAgIDNcdCAgICAgICAgIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbiAgICAgNFx0ICAgICAgICAgeHNpOnNjaGVtYUxvY2F0aW9uPVwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wIGh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL3hzZC9tYXZlbi00LjAuMC54c2RcIj5cbiAgICAgNVx0ICAgIDxtb2RlbFZlcnNpb24+NC4wLjA8L21vZGVsVmVyc2lvbj5cbiAgICAgNlx0XG4gICAgIDdcdCAgICA8Z3JvdXBJZD5vcmcuZXhhbXBsZTwvZ3JvdXBJZD5cbiAgICAgOFx0ICAgIDxhcnRpZmFjdElkPldvcmtzaG9wSkRCQzNBNjM8L2FydGlmYWN0SWQ+XG4gICAgIDlcdCAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+XG4gICAgMTBcdFxuICAgIDExXHQgICAgPHByb3BlcnRpZXM+XG4gICAgMTJcdCAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnNvdXJjZT4xNzwvbWF2ZW4uY29tcGlsZXIuc291cmNlPlxuICAgIDEzXHQgICAgICAgIDxtYXZlbi5jb21waWxlci50YXJnZXQ+MTc8L21hdmVuLmNvbXBpbGVyLnRhcmdldD5cbiAgICAxNFx0ICAgICAgICA8cHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5VVEYtODwvcHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5cbiAgICAxNVx0ICAgIDwvcHJvcGVydGllcz5cbiAgICAxNlx0ICAgIDxkZXBlbmRlbmNpZXM+XG4gICAgMTdcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMThcdCAgICAgICAgICAgIDxncm91cElkPm15c3FsPC9ncm91cElkPlxuICAgIDE5XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5teXNxbC1jb25uZWN0b3ItamF2YTwvYXJ0aWZhY3RJZD5cbiAgICAyMFx0ICAgICAgICAgICAgPHZlcnNpb24+OC4wLjMzPC92ZXJzaW9uPlxuICAgIDIxXHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICAyMlx0ICAgIDwvZGVwZW5kZW5jaWVzPlxuICAgIDIzXHRcbiAgICAyNFx0XG4gICAgMjVcdDwvcHJvamVjdD5cblRvdGFsIGxpbmVzIGluIGZpbGU6IDI1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFTQVZ1cWVtSnJwYzU0ZTZFN0p6OWd4In19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIGFqb3V0b25zIGxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIDE3IGF1IGZpY2hpZXIgcG9tLnhtbCA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNDE0MGI4ODQtZDljYy00YjU4LTkxNTItZTY5MGQ2YzFlZDIyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUlJQUW1UZGU5dHBjRkZwRzNUWlRzSCIsInRvb2xfbmFtZSI6InNoZWxsIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJUZXN0LVBhdGggLVBhdGggXFxcInNyYy9tYWluL2phdmEvbW9kdWxlLWluZm8uamF2YVxcXCJcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGFzc3Vyb25zLW5vdXMgcXVlIGxlIG1vZHVsZS1pbmZvLmphdmEgZXN0IGNvcnJlY3RlbWVudCBjb25maWd1csOpIHBvdXIgSmF2YUZYLiBWw6lyaWZpb25zIHMnaWwgZXhpc3RlIGTDqWrDoCA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHBvbS54bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gICAgIDJcdDxwcm9qZWN0IHhtbG5zPVwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wXCJcbiAgICAgM1x0ICAgICAgICAgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIlxuICAgICA0XHQgICAgICAgICB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAgaHR0cDovL21hdmVuLmFwYWNoZS5vcmcveHNkL21hdmVuLTQuMC4wLnhzZFwiPlxuICAgICA1XHQgICAgPG1vZGVsVmVyc2lvbj40LjAuMDwvbW9kZWxWZXJzaW9uPlxuICAgICA2XHRcbiAgICAgN1x0ICAgIDxncm91cElkPm9yZy5leGFtcGxlPC9ncm91cElkPlxuICAgICA4XHQgICAgPGFydGlmYWN0SWQ+V29ya3Nob3BKREJDM0E2MzwvYXJ0aWZhY3RJZD5cbiAgICAgOVx0ICAgIDx2ZXJzaW9uPjEuMC1TTkFQU0hPVDwvdmVyc2lvbj5cbiAgICAxMFx0XG4gICAgMTFcdCAgICA8cHJvcGVydGllcz5cbiAgICAxMlx0ICAgICAgICA8bWF2ZW4uY29tcGlsZXIuc291cmNlPjE3PC9tYXZlbi5jb21waWxlci5zb3VyY2U+XG4gICAgMTNcdCAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4xNzwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0PlxuICAgIDE0XHQgICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDE1XHQgICAgICAgIDxqYXZhZngudmVyc2lvbj4xNy4wLjY8L2phdmFmeC52ZXJzaW9uPlxuICAgIDE2XHQgICAgPC9wcm9wZXJ0aWVzPlxuICAgIDE3XHRcbiAgICAxOFx0ICAgIDxkZXBlbmRlbmNpZXM+XG4gICAgMTlcdCAgICAgICAgPCEtLSBNeVNRTCBDb25uZWN0b3IgLS0+XG4gICAgMjBcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMjFcdCAgICAgICAgICAgIDxncm91cElkPm15c3FsPC9ncm91cElkPlxuICAgIDIyXHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5teXNxbC1jb25uZWN0b3ItamF2YTwvYXJ0aWZhY3RJZD5cbiAgICAyM1x0ICAgICAgICAgICAgPHZlcnNpb24+OC4wLjMzPC92ZXJzaW9uPlxuICAgIDI0XHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICAyNVx0XG4gICAgMjZcdCAgICAgICAgPCEtLSBKYXZhRlggRGVwZW5kZW5jaWVzIC0tPlxuICAgIDI3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDI4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICAyOVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWNvbnRyb2xzPC9hcnRpZmFjdElkPlxuICAgIDMwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICAzMVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgMzJcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMzNcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDM0XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtZnhtbDwvYXJ0aWZhY3RJZD5cbiAgICAzNVx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgMzZcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDM3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDM4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICAzOVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWdyYXBoaWNzPC9hcnRpZmFjdElkPlxuICAgIDQwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICA0MVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgNDJcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgNDNcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDQ0XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtbWVkaWE8L2FydGlmYWN0SWQ+XG4gICAgNDVcdCAgICAgICAgICAgIDx2ZXJzaW9uPiR7amF2YWZ4LnZlcnNpb259PC92ZXJzaW9uPlxuICAgIDQ2XHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICA0N1x0ICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICA0OFx0ICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgNDlcdCAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1zd2luZzwvYXJ0aWZhY3RJZD5cbiAgICA1MFx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgNTFcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDUyXHQgICAgPC9kZXBlbmRlbmNpZXM+XG4gICAgNTNcdFxuICAgIDU0XHQgICAgPGJ1aWxkPlxuICAgIDU1XHQgICAgICAgIDxwbHVnaW5zPlxuICAgIDU2XHQgICAgICAgICAgICA8cGx1Z2luPlxuICAgIDU3XHQgICAgICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5tYXZlbi5wbHVnaW5zPC9ncm91cElkPlxuICAgIDU4XHQgICAgICAgICAgICAgICAgPGFydGlmYWN0SWQ+bWF2ZW4tY29tcGlsZXItcGx1Z2luPC9hcnRpZmFjdElkPlxuICAgIDU5XHQgICAgICAgICAgICAgICAgPHZlcnNpb24+My4xMS4wPC92ZXJzaW9uPlxuICAgIDYwXHQgICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+XG4gICAgNjFcdCAgICAgICAgICAgICAgICAgICAgPHNvdXJjZT4xNzwvc291cmNlPlxuICAgIDYyXHQgICAgICAgICAgICAgICAgICAgIDx0YXJnZXQ+MTc8L3RhcmdldD5cbiAgICA2M1x0ICAgICAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj5cbiAgICA2NFx0ICAgICAgICAgICAgPC9wbHVnaW4+XG4gICAgNjVcdCAgICAgICAgICAgIDxwbHVnaW4+XG4gICAgNjZcdCAgICAgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICA2N1x0ICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+XG4gICAgNjhcdCAgICAgICAgICAgICAgICA8dmVyc2lvbj4wLjAuODwvdmVyc2lvbj5cbiAgICA2OVx0ICAgICAgICAgICAgICAgIDxleGVjdXRpb25zPlxuICAgIDcwXHQgICAgICAgICAgICAgICAgICAgIDxleGVjdXRpb24+XG4gICAgNzFcdCAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBydW5uaW5nIHdpdGg6IG12biBjbGVhbiBqYXZhZng6cnVuIC0tPlxuICAgIDcyXHQgICAgICAgICAgICAgICAgICAgICAgICA8aWQ+ZGVmYXVsdC1jbGk8L2lkPlxuICAgIDczXHQgICAgICAgICAgICAgICAgICAgICAgICA8Y29uZmlndXJhdGlvbj5cbiAgICA3NFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtYWluQ2xhc3M+dGVzdHMuTWFpbjwvbWFpbkNsYXNzPlxuICAgIDc1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhdW5jaGVyPmFwcDwvbGF1bmNoZXI+XG4gICAgNzZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8amxpbmtaaXBOYW1lPmFwcDwvamxpbmtaaXBOYW1lPlxuICAgIDc3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGpsaW5rSW1hZ2VOYW1lPmFwcDwvamxpbmtJbWFnZU5hbWU+XG4gICAgNzhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bm9NYW5QYWdlcz50cnVlPC9ub01hblBhZ2VzPlxuICAgIDc5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cmlwRGVidWc+dHJ1ZTwvc3RyaXBEZWJ1Zz5cbiAgICA4MFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxub0hlYWRlckZpbGVzPnRydWU8L25vSGVhZGVyRmlsZXM+XG4gICAgODFcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj5cbiAgICA4Mlx0ICAgICAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbj5cbiAgICA4M1x0ICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9ucz5cbiAgICA4NFx0ICAgICAgICAgICAgPC9wbHVnaW4+XG4gICAgODVcdCAgICAgICAgPC9wbHVnaW5zPlxuICAgIDg2XHQgICAgPC9idWlsZD5cbiAgICA4N1x0PC9wcm9qZWN0PlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWVFdyZnpRbWpkVmdrek1EcDVDV3VUIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIGFzc3Vyb25zLW5vdXMgcXVlIGxlIG1vZHVsZS1pbmZvLmphdmEgZXN0IGNvcnJlY3RlbWVudCBjb25maWd1csOpIHBvdXIgSmF2YUZYLiBWw6lyaWZpb25zIHMnaWwgZXhpc3RlIGTDqWrDoCA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiODY1NzdhNDUtMWExOC00MzQ1LWE1ZWMtZWU0YjA2YWM3N2RkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQTluWWFZNU1nQ2RqMlB0UnNIUWJ1eiIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9qYXZhL21vZHVsZS1pbmZvLmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJtb2R1bGUgb3JnLmV4YW1wbGUud29ya3Nob3BqZGJjIHtcXG4gICAgcmVxdWlyZXMgamF2YWZ4LmNvbnRyb2xzO1xcbiAgICByZXF1aXJlcyBqYXZhZnguZnhtbDtcXG4gICAgcmVxdWlyZXMgamF2YWZ4LmdyYXBoaWNzO1xcbiAgICByZXF1aXJlcyBqYXZhZngubWVkaWE7XFxuICAgIHJlcXVpcmVzIGphdmFmeC5zd2luZztcXG4gICAgcmVxdWlyZXMgamF2YS5zcWw7XFxuICAgIFxcbiAgICBvcGVucyB0ZXN0cyB0byBqYXZhZnguZnhtbDtcXG4gICAgb3BlbnMgY29udHJvbGxlcnMgdG8gamF2YWZ4LmZ4bWw7XFxuICAgIG9wZW5zIGVudGl0aWVzIHRvIGphdmFmeC5iYXNlO1xcbiAgICBcXG4gICAgZXhwb3J0cyB0ZXN0cztcXG4gICAgZXhwb3J0cyBjb250cm9sbGVycztcXG4gICAgZXhwb3J0cyBlbnRpdGllcztcXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJDcsOpb25zIGxlIGZpY2hpZXIgbW9kdWxlLWluZm8uamF2YSA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGYWxzZVxyXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSUlBRbVRkZTl0cGNGRnBHM1RaVHNIIn19XSwicmVzcG9uc2VfdGV4dCI6IkNyw6lvbnMgbGUgZmljaGllciBtb2R1bGUtaW5mby5qYXZhIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2OTg5MmFlOC05Y2U2LTRhZjQtOGZkYi01NmI1ZWEwZGYzMWQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFTbUFLZmVCSzRIQXlKRGsya1VDS3ZSIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICAgICAgICAvLyBDaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTCBkZSBsb2dpblxcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcXFwiL2Z4bWwvTG9naW4uZnhtbFxcXCIpKTtcIiwgXCJuZXdfc3RyXCI6IFwiICAgICAgICAgICAgLy8gQ2hhcmdlciBsZSBmaWNoaWVyIEZYTUwgZGUgbG9naW5cXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXFxcIi9meG1sL0xvZ2luLmZ4bWxcXFwiKSk7XFxuICAgICAgICAgICAgLy8gU2kgbGUgY2hhcmdlbWVudCBcXHUwMGU5Y2hvdWUsIGVzc2F5ZXogYXZlYyB1biBjaGVtaW4gYWx0ZXJuYXRpZlxcbiAgICAgICAgICAgIGlmIChsb2FkZXIuZ2V0TG9jYXRpb24oKSA9PSBudWxsKSB7XFxuICAgICAgICAgICAgICAgIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIikudG9VUkkoKS50b1VSTCgpKTtcXG4gICAgICAgICAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxOH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgdsOpcmlmaW9ucyBzaSBub3VzIGRldm9ucyBhanVzdGVyIGxlIGNoZW1pbiBkdSBmaWNoaWVyIEZYTUwgZGFucyBsYSBjbGFzc2UgTWFpbiA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBOW5ZYVk1TWdDZGoyUHRSc0hRYnV6In19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIHbDqXJpZmlvbnMgc2kgbm91cyBkZXZvbnMgYWp1c3RlciBsZSBjaGVtaW4gZHUgZmljaGllciBGWE1MIGRhbnMgbGEgY2xhc3NlIE1haW4gOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjY5YmExNWQ4LTVjMjAtNDRjZS1hOWI4LTNmZGJiOThiZDAwZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBhcmZhaXQgISBKJ2FpIGVmZmVjdHXDqSBsZXMgbW9kaWZpY2F0aW9ucyBzdWl2YW50ZXMgcG91ciBjb25maWd1cmVyIGNvcnJlY3RlbWVudCBKYXZhRlggMTcgZGFucyB2b3RyZSBwcm9qZXQgOlxuXG4xLiAqKkFqb3V0IGRlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIDE3IGRhbnMgbGUgcG9tLnhtbCoqIDpcbiAgIC0gSidhaSBham91dMOpIGxlcyBkw6lwZW5kYW5jZXMgcG91ciBqYXZhZngtY29udHJvbHMsIGphdmFmeC1meG1sLCBqYXZhZngtZ3JhcGhpY3MsIGphdmFmeC1tZWRpYSBldCBqYXZhZngtc3dpbmcuXG4gICAtIEonYWkgZMOpZmluaSB1bmUgcHJvcHJpw6l0w6kgYGphdmFmeC52ZXJzaW9uYCBwb3VyIGZhY2lsaXRlciBsYSBnZXN0aW9uIGRlcyB2ZXJzaW9ucy5cbiAgIC0gSidhaSBham91dMOpIGxlIHBsdWdpbiBqYXZhZngtbWF2ZW4tcGx1Z2luIHBvdXIgcGVybWV0dHJlIGwnZXjDqWN1dGlvbiBkZSBsJ2FwcGxpY2F0aW9uIGF2ZWMgTWF2ZW4uXG4gICAtIEonYWkgY29uZmlndXLDqSBsZSBwbHVnaW4gbWF2ZW4tY29tcGlsZXItcGx1Z2luIHBvdXIgdXRpbGlzZXIgSmF2YSAxNy5cblxuMi4gKipDcsOpYXRpb24gZHUgZmljaGllciBtb2R1bGUtaW5mby5qYXZhKiogOlxuICAgLSBKJ2FpIGNyw6nDqSB1biBmaWNoaWVyIG1vZHVsZS1pbmZvLmphdmEgcG91ciBkw6lmaW5pciBsZXMgZMOpcGVuZGFuY2VzIGR1IG1vZHVsZSBldCBsZXMgZXhwb3J0cyBuw6ljZXNzYWlyZXMuXG4gICAtIEonYWkgY29uZmlndXLDqSBsZXMgb3V2ZXJ0dXJlcyAob3BlbnMpIHBvdXIgcGVybWV0dHJlIMOgIEphdmFGWCBkJ2FjY8OpZGVyIGF1eCBwYWNrYWdlcyB0ZXN0cywgY29udHJvbGxlcnMgZXQgZW50aXRpZXMuXG4gICAtIEonYWkgY29uZmlndXLDqSBsZXMgZXhwb3J0cyBwb3VyIHJlbmRyZSBjZXMgcGFja2FnZXMgYWNjZXNzaWJsZXMgw6AgZCdhdXRyZXMgbW9kdWxlcy5cblxuMy4gKipBanVzdGVtZW50IGR1IGNoYXJnZW1lbnQgRlhNTCBkYW5zIE1haW4uamF2YSoqIDpcbiAgIC0gSidhaSBham91dMOpIHVuZSBsb2dpcXVlIGRlIGZhbGxiYWNrIHBvdXIgbGUgY2hhcmdlbWVudCBkdSBmaWNoaWVyIEZYTUwsIGF1IGNhcyBvw7kgbGUgY2hlbWluIGNsYXNzaXF1ZSBuZSBmb25jdGlvbm5lcmFpdCBwYXMuXG5cbkNlcyBtb2RpZmljYXRpb25zIGRldnJhaWVudCBwZXJtZXR0cmUgw6Agdm90cmUgYXBwbGljYXRpb24gSmF2YUZYIGRlIGZvbmN0aW9ubmVyIGNvcnJlY3RlbWVudC4gVm91cyBwb3V2ZXogbWFpbnRlbmFudCBleMOpY3V0ZXIgbCdhcHBsaWNhdGlvbiBhdmVjIGxhIGNvbW1hbmRlIE1hdmVuIHN1aXZhbnRlIDpcblxuYGBgXG5tdm4gY2xlYW4gamF2YWZ4OnJ1blxuYGBgXG5cbk91IGRpcmVjdGVtZW50IGRlcHVpcyB2b3RyZSBJREUgZW4gZXjDqWN1dGFudCBsYSBjbGFzc2UgTWFpbi5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAxM1x0XG4gICAgMTRcdCAgICBAT3ZlcnJpZGVcbiAgICAxNVx0ICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkge1xuICAgIDE2XHQgICAgICAgIHRyeSB7XG4gICAgMTdcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRlIGxvZ2luXG4gICAgMThcdCAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL0xvZ2luLmZ4bWxcIikpO1xuICAgIDE5XHQgICAgICAgICAgICAvLyBTaSBsZSBjaGFyZ2VtZW50IMOpY2hvdWUsIGVzc2F5ZXogYXZlYyB1biBjaGVtaW4gYWx0ZXJuYXRpZlxuICAgIDIwXHQgICAgICAgICAgICBpZiAobG9hZGVyLmdldExvY2F0aW9uKCkgPT0gbnVsbCkge1xuICAgIDIxXHQgICAgICAgICAgICAgICAgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIobmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXCIpLnRvVVJJKCkudG9VUkwoKSk7XG4gICAgMjJcdCAgICAgICAgICAgIH1cbiAgICAyM1x0ICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgICAyNlx0ICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNtQUtmZUJLNEhBeUpEazJrVUNLdlIifX1dLCJyZXNwb25zZV90ZXh0IjoiUGFyZmFpdCAhIEonYWkgZWZmZWN0dcOpIGxlcyBtb2RpZmljYXRpb25zIHN1aXZhbnRlcyBwb3VyIGNvbmZpZ3VyZXIgY29ycmVjdGVtZW50IEphdmFGWCAxNyBkYW5zIHZvdHJlIHByb2pldCA6XG5cbjEuICoqQWpvdXQgZGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggMTcgZGFucyBsZSBwb20ueG1sKiogOlxuICAgLSBKJ2FpIGFqb3V0w6kgbGVzIGTDqXBlbmRhbmNlcyBwb3VyIGphdmFmeC1jb250cm9scywgamF2YWZ4LWZ4bWwsIGphdmFmeC1ncmFwaGljcywgamF2YWZ4LW1lZGlhIGV0IGphdmFmeC1zd2luZy5cbiAgIC0gSidhaSBkw6lmaW5pIHVuZSBwcm9wcmnDqXTDqSBgamF2YWZ4LnZlcnNpb25gIHBvdXIgZmFjaWxpdGVyIGxhIGdlc3Rpb24gZGVzIHZlcnNpb25zLlxuICAgLSBKJ2FpIGFqb3V0w6kgbGUgcGx1Z2luIGphdmFmeC1tYXZlbi1wbHVnaW4gcG91ciBwZXJtZXR0cmUgbCdleMOpY3V0aW9uIGRlIGwnYXBwbGljYXRpb24gYXZlYyBNYXZlbi5cbiAgIC0gSidhaSBjb25maWd1csOpIGxlIHBsdWdpbiBtYXZlbi1jb21waWxlci1wbHVnaW4gcG91ciB1dGlsaXNlciBKYXZhIDE3LlxuXG4yLiAqKkNyw6lhdGlvbiBkdSBmaWNoaWVyIG1vZHVsZS1pbmZvLmphdmEqKiA6XG4gICAtIEonYWkgY3LDqcOpIHVuIGZpY2hpZXIgbW9kdWxlLWluZm8uamF2YSBwb3VyIGTDqWZpbmlyIGxlcyBkw6lwZW5kYW5jZXMgZHUgbW9kdWxlIGV0IGxlcyBleHBvcnRzIG7DqWNlc3NhaXJlcy5cbiAgIC0gSidhaSBjb25maWd1csOpIGxlcyBvdXZlcnR1cmVzIChvcGVucykgcG91ciBwZXJtZXR0cmUgw6AgSmF2YUZYIGQnYWNjw6lkZXIgYXV4IHBhY2thZ2VzIHRlc3RzLCBjb250cm9sbGVycyBldCBlbnRpdGllcy5cbiAgIC0gSidhaSBjb25maWd1csOpIGxlcyBleHBvcnRzIHBvdXIgcmVuZHJlIGNlcyBwYWNrYWdlcyBhY2Nlc3NpYmxlcyDDoCBkJ2F1dHJlcyBtb2R1bGVzLlxuXG4zLiAqKkFqdXN0ZW1lbnQgZHUgY2hhcmdlbWVudCBGWE1MIGRhbnMgTWFpbi5qYXZhKiogOlxuICAgLSBKJ2FpIGFqb3V0w6kgdW5lIGxvZ2lxdWUgZGUgZmFsbGJhY2sgcG91ciBsZSBjaGFyZ2VtZW50IGR1IGZpY2hpZXIgRlhNTCwgYXUgY2FzIG/DuSBsZSBjaGVtaW4gY2xhc3NpcXVlIG5lIGZvbmN0aW9ubmVyYWl0IHBhcy5cblxuQ2VzIG1vZGlmaWNhdGlvbnMgZGV2cmFpZW50IHBlcm1ldHRyZSDDoCB2b3RyZSBhcHBsaWNhdGlvbiBKYXZhRlggZGUgZm9uY3Rpb25uZXIgY29ycmVjdGVtZW50LiBWb3VzIHBvdXZleiBtYWludGVuYW50IGV4w6ljdXRlciBsJ2FwcGxpY2F0aW9uIGF2ZWMgbGEgY29tbWFuZGUgTWF2ZW4gc3VpdmFudGUgOlxuXG5gYGBcbm12biBjbGVhbiBqYXZhZng6cnVuXG5gYGBcblxuT3UgZGlyZWN0ZW1lbnQgZGVwdWlzIHZvdHJlIElERSBlbiBleMOpY3V0YW50IGxhIGNsYXNzZSBNYWluLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjYxZDI2OTlhLTNmMjAtNDVmOS04NzAyLTVjNmQ1YmQzOTZiNyIsInJlcXVlc3RfbWVzc2FnZSI6IkNhbm5vdCByZXNvbHZlIHN5bWJvbCAnamF2YWZ4JyIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJDYW5ub3QgcmVzb2x2ZSBzeW1ib2wgJ2phdmFmeCcifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURDRVVTYVZBZWoxQzFpc2FTOWV1MkYiLCJ0b29sX25hbWUiOiJzaGVsbCIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwibXZuIGRlcGVuZGVuY3k6cmVzb2x2ZVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQ2V0dGUgZXJyZXVyIGluZGlxdWUgcXVlIHZvdHJlIElERSBuZSB0cm91dmUgcGFzIGxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYLiBQbHVzaWV1cnMgc29sdXRpb25zIHNvbnQgcG9zc2libGVzIHBvdXIgcsOpc291ZHJlIGNlIHByb2Jsw6htZSA6XG5cbjEuICoqUmVjaGFyZ2VyIGxlIHByb2pldCBNYXZlbioqIGRhbnMgdm90cmUgSURFIHBvdXIgcXUnaWwgcmVjb25uYWlzc2UgbGVzIG5vdXZlbGxlcyBkw6lwZW5kYW5jZXMuXG4yLiAqKlbDqXJpZmllciBxdWUgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggb250IGJpZW4gw6l0w6kgdMOpbMOpY2hhcmfDqWVzKiogZGFucyB2b3RyZSBkw6lww7R0IE1hdmVuIGxvY2FsLlxuMy4gKipBam91dGVyIGV4cGxpY2l0ZW1lbnQgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggYXUgY2xhc3NwYXRoKiogZGUgdm90cmUgcHJvamV0LlxuXG5Db21tZW7Dp29ucyBwYXIgdsOpcmlmaWVyIHNpIGxlcyBkw6lwZW5kYW5jZXMgTWF2ZW4gb250IMOpdMOpIGNvcnJlY3RlbWVudCB0w6lsw6ljaGFyZ8OpZXMgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IkNldHRlIGVycmV1ciBpbmRpcXVlIHF1ZSB2b3RyZSBJREUgbmUgdHJvdXZlIHBhcyBsZXMgZMOpcGVuZGFuY2VzIEphdmFGWC4gUGx1c2lldXJzIHNvbHV0aW9ucyBzb250IHBvc3NpYmxlcyBwb3VyIHLDqXNvdWRyZSBjZSBwcm9ibMOobWUgOlxuXG4xLiAqKlJlY2hhcmdlciBsZSBwcm9qZXQgTWF2ZW4qKiBkYW5zIHZvdHJlIElERSBwb3VyIHF1J2lsIHJlY29ubmFpc3NlIGxlcyBub3V2ZWxsZXMgZMOpcGVuZGFuY2VzLlxuMi4gKipWw6lyaWZpZXIgcXVlIGxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIG9udCBiaWVuIMOpdMOpIHTDqWzDqWNoYXJnw6llcyoqIGRhbnMgdm90cmUgZMOpcMO0dCBNYXZlbiBsb2NhbC5cbjMuICoqQWpvdXRlciBleHBsaWNpdGVtZW50IGxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIGF1IGNsYXNzcGF0aCoqIGRlIHZvdHJlIHByb2pldC5cblxuQ29tbWVuw6dvbnMgcGFyIHbDqXJpZmllciBzaSBsZXMgZMOpcGVuZGFuY2VzIE1hdmVuIG9udCDDqXTDqSBjb3JyZWN0ZW1lbnQgdMOpbMOpY2hhcmfDqWVzIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlMjk2NDE4ZC1jNWIzLTQ2NjMtODE3OC04MGZiMWZkYjAyNzkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExRVdjU2ZWOG9rQ0RXUVNMNE1RZWdrIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL21vZHVsZS1pbmZvLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwibW9kdWxlIG9yZy5leGFtcGxlLndvcmtzaG9wamRiYyB7XFxuICAgIHJlcXVpcmVzIGphdmFmeC5jb250cm9scztcXG4gICAgcmVxdWlyZXMgamF2YWZ4LmZ4bWw7XFxuICAgIHJlcXVpcmVzIGphdmFmeC5ncmFwaGljcztcXG4gICAgcmVxdWlyZXMgamF2YWZ4Lm1lZGlhO1xcbiAgICByZXF1aXJlcyBqYXZhZnguc3dpbmc7XFxuICAgIHJlcXVpcmVzIGphdmEuc3FsO1xcbiAgICBcXG4gICAgb3BlbnMgdGVzdHMgdG8gamF2YWZ4LmZ4bWw7XFxuICAgIG9wZW5zIGNvbnRyb2xsZXJzIHRvIGphdmFmeC5meG1sO1xcbiAgICBvcGVucyBlbnRpdGllcyB0byBqYXZhZnguYmFzZTtcXG4gICAgXFxuICAgIGV4cG9ydHMgdGVzdHM7XFxuICAgIGV4cG9ydHMgY29udHJvbGxlcnM7XFxuICAgIGV4cG9ydHMgZW50aXRpZXM7XFxufVwiLCBcIm5ld19zdHJcIjogXCJtb2R1bGUgb3JnLmV4YW1wbGUud29ya3Nob3BqZGJjIHtcXG4gICAgcmVxdWlyZXMgamF2YWZ4LmNvbnRyb2xzO1xcbiAgICByZXF1aXJlcyBqYXZhZnguZnhtbDtcXG4gICAgcmVxdWlyZXMgamF2YWZ4LmdyYXBoaWNzO1xcbiAgICByZXF1aXJlcyBqYXZhZngubWVkaWE7XFxuICAgIHJlcXVpcmVzIGphdmFmeC5zd2luZztcXG4gICAgcmVxdWlyZXMgamF2YWZ4LmJhc2U7XFxuICAgIHJlcXVpcmVzIGphdmEuc3FsO1xcbiAgICBcXG4gICAgb3BlbnMgdGVzdHMgdG8gamF2YWZ4LmZ4bWwsIGphdmFmeC5ncmFwaGljcywgamF2YWZ4LmJhc2U7XFxuICAgIG9wZW5zIGNvbnRyb2xsZXJzIHRvIGphdmFmeC5meG1sLCBqYXZhZnguZ3JhcGhpY3MsIGphdmFmeC5iYXNlO1xcbiAgICBvcGVucyBlbnRpdGllcyB0byBqYXZhZnguYmFzZSwgamF2YWZ4LmZ4bWw7XFxuICAgIFxcbiAgICBleHBvcnRzIHRlc3RzO1xcbiAgICBleHBvcnRzIGNvbnRyb2xsZXJzO1xcbiAgICBleHBvcnRzIGVudGl0aWVzO1xcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTR9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxlcyBkw6lwZW5kYW5jZXMgSmF2YUZYIHNlbWJsZW50IGF2b2lyIMOpdMOpIGNvcnJlY3RlbWVudCB0w6lsw6ljaGFyZ8OpZXMuIE1haW50ZW5hbnQsIGVzc2F5b25zIGRlIHJlY2hhcmdlciBsZSBwcm9qZXQgTWF2ZW4gZGFucyB2b3RyZSBJREUuIENvbW1lIG5vdXMgbmUgcG91dm9ucyBwYXMgbGUgZmFpcmUgZGlyZWN0ZW1lbnQgdmlhIGNldHRlIGludGVyZmFjZSwgamUgdmFpcyB2b3VzIGRvbm5lciBsZXMgw6l0YXBlcyDDoCBzdWl2cmUgZGFucyB2b3RyZSBJREUgKEludGVsbGlKIElERUEgb3UgRWNsaXBzZSkgOlxuXG4jIyMgUG91ciBJbnRlbGxpSiBJREVBIDpcbjEuIENsaXF1ZXogc3VyIGwnaWPDtG5lIE1hdmVuIGRhbnMgbGEgYmFycmUgbGF0w6lyYWxlIGRyb2l0ZVxuMi4gQ2xpcXVleiBzdXIgbCdpY8O0bmUgXCJSZWxvYWQgQWxsIE1hdmVuIFByb2plY3RzXCIgKGljw7RuZSBkZSByYWZyYcOuY2hpc3NlbWVudClcbjMuIEF0dGVuZGV6IHF1ZSBsZSByZWNoYXJnZW1lbnQgc29pdCB0ZXJtaW7DqVxuXG4jIyMgUG91ciBFY2xpcHNlIDpcbjEuIENsaXF1ZXogZHJvaXQgc3VyIHZvdHJlIHByb2pldFxuMi4gU8OpbGVjdGlvbm5leiBcIk1hdmVuXCIgPiBcIlVwZGF0ZSBQcm9qZWN0Li4uXCJcbjMuIENvY2hleiBcIkZvcmNlIFVwZGF0ZSBvZiBTbmFwc2hvdHMvUmVsZWFzZXNcIlxuNC4gQ2xpcXVleiBzdXIgXCJPS1wiXG5cblNpIGNlbGEgbmUgcsOpc291dCBwYXMgbGUgcHJvYmzDqG1lLCBlc3NheW9ucyB1bmUgYXV0cmUgYXBwcm9jaGUgZW4gbW9kaWZpYW50IGxlIG1vZHVsZS1pbmZvLmphdmEgcG91ciBxdSdpbCBzb2l0IHBsdXMgY29tcGF0aWJsZSBhdmVjIHZvdHJlIGNvbmZpZ3VyYXRpb24gOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiW0lORk9dIFNjYW5uaW5nIGZvciBwcm9qZWN0cy4uLlxyXG5bSU5GT10gXHJcbltJTkZPXSAtLS0tLS0tLS0tLS0tLS0tLS0tLTwgb3JnLmV4YW1wbGU6V29ya3Nob3BKREJDM0E2MyA+LS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuW0lORk9dIEJ1aWxkaW5nIFdvcmtzaG9wSkRCQzNBNjMgMS4wLVNOQVBTSE9UXHJcbltJTkZPXSAgIGZyb20gcG9tLnhtbFxyXG5bSU5GT10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGphciBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbltXQVJOSU5HXSA2IHByb2JsZW1zIHdlcmUgZW5jb3VudGVyZWQgd2hpbGUgYnVpbGRpbmcgdGhlIGVmZmVjdGl2ZSBtb2RlbCBmb3Igb3JnLm9wZW5qZng6amF2YWZ4LWNvbnRyb2xzOmphcjoxNy4wLjYgZHVyaW5nIGRlcGVuZGVuY3kgY29sbGVjdGlvbiBzdGVwIGZvciBwcm9qZWN0ICh1c2UgLVggdG8gc2VlIGRldGFpbHMpXHJcbltXQVJOSU5HXSBUaGUgYXJ0aWZhY3QgbXlzcWw6bXlzcWwtY29ubmVjdG9yLWphdmE6amFyOjguMC4zMyBoYXMgYmVlbiByZWxvY2F0ZWQgdG8gY29tLm15c3FsOm15c3FsLWNvbm5lY3Rvci1qOmphcjo4LjAuMzM6IE15U1FMIENvbm5lY3Rvci9KIGFydGlmYWN0cyBtb3ZlZCB0byByZXZlcnNlLUROUyBjb21wbGlhbnQgTWF2ZW4gMisgY29vcmRpbmF0ZXMuXHJcbltJTkZPXSBcclxuW0lORk9dIC0tLSBkZXBlbmRlbmN5OjMuNy4wOnJlc29sdmUgKGRlZmF1bHQtY2xpKSBAIFdvcmtzaG9wSkRCQzNBNjMgLS0tXHJcbltJTkZPXSBcclxuW0lORk9dIFRoZSBmb2xsb3dpbmcgZmlsZXMgaGF2ZSBiZWVuIHJlc29sdmVkOlxyXG5bSU5GT10gICAgY29tLm15c3FsOm15c3FsLWNvbm5lY3Rvci1qOmphcjo4LjAuMzM6Y29tcGlsZSAtLSBtb2R1bGUgbXlzcWwuY29ubmVjdG9yLmogKGF1dG8pXHJcbltJTkZPXSAgICBjb20uZ29vZ2xlLnByb3RvYnVmOnByb3RvYnVmLWphdmE6amFyOjMuMjEuOTpjb21waWxlIC0tIG1vZHVsZSBjb20uZ29vZ2xlLnByb3RvYnVmIFthdXRvXVxyXG5bSU5GT10gICAgb3JnLm9wZW5qZng6amF2YWZ4LWNvbnRyb2xzOmphcjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmNvbnRyb2xzRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtY29udHJvbHM6amFyOndpbjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmNvbnRyb2xzXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtZnhtbDpqYXI6MTcuMC42OmNvbXBpbGUgLS0gbW9kdWxlIGphdmFmeC5meG1sRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtZnhtbDpqYXI6d2luOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguZnhtbFxyXG5bSU5GT10gICAgb3JnLm9wZW5qZng6amF2YWZ4LWdyYXBoaWNzOmphcjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmdyYXBoaWNzRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtZ3JhcGhpY3M6amFyOndpbjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmdyYXBoaWNzXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtYmFzZTpqYXI6MTcuMC42OmNvbXBpbGUgLS0gbW9kdWxlIGphdmFmeC5iYXNlRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtYmFzZTpqYXI6d2luOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguYmFzZVxyXG5bSU5GT10gICAgb3JnLm9wZW5qZng6amF2YWZ4LW1lZGlhOmphcjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4Lm1lZGlhRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtbWVkaWE6amFyOndpbjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4Lm1lZGlhXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtc3dpbmc6amFyOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguc3dpbmdFbXB0eSBbYXV0b11cclxuW0lORk9dICAgIG9yZy5vcGVuamZ4OmphdmFmeC1zd2luZzpqYXI6d2luOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguc3dpbmdcclxuW0lORk9dIFxyXG5bSU5GT10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbltJTkZPXSBCVUlMRCBTVUNDRVNTXHJcbltJTkZPXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuW0lORk9dIFRvdGFsIHRpbWU6ICA1LjgzMSBzXHJcbltJTkZPXSBGaW5pc2hlZCBhdDogMjAyNS0wNS0wNlQxNDozNjo1NyswMTowMFxyXG5bSU5GT10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURDRVVTYVZBZWoxQzFpc2FTOWV1MkYifX1dLCJyZXNwb25zZV90ZXh0IjoiTGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggc2VtYmxlbnQgYXZvaXIgw6l0w6kgY29ycmVjdGVtZW50IHTDqWzDqWNoYXJnw6llcy4gTWFpbnRlbmFudCwgZXNzYXlvbnMgZGUgcmVjaGFyZ2VyIGxlIHByb2pldCBNYXZlbiBkYW5zIHZvdHJlIElERS4gQ29tbWUgbm91cyBuZSBwb3V2b25zIHBhcyBsZSBmYWlyZSBkaXJlY3RlbWVudCB2aWEgY2V0dGUgaW50ZXJmYWNlLCBqZSB2YWlzIHZvdXMgZG9ubmVyIGxlcyDDqXRhcGVzIMOgIHN1aXZyZSBkYW5zIHZvdHJlIElERSAoSW50ZWxsaUogSURFQSBvdSBFY2xpcHNlKSA6XG5cbiMjIyBQb3VyIEludGVsbGlKIElERUEgOlxuMS4gQ2xpcXVleiBzdXIgbCdpY8O0bmUgTWF2ZW4gZGFucyBsYSBiYXJyZSBsYXTDqXJhbGUgZHJvaXRlXG4yLiBDbGlxdWV6IHN1ciBsJ2ljw7RuZSBcIlJlbG9hZCBBbGwgTWF2ZW4gUHJvamVjdHNcIiAoaWPDtG5lIGRlIHJhZnJhw65jaGlzc2VtZW50KVxuMy4gQXR0ZW5kZXogcXVlIGxlIHJlY2hhcmdlbWVudCBzb2l0IHRlcm1pbsOpXG5cbiMjIyBQb3VyIEVjbGlwc2UgOlxuMS4gQ2xpcXVleiBkcm9pdCBzdXIgdm90cmUgcHJvamV0XG4yLiBTw6lsZWN0aW9ubmV6IFwiTWF2ZW5cIiA+IFwiVXBkYXRlIFByb2plY3QuLi5cIlxuMy4gQ29jaGV6IFwiRm9yY2UgVXBkYXRlIG9mIFNuYXBzaG90cy9SZWxlYXNlc1wiXG40LiBDbGlxdWV6IHN1ciBcIk9LXCJcblxuU2kgY2VsYSBuZSByw6lzb3V0IHBhcyBsZSBwcm9ibMOobWUsIGVzc2F5b25zIHVuZSBhdXRyZSBhcHByb2NoZSBlbiBtb2RpZmlhbnQgbGUgbW9kdWxlLWluZm8uamF2YSBwb3VyIHF1J2lsIHNvaXQgcGx1cyBjb21wYXRpYmxlIGF2ZWMgdm90cmUgY29uZmlndXJhdGlvbiA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmQ4NDI5OTEtMTViYi00ZWI4LThiY2ItNGM4NmE1YzY4MGNkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUnFKZ1hlSkJZNHd4QnhKU1BBUXdOZiIsInRvb2xfbmFtZSI6InNoZWxsIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJSZW5hbWUtSXRlbSAtUGF0aCBcXFwic3JjL21haW4vamF2YS9tb2R1bGUtaW5mby5qYXZhXFxcIiAtTmV3TmFtZSBcXFwibW9kdWxlLWluZm8uamF2YS5iYWtcXFwiXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJTaSB2b3VzIHJlbmNvbnRyZXogdG91am91cnMgZGVzIHByb2Jsw6htZXMsIGVzc2F5b25zIHVuZSBhcHByb2NoZSBwbHVzIHJhZGljYWxlIGVuIHN1cHByaW1hbnQgdGVtcG9yYWlyZW1lbnQgbGUgbW9kdWxlLWluZm8uamF2YSBwb3VyIHZvaXIgc2kgY2VsYSByw6lzb3V0IGxlIHByb2Jsw6htZSA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvbW9kdWxlLWluZm8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRtb2R1bGUgb3JnLmV4YW1wbGUud29ya3Nob3BqZGJjIHtcbiAgICAgMlx0ICAgIHJlcXVpcmVzIGphdmFmeC5jb250cm9scztcbiAgICAgM1x0ICAgIHJlcXVpcmVzIGphdmFmeC5meG1sO1xuICAgICA0XHQgICAgcmVxdWlyZXMgamF2YWZ4LmdyYXBoaWNzO1xuICAgICA1XHQgICAgcmVxdWlyZXMgamF2YWZ4Lm1lZGlhO1xuICAgICA2XHQgICAgcmVxdWlyZXMgamF2YWZ4LnN3aW5nO1xuICAgICA3XHQgICAgcmVxdWlyZXMgamF2YWZ4LmJhc2U7XG4gICAgIDhcdCAgICByZXF1aXJlcyBqYXZhLnNxbDtcbiAgICAgOVx0XG4gICAgMTBcdCAgICBvcGVucyB0ZXN0cyB0byBqYXZhZnguZnhtbCwgamF2YWZ4LmdyYXBoaWNzLCBqYXZhZnguYmFzZTtcbiAgICAxMVx0ICAgIG9wZW5zIGNvbnRyb2xsZXJzIHRvIGphdmFmeC5meG1sLCBqYXZhZnguZ3JhcGhpY3MsIGphdmFmeC5iYXNlO1xuICAgIDEyXHQgICAgb3BlbnMgZW50aXRpZXMgdG8gamF2YWZ4LmJhc2UsIGphdmFmeC5meG1sO1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIGV4cG9ydHMgdGVzdHM7XG4gICAgMTVcdCAgICBleHBvcnRzIGNvbnRyb2xsZXJzO1xuICAgIDE2XHQgICAgZXhwb3J0cyBlbnRpdGllcztcbiAgICAxN1x0fVxuICAgIDE4XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMUVXY1NmVjhva0NEV1FTTDRNUWVnayJ9fV0sInJlc3BvbnNlX3RleHQiOiJTaSB2b3VzIHJlbmNvbnRyZXogdG91am91cnMgZGVzIHByb2Jsw6htZXMsIGVzc2F5b25zIHVuZSBhcHByb2NoZSBwbHVzIHJhZGljYWxlIGVuIHN1cHByaW1hbnQgdGVtcG9yYWlyZW1lbnQgbGUgbW9kdWxlLWluZm8uamF2YSBwb3VyIHZvaXIgc2kgY2VsYSByw6lzb3V0IGxlIHByb2Jsw6htZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiY2YyMTllNjgtNTVkNS00OWI0LWI5MTYtZmUxYmNiNWNiZjZkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQXNuZERNcGRmVGJ1V0hNRFc5b251WiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwicGFja2FnZSB0ZXN0cztcXG5cXG5pbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcblxcbnB1YmxpYyBjbGFzcyBNYWluIGV4dGVuZHMgQXBwbGljYXRpb24ge1xcblxcbiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIHZvaWQgc3RhcnQoU3RhZ2UgcHJpbWFyeVN0YWdlKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MIGRlIGxvZ2luXFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvZnhtbC9Mb2dpbi5meG1sXFxcIikpO1xcbiAgICAgICAgICAgIC8vIFNpIGxlIGNoYXJnZW1lbnQgXFx1MDBlOWNob3VlLCBlc3NheWV6IGF2ZWMgdW4gY2hlbWluIGFsdGVybmF0aWZcXG4gICAgICAgICAgICBpZiAobG9hZGVyLmdldExvY2F0aW9uKCkgPT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihuZXcgRmlsZShcXFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvTG9naW4uZnhtbFxcXCIpLnRvVVJJKCkudG9VUkwoKSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG5cXG4gICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XFxuICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0VGl0bGUoXFxcIkxvZ2luXFxcIik7XFxuICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNob3coKTtcXG5cXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXFxcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGUgbGEgcGFnZSBkZSBsb2dpbjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcXG4gICAgICAgIGxhdW5jaChhcmdzKTtcXG4gICAgfVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwicGFja2FnZSB0ZXN0cztcXG5cXG5pbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuXFxucHVibGljIGNsYXNzIE1haW4gZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBwcmltYXJ5U3RhZ2UpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gRXNzYXllciBkZSBjaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTCBhdmVjIHVuIGNoZW1pbiBhYnNvbHVcXG4gICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcXFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvTG9naW4uZnhtbFxcXCIpO1xcbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XFxuICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xcbiAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0VGl0bGUoXFxcIkxvZ2luXFxcIik7XFxuICAgICAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zaG93KCk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2XFx1MDBlOTogXFxcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXFxcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGUgbGEgcGFnZSBkZSBsb2dpbjogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcXG4gICAgICAgIGxhdW5jaChhcmdzKTtcXG4gICAgfVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMzZ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyBsYSBjbGFzc2UgTWFpbiBwb3VyIHF1J2VsbGUgZm9uY3Rpb25uZSBzYW5zIGxlIHN5c3TDqG1lIGRlIG1vZHVsZXMgSmF2YSA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiIiLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFScUpnWGVKQlk0d3hCeEpTUEFRd05mIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyBsYSBjbGFzc2UgTWFpbiBwb3VyIHF1J2VsbGUgZm9uY3Rpb25uZSBzYW5zIGxlIHN5c3TDqG1lIGRlIG1vZHVsZXMgSmF2YSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTEzMjFhOGUtMDMwMS00YjZmLTk0NDQtZTEzZWE1NGUxNzQ4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOXpSdGVtS2VXeFFKWTU5b00xNU56cSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlUmVnaXN0ZXIoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGQnaW5zY3JpcHRpb25cXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXFxcIi9meG1sL1JlZ2lzdGVyLmZ4bWxcXFwiKSk7XFxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2NcXHUwMGU4bmVcXG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcmVnaXN0ZXJMaW5rLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XFxuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFxcXCJJbnNjcmlwdGlvblxcXCIpO1xcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxhIHBhZ2UgZCdpbnNjcmlwdGlvbi5cXFwiKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZWdpc3RlcihBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBDaGFyZ2VyIGxhIHBhZ2UgZCdpbnNjcmlwdGlvbiBhdmVjIHVuIGNoZW1pbiBhYnNvbHVcXG4gICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcXFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvUmVnaXN0ZXIuZnhtbFxcXCIpO1xcbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XFxuICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xcbiAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSByZWdpc3RlckxpbmsuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcXG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXFxcIkluc2NyaXB0aW9uXFxcIik7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiRmljaGllciBGWE1MIG5vbiB0cm91dlxcdTAwZTk6IFxcXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXFxcIiwgXFxcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGQnaW5zY3JpcHRpb24uXFxcIik7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH1cXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNzYsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogOTN9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyDDqWdhbGVtZW50IGxlIExvZ2luQ29udHJvbGxlciBwb3VyIHF1J2lsIGZvbmN0aW9ubmUgc2FucyBsZSBzeXN0w6htZSBkZSBtb2R1bGVzIEphdmEgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcbiAgICAgNFx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDVcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgICA3XHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxMFx0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMTFcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgMTJcdFxuICAgIDEzXHRwdWJsaWMgY2xhc3MgTWFpbiBleHRlbmRzIEFwcGxpY2F0aW9uIHtcbiAgICAxNFx0XG4gICAgMTVcdCAgICBAT3ZlcnJpZGVcbiAgICAxNlx0ICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkge1xuICAgIDE3XHQgICAgICAgIHRyeSB7XG4gICAgMThcdCAgICAgICAgICAgIC8vIEVzc2F5ZXIgZGUgY2hhcmdlciBsZSBmaWNoaWVyIEZYTUwgYXZlYyB1biBjaGVtaW4gYWJzb2x1XG4gICAgMTlcdCAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvTG9naW4uZnhtbFwiKTtcbiAgICAyMFx0ICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcbiAgICAyMVx0ICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcbiAgICAyMlx0ICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIodXJsKTtcbiAgICAyM1x0ICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgIDI2XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgMjdcdCAgICAgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgIDI4XHQgICAgICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFRpdGxlKFwiTG9naW5cIik7XG4gICAgMjlcdCAgICAgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2hvdygpO1xuICAgIDMwXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgIDMxXHQgICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRmljaGllciBGWE1MIG5vbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgIDMyXHQgICAgICAgICAgICB9XG4gICAgMzNcdCAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgIDM0XHQgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlIGxhIHBhZ2UgZGUgbG9naW46IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgIDM1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDM2XHQgICAgICAgIH1cbiAgICAzN1x0ICAgIH1cbiAgICAzOFx0XG4gICAgMzlcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4gICAgNDBcdCAgICAgICAgbGF1bmNoKGFyZ3MpO1xuICAgIDQxXHQgICAgfVxuICAgIDQyXHR9XG4gICAgNDNcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBc25kRE1wZGZUYnVXSE1EVzlvbnVaIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyDDqWdhbGVtZW50IGxlIExvZ2luQ29udHJvbGxlciBwb3VyIHF1J2lsIGZvbmN0aW9ubmUgc2FucyBsZSBzeXN0w6htZSBkZSBtb2R1bGVzIEphdmEgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjZjMjlhMmUxLTdiN2ItNDRlZi1iZmNhLWZmYWQ1ZDRmNWQ3MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVJhenlBZU14MjVReWlwNUd6NllUVHciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XFxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcIiwgXCJuZXdfc3RyXCI6IFwiaW1wb3J0IGphdmEuaW8uRmlsZTtcXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcXG5pbXBvcnQgamF2YS5uZXQuVVJMO1xcbmltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcXG5pbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxNCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxOH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgNzJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzNcdCAgICAgICAgfVxuICAgIDc0XHQgICAgfVxuICAgIDc1XHRcbiAgICA3Nlx0ICAgIEBGWE1MXG4gICAgNzdcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZWdpc3RlcihBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDc4XHQgICAgICAgIHRyeSB7XG4gICAgNzlcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uIGF2ZWMgdW4gY2hlbWluIGFic29sdVxuICAgIDgwXHQgICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL1JlZ2lzdGVyLmZ4bWxcIik7XG4gICAgODFcdCAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgODJcdCAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAgODNcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAgODRcdCAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgODVcdFxuICAgIDg2XHQgICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgICA4N1x0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSByZWdpc3RlckxpbmsuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICA4OFx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIDg5XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgIDkwXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCJJbnNjcmlwdGlvblwiKTtcbiAgICA5MVx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICA5Mlx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgICA5M1x0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgOTRcdCAgICAgICAgICAgIH1cbiAgICA5NVx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgOTZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uLlwiKTtcbiAgICA5N1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA5OFx0ICAgICAgICB9XG4gICAgOTlcdCAgICB9XG4gICAxMDBcdFxuICAgMTAxXHQgICAgcHJpdmF0ZSBVc2VyIGF1dGhlbnRpY2F0ZVVzZXIoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgMTAyXHQgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gPyBBTkQgcGFzc3dvcmQgPSA/XCI7XG4gICAxMDNcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOXpSdGVtS2VXeFFKWTU5b00xNU56cSJ9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZGFkZDM1NWYtZmQ0Yi00OGMzLWEwOGYtM2U1NzkwNTJmMzE4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMmFFWkFzNVE4UnFjR2VDMTZrSHhhQSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIG5hdmlnYXRlVG9Ib21lKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcXG4gICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2FjY3VlaWxcXG4gICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcXFwiL2Z4bWwvSG9tZS5meG1sXFxcIikpO1xcbiAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgbG9naW5CdXR0b24uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcXG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXFxcIkFjY3VlaWxcXFwiKTtcXG4gICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIG5hdmlnYXRlVG9Ib21lKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcXG4gICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2FjY3VlaWwgYXZlYyB1biBjaGVtaW4gYWJzb2x1XFxuICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcXFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvSG9tZS5meG1sXFxcIik7XFxuICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xcbiAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2NcXHUwMGU4bmVcXG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgbG9naW5CdXR0b24uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcXG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XFxuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXFxcIkFjY3VlaWxcXFwiKTtcXG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZGUgbmF2aWdhdGlvblxcXCIsIFxcXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2XFx1MDBlOTogXFxcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMjEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTMyfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAxMFx0aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XG4gICAgMTFcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgMTJcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgIDEzXHRcbiAgICAxNFx0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxNVx0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMTZcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgMTdcdGltcG9ydCBqYXZhLnNxbC5Db25uZWN0aW9uO1xuICAgIDE4XHRpbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XG4gICAgMTlcdGltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG4gICAgMjBcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMjFcdFxuICAgIDIyXHRwdWJsaWMgY2xhc3MgTG9naW5Db250cm9sbGVyIHtcbiAgICAyM1x0XG4gICAgMjRcdCAgICBARlhNTFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSYXp5QWVNeDI1UXlpcDVHejZZVFR3In19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmM2YxN2MxZS03MGM1LTRmNDctYTc1OC0xYzhlZGE0NWZmYzkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFCUTZqb2tiSndLbXkyWEtNRm1FeWF6IiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL1JlZ2lzdGVyLmZ4bWxcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcblxcbjw/aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio/Plxcbjw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+XFxuPD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+XFxuPD9pbXBvcnQgamF2YWZ4LnNjZW5lLnRleHQuVGV4dD8+XFxuXFxuPEJvcmRlclBhbmUgeG1sbnM9XFxcImh0dHA6Ly9qYXZhZnguY29tL2phdmFmeFxcXCJcXG4gICAgICAgICAgICB4bWxuczpmeD1cXFwiaHR0cDovL2phdmFmeC5jb20vZnhtbFxcXCJcXG4gICAgICAgICAgICBmeDpjb250cm9sbGVyPVxcXCJjb250cm9sbGVycy5SZWdpc3RlckNvbnRyb2xsZXJcXFwiXFxuICAgICAgICAgICAgcHJlZkhlaWdodD1cXFwiNDAwLjBcXFwiIHByZWZXaWR0aD1cXFwiNjAwLjBcXFwiPlxcbiAgICBcXG4gICAgPGNlbnRlcj5cXG4gICAgICAgIDxWQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIiBzcGFjaW5nPVxcXCIyMC4wXFxcIj5cXG4gICAgICAgICAgICA8cGFkZGluZz5cXG4gICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9XFxcIjIwLjBcXFwiIHJpZ2h0PVxcXCIyMC4wXFxcIiBib3R0b209XFxcIjIwLjBcXFwiIGxlZnQ9XFxcIjIwLjBcXFwiLz5cXG4gICAgICAgICAgICA8L3BhZGRpbmc+XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgPFRleHQgdGV4dD1cXFwiSW5zY3JpcHRpb25cXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAyNHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9XFxcIjEwXFxcIiB2Z2FwPVxcXCIxMFxcXCIgYWxpZ25tZW50PVxcXCJDRU5URVJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiTm9tOlxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjBcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIwXFxcIi8+XFxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XFxcIm5vbUZpZWxkXFxcIiBwcm9tcHRUZXh0PVxcXCJFbnRyZXogdm90cmUgbm9tXFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiMFxcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjFcXFwiLz5cXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJQclxcdTAwZTlub206XFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiMVxcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjBcXFwiLz5cXG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD1cXFwicHJlbm9tRmllbGRcXFwiIHByb21wdFRleHQ9XFxcIkVudHJleiB2b3RyZSBwclxcdTAwZTlub21cXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIxXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMVxcXCIvPlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIkVtYWlsOlxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjJcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIwXFxcIi8+XFxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XFxcImVtYWlsRmllbGRcXFwiIHByb21wdFRleHQ9XFxcIkVudHJleiB2b3RyZSBlbWFpbFxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjJcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIxXFxcIi8+XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiTW90IGRlIHBhc3NlOlxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjNcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIwXFxcIi8+XFxuICAgICAgICAgICAgICAgIDxQYXNzd29yZEZpZWxkIGZ4OmlkPVxcXCJwYXNzd29yZEZpZWxkXFxcIiBwcm9tcHRUZXh0PVxcXCJFbnRyZXogdm90cmUgbW90IGRlIHBhc3NlXFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiM1xcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjFcXFwiLz5cXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJBZHJlc3NlOlxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjRcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIwXFxcIi8+XFxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XFxcImFkcmVzc2VGaWVsZFxcXCIgcHJvbXB0VGV4dD1cXFwiRW50cmV6IHZvdHJlIGFkcmVzc2VcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCI0XFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMVxcXCIvPlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIlRcXHUwMGU5bFxcdTAwZTlwaG9uZTpcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCI1XFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMFxcXCIvPlxcbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVxcXCJ0ZWxlcGhvbmVGaWVsZFxcXCIgcHJvbXB0VGV4dD1cXFwiRW50cmV6IHZvdHJlIHRcXHUwMGU5bFxcdTAwZTlwaG9uZVxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjVcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIxXFxcIi8+XFxuICAgICAgICAgICAgPC9HcmlkUGFuZT5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVxcXCJyZWdpc3RlckJ1dHRvblxcXCIgdGV4dD1cXFwiUydpbnNjcmlyZVxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVSZWdpc3RlclxcXCIvPlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIiBzcGFjaW5nPVxcXCIxMFxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJEXFx1MDBlOWpcXHUwMGUwIGluc2NyaXQ/XFxcIi8+XFxuICAgICAgICAgICAgICAgIDxIeXBlcmxpbmsgZng6aWQ9XFxcImxvZ2luTGlua1xcXCIgdGV4dD1cXFwiU2UgY29ubmVjdGVyXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZUxvZ2luXFxcIi8+XFxuICAgICAgICAgICAgPC9IQm94PlxcbiAgICAgICAgPC9WQm94PlxcbiAgICA8L2NlbnRlcj5cXG4gICAgXFxuPC9Cb3JkZXJQYW5lPlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgY3LDqW9ucyB1biBmaWNoaWVyIFJlZ2lzdGVyLmZ4bWwgdmlkZSBwb3VyIMOpdml0ZXIgbGVzIGVycmV1cnMgbG9ycyBkZSBsYSBuYXZpZ2F0aW9uIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMTI1XHRcbiAgIDEyNlx0ICAgICAgICByZXR1cm4gbnVsbDtcbiAgIDEyN1x0ICAgIH1cbiAgIDEyOFx0XG4gICAxMjlcdCAgICBwcml2YXRlIHZvaWQgbmF2aWdhdGVUb0hvbWUoKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTMwXHQgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2FjY3VlaWwgYXZlYyB1biBjaGVtaW4gYWJzb2x1XG4gICAxMzFcdCAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Ib21lLmZ4bWxcIik7XG4gICAxMzJcdCAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcbiAgIDEzM1x0ICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xuICAgMTM0XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAxMzVcdCAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgIDEzNlx0XG4gICAxMzdcdCAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2PDqG5lXG4gICAxMzhcdCAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBsb2dpbkJ1dHRvbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMTM5XHQgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgIDE0MFx0ICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgMTQxXHQgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkFjY3VlaWxcIik7XG4gICAxNDJcdCAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgIDE0M1x0ICAgICAgICB9IGVsc2Uge1xuICAgMTQ0XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXCIsIFwiRmljaGllciBGWE1MIG5vbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgMTQ1XHQgICAgICAgIH1cbiAgIDE0Nlx0ICAgIH1cbiAgIDE0N1x0XG4gICAxNDhcdCAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIG1lc3NhZ2UpIHtcbiAgIDE0OVx0ICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgMTUwXHQgICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMmFFWkFzNVE4UnFjR2VDMTZrSHhhQSJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBjcsOpb25zIHVuIGZpY2hpZXIgUmVnaXN0ZXIuZnhtbCB2aWRlIHBvdXIgw6l2aXRlciBsZXMgZXJyZXVycyBsb3JzIGRlIGxhIG5hdmlnYXRpb24gOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImYxZDM3NTc0LTljZTYtNGQ0NC1hZTRjLWM1MDM1MzRlYmU1NCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVBmZVR0YlVEWlpxWFNqTFlFaEtEbWYiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvSG9tZS5meG1sXCIsIFwiZmlsZV9jb250ZW50XCI6IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0Lio/Plxcbjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Plxcbjw/aW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0LlRleHQ/PlxcblxcbjxCb3JkZXJQYW5lIHhtbG5zPVxcXCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcXFwiXFxuICAgICAgICAgICAgeG1sbnM6Zng9XFxcImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcXFwiXFxuICAgICAgICAgICAgZng6Y29udHJvbGxlcj1cXFwiY29udHJvbGxlcnMuSG9tZUNvbnRyb2xsZXJcXFwiXFxuICAgICAgICAgICAgcHJlZkhlaWdodD1cXFwiNDAwLjBcXFwiIHByZWZXaWR0aD1cXFwiNjAwLjBcXFwiPlxcbiAgICBcXG4gICAgPHRvcD5cXG4gICAgICAgIDxNZW51QmFyPlxcbiAgICAgICAgICAgIDxNZW51IHRleHQ9XFxcIkZpY2hpZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdGV4dD1cXFwiRFxcdTAwZTljb25uZXhpb25cXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlTG9nb3V0XFxcIi8+XFxuICAgICAgICAgICAgICAgIDxTZXBhcmF0b3JNZW51SXRlbSAvPlxcbiAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdGV4dD1cXFwiUXVpdHRlclxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVFeGl0XFxcIi8+XFxuICAgICAgICAgICAgPC9NZW51PlxcbiAgICAgICAgPC9NZW51QmFyPlxcbiAgICA8L3RvcD5cXG4gICAgXFxuICAgIDxjZW50ZXI+XFxuICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCIgc3BhY2luZz1cXFwiMjAuMFxcXCI+XFxuICAgICAgICAgICAgPHBhZGRpbmc+XFxuICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPVxcXCIyMC4wXFxcIiByaWdodD1cXFwiMjAuMFxcXCIgYm90dG9tPVxcXCIyMC4wXFxcIiBsZWZ0PVxcXCIyMC4wXFxcIi8+XFxuICAgICAgICAgICAgPC9wYWRkaW5nPlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIkJpZW52ZW51ZSBzdXIgbGEgcGFnZSBkJ2FjY3VlaWxcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAyNHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcIndlbGNvbWVUZXh0XFxcIiB0ZXh0PVxcXCJWb3VzIFxcdTAwZWF0ZXMgY29ubmVjdFxcdTAwZTkgZW4gdGFudCBxdWUuLi5cXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxNnB4O1xcXCIvPlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIiBzcGFjaW5nPVxcXCIyMC4wXFxcIj5cXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnRzXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZUV2ZW50c1xcXCIvPlxcbiAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XFxcIlByb2ZpbFxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVQcm9maWxlXFxcIi8+XFxuICAgICAgICAgICAgPC9IQm94PlxcbiAgICAgICAgPC9WQm94PlxcbiAgICA8L2NlbnRlcj5cXG4gICAgXFxuPC9Cb3JkZXJQYW5lPlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQ3LDqW9ucyDDqWdhbGVtZW50IHVuIGZpY2hpZXIgSG9tZS5meG1sIHZpZGUgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQlE2am9rYkp3S215MlhLTUZtRXlheiJ9fV0sInJlc3BvbnNlX3RleHQiOiJDcsOpb25zIMOpZ2FsZW1lbnQgdW4gZmljaGllciBIb21lLmZ4bWwgdmlkZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmI3YjI1NzUtYjBkMS00MjkyLTkzYWYtZWRmNDAxMmMyNWNiIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS0VkZ3V6QXNNVDV3Nnp5d3hwclRNcSIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1JlZ2lzdGVyQ29udHJvbGxlci5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBjb250cm9sbGVycztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcXG5cXG5wdWJsaWMgY2xhc3MgUmVnaXN0ZXJDb250cm9sbGVyIHtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgbm9tRmllbGQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIHByZW5vbUZpZWxkO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHRGaWVsZCBlbWFpbEZpZWxkO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFBhc3N3b3JkRmllbGQgcGFzc3dvcmRGaWVsZDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgYWRyZXNzZUZpZWxkO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0ZWxlcGhvbmVGaWVsZDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBCdXR0b24gcmVnaXN0ZXJCdXR0b247XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgSHlwZXJsaW5rIGxvZ2luTGluaztcXG5cXG4gICAgcHJpdmF0ZSBDb25uZWN0aW9uIGNvbm5lY3Rpb247XFxuXFxuICAgIHB1YmxpYyBSZWdpc3RlckNvbnRyb2xsZXIoKSB7XFxuICAgICAgICAvLyBJbml0aWFsaXNlciBsYSBjb25uZXhpb24gXFx1MDBlMCBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgIGNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlZ2lzdGVyKEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICAvLyBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbGVzIHZhbGV1cnMgZGVzIGNoYW1wc1xcbiAgICAgICAgU3RyaW5nIG5vbSA9IG5vbUZpZWxkLmdldFRleHQoKTtcXG4gICAgICAgIFN0cmluZyBwcmVub20gPSBwcmVub21GaWVsZC5nZXRUZXh0KCk7XFxuICAgICAgICBTdHJpbmcgZW1haWwgPSBlbWFpbEZpZWxkLmdldFRleHQoKTtcXG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHBhc3N3b3JkRmllbGQuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIGFkcmVzc2UgPSBhZHJlc3NlRmllbGQuZ2V0VGV4dCgpO1xcbiAgICAgICAgU3RyaW5nIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUZpZWxkLmdldFRleHQoKTtcXG5cXG4gICAgICAgIC8vIFZcXHUwMGU5cmlmaWVyIHF1ZSBsZXMgY2hhbXBzIG5lIHNvbnQgcGFzIHZpZGVzXFxuICAgICAgICBpZiAobm9tLmlzRW1wdHkoKSB8fCBwcmVub20uaXNFbXB0eSgpIHx8IGVtYWlsLmlzRW1wdHkoKSB8fCBwYXNzd29yZC5pc0VtcHR5KCkgfHwgYWRyZXNzZS5pc0VtcHR5KCkgfHwgdGVsZXBob25lLmlzRW1wdHkoKSkge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZCdpbnNjcmlwdGlvblxcXCIsIFxcXCJWZXVpbGxleiByZW1wbGlyIHRvdXMgbGVzIGNoYW1wcy5cXFwiKTtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENyXFx1MDBlOWVyIHVuIG5vdXZlbCB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XFxuICAgICAgICAgICAgdXNlci5zZXROb20obm9tKTtcXG4gICAgICAgICAgICB1c2VyLnNldFByZW5vbShwcmVub20pO1xcbiAgICAgICAgICAgIHVzZXIuc2V0RW1haWwoZW1haWwpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0UGFzc3dvcmQocGFzc3dvcmQpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0QWRyZXNzZShhZHJlc3NlKTtcXG4gICAgICAgICAgICB1c2VyLnNldFRlbGVwaG9uZSh0ZWxlcGhvbmUpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0VmVyaWZpZWQoZmFsc2UpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0Q3JlYXRlZF9hdChuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKSk7XFxuXFxuICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIHJlZ2lzdGVyVXNlcih1c2VyKTtcXG5cXG4gICAgICAgICAgICAvLyBBZmZpY2hlciB1biBtZXNzYWdlIGRlIHN1Y2NcXHUwMGU4c1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbnNjcmlwdGlvbiByXFx1MDBlOXVzc2llXFxcIiwgXFxcIlZvdHJlIGNvbXB0ZSBhIFxcdTAwZTl0XFx1MDBlOSBjclxcdTAwZTlcXHUwMGU5IGF2ZWMgc3VjY1xcdTAwZThzLiBWb3VzIHBvdXZleiBtYWludGVuYW50IHZvdXMgY29ubmVjdGVyLlxcXCIpO1xcblxcbiAgICAgICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxhIHBhZ2UgZGUgY29ubmV4aW9uXFxuICAgICAgICAgICAgbmF2aWdhdGVUb0xvZ2luKCk7XFxuICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZCdpbnNjcmlwdGlvblxcXCIsIFxcXCJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSBsb3JzIGRlIGwnaW5zY3JpcHRpb246IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxhIHBhZ2UgZGUgY29ubmV4aW9uLlxcXCIpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlTG9naW4oQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIik7XFxuICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2NcXHUwMGU4bmVcXG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGxvZ2luTGluay5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcXFwiQ29ubmV4aW9uXFxcIik7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiRmljaGllciBGWE1MIG5vbiB0cm91dlxcdTAwZTk6IFxcXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXFxcIiwgXFxcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvbi5cXFwiKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgdm9pZCByZWdpc3RlclVzZXIoVXNlciB1c2VyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3NlLCB0ZWxlcGhvbmUsIGlzX3ZlcmlmaWVkLCBjcmVhdGVkX2F0KSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pXFxcIjtcXG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIHVzZXIuZ2V0Tm9tKCkpO1xcbiAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygyLCB1c2VyLmdldFByZW5vbSgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMywgdXNlci5nZXRFbWFpbCgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoNCwgdXNlci5nZXRQYXNzd29yZCgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoNSwgdXNlci5nZXRBZHJlc3NlKCkpO1xcbiAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZyg2LCB1c2VyLmdldFRlbGVwaG9uZSgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRCb29sZWFuKDcsIHVzZXIuaXNWZXJpZmllZCgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRUaW1lc3RhbXAoOCwgdXNlci5nZXRDcmVhdGVkX2F0KCkpO1xcbiAgICAgICAgc3RhdGVtZW50LmV4ZWN1dGVVcGRhdGUoKTtcXG4gICAgfVxcblxcbiAgICBwcml2YXRlIHZvaWQgbmF2aWdhdGVUb0xvZ2luKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcXG4gICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb25cXG4gICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIik7XFxuICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xcbiAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2NcXHUwMGU4bmVcXG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcmVnaXN0ZXJCdXR0b24uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcXG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XFxuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXFxcIkNvbm5leGlvblxcXCIpO1xcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXFxcIiwgXFxcIkZpY2hpZXIgRlhNTCBub24gdHJvdXZcXHUwMGU5OiBcXFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7XFxuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcXG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KG1lc3NhZ2UpO1xcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkNyw6lvbnMgdW4gY29udHLDtGxldXIgUmVnaXN0ZXJDb250cm9sbGVyIHZpZGUgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUGZlVHRiVURaWnFYU2pMWUVoS0RtZiJ9fV0sInJlc3BvbnNlX3RleHQiOiJDcsOpb25zIHVuIGNvbnRyw7RsZXVyIFJlZ2lzdGVyQ29udHJvbGxlciB2aWRlIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4OTNmOTY0NC0xOThjLTRmMTgtOWMzMC04Zjk3MDI2OTg4MDkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFYdFNVV3VqQ2h1N3dQNzY0QmR5eHY0IiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXIuamF2YVwiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2UgY29udHJvbGxlcnM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xcbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XFxuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydDtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLnRleHQuVGV4dDtcXG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xcblxcbmltcG9ydCBqYXZhLmlvLkZpbGU7XFxuaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XFxuaW1wb3J0IGphdmEubmV0LlVSTDtcXG5pbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xcblxcbnB1YmxpYyBjbGFzcyBIb21lQ29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHQgd2VsY29tZVRleHQ7XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XFxuICAgICAgICAvLyBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOVxcbiAgICAgICAgVXNlciBjdXJyZW50VXNlciA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuZ2V0Q3VycmVudFVzZXIoKTtcXG4gICAgICAgIGlmIChjdXJyZW50VXNlciAhPSBudWxsKSB7XFxuICAgICAgICAgICAgd2VsY29tZVRleHQuc2V0VGV4dChcXFwiVm91cyBcXHUwMGVhdGVzIGNvbm5lY3RcXHUwMGU5IGVuIHRhbnQgcXVlIFxcXCIgKyBjdXJyZW50VXNlci5nZXRQcmVub20oKSArIFxcXCIgXFxcIiArIGN1cnJlbnRVc2VyLmdldE5vbSgpKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgd2VsY29tZVRleHQuc2V0VGV4dChcXFwiQXVjdW4gdXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTlcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVMb2dvdXQoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIC8vIERcXHUwMGU5Y29ubmVjdGVyIGwndXRpbGlzYXRldXJcXG4gICAgICAgIFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkubG9nb3V0KCk7XFxuICAgICAgICBcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIik7XFxuICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2NcXHUwMGU4bmVcXG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHdlbGNvbWVUZXh0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFxcXCJDb25uZXhpb25cXFwiKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZGUgbmF2aWdhdGlvblxcXCIsIFxcXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2XFx1MDBlOTogXFxcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxhIHBhZ2UgZGUgY29ubmV4aW9uLlxcXCIpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlRXhpdChBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgLy8gUXVpdHRlciBsJ2FwcGxpY2F0aW9uXFxuICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlRXZlbnRzKEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICAvLyBOYXZpZ3VlciB2ZXJzIGxhIHBhZ2UgZGVzIFxcdTAwZTl2XFx1MDBlOW5lbWVudHNcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJOYXZpZ2F0aW9uXFxcIiwgXFxcIkZvbmN0aW9ubmFsaXRcXHUwMGU5IG5vbiBpbXBsXFx1MDBlOW1lbnRcXHUwMGU5ZVxcXCIpO1xcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZVByb2ZpbGUoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIC8vIE5hdmlndWVyIHZlcnMgbGEgcGFnZSBkZSBwcm9maWxcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJOYXZpZ2F0aW9uXFxcIiwgXFxcIkZvbmN0aW9ubmFsaXRcXHUwMGU5IG5vbiBpbXBsXFx1MDBlOW1lbnRcXHUwMGU5ZVxcXCIpO1xcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgbWVzc2FnZSkge1xcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcXG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcXG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XFxuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChtZXNzYWdlKTtcXG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJDcsOpb25zIHVuIGNvbnRyw7RsZXVyIEhvbWVDb250cm9sbGVyIHZpZGUgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS0VkZ3V6QXNNVDV3Nnp5d3hwclRNcSJ9fV0sInJlc3BvbnNlX3RleHQiOiJDcsOpb25zIHVuIGNvbnRyw7RsZXVyIEhvbWVDb250cm9sbGVyIHZpZGUgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjY1YTQwY2EwLWU1NGYtNGQ2Mi05NDJiLWUwZDYwODgxYzZjNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGVzc2F5ZXogZGUgcmVjaGFyZ2VyIHZvdHJlIHByb2pldCBkYW5zIHZvdHJlIElERSBldCBkJ2V4w6ljdXRlciBsYSBjbGFzc2UgTWFpbi4gU2kgdm91cyByZW5jb250cmV6IHRvdWpvdXJzIGRlcyBwcm9ibMOobWVzLCB2b2ljaSBxdWVscXVlcyBzdWdnZXN0aW9ucyBzdXBwbMOpbWVudGFpcmVzIDpcblxuMS4gKipWw6lyaWZpZXogcXVlIHZvdHJlIElERSBlc3QgY29uZmlndXLDqSBwb3VyIHV0aWxpc2VyIEphdmEgMTcqKiA6XG4gICAtIERhbnMgSW50ZWxsaUogSURFQSA6IEZpbGUgPiBQcm9qZWN0IFN0cnVjdHVyZSA+IFByb2plY3QgPiBQcm9qZWN0IFNES1xuICAgLSBEYW5zIEVjbGlwc2UgOiBXaW5kb3cgPiBQcmVmZXJlbmNlcyA+IEphdmEgPiBJbnN0YWxsZWQgSlJFc1xuXG4yLiAqKkFzc3VyZXotdm91cyBxdWUgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggc29udCBjb3JyZWN0ZW1lbnQgdMOpbMOpY2hhcmfDqWVzKiogOlxuICAgLSBFeMOpY3V0ZXogYG12biBjbGVhbiBpbnN0YWxsYCBkYW5zIGxlIHRlcm1pbmFsIHBvdXIgZm9yY2VyIGxlIHTDqWzDqWNoYXJnZW1lbnQgZGVzIGTDqXBlbmRhbmNlc1xuXG4zLiAqKkVzc2F5ZXogZCdleMOpY3V0ZXIgbCdhcHBsaWNhdGlvbiBkaXJlY3RlbWVudCBhdmVjIE1hdmVuKiogOlxuICAgLSBFeMOpY3V0ZXogYG12biBjbGVhbiBqYXZhZng6cnVuYCBkYW5zIGxlIHRlcm1pbmFsXG5cbjQuICoqU2kgdm91cyB1dGlsaXNleiBJbnRlbGxpSiBJREVBLCBlc3NheWV6IGQnYWpvdXRlciBtYW51ZWxsZW1lbnQgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlgqKiA6XG4gICAtIEZpbGUgPiBQcm9qZWN0IFN0cnVjdHVyZSA+IExpYnJhcmllcyA+ICsgPiBGcm9tIE1hdmVuXG4gICAtIFJlY2hlcmNoZXogZXQgYWpvdXRleiBgb3JnLm9wZW5qZng6amF2YWZ4LWNvbnRyb2xzOjE3LjAuNmBcbiAgIC0gUsOpcMOpdGV6IHBvdXIgbGVzIGF1dHJlcyBtb2R1bGVzIEphdmFGWCAoZnhtbCwgZ3JhcGhpY3MsIG1lZGlhLCBzd2luZylcblxuNS4gKipTaSB2b3VzIHV0aWxpc2V6IEVjbGlwc2UsIGVzc2F5ZXogZCdpbnN0YWxsZXIgbGUgcGx1Z2luIGUoZngpY2xpcHNlKiogOlxuICAgLSBIZWxwID4gRWNsaXBzZSBNYXJrZXRwbGFjZSA+IFJlY2hlcmNoZXogXCJlKGZ4KWNsaXBzZVwiID4gSW5zdGFsbFxuXG5DZXMgbW9kaWZpY2F0aW9ucyBkZXZyYWllbnQgcsOpc291ZHJlIGxlIHByb2Jsw6htZSBcIkNhbm5vdCByZXNvbHZlIHN5bWJvbCAnamF2YWZ4J1wiIGVuIHV0aWxpc2FudCBkZXMgY2hlbWlucyBhYnNvbHVzIHBvdXIgY2hhcmdlciBsZXMgZmljaGllcnMgRlhNTCBldCBlbiBzdXBwcmltYW50IHRlbXBvcmFpcmVtZW50IGxlIHN5c3TDqG1lIGRlIG1vZHVsZXMgSmF2YS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVh0U1VXdWpDaHU3d1A3NjRCZHl4djQifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgZXNzYXlleiBkZSByZWNoYXJnZXIgdm90cmUgcHJvamV0IGRhbnMgdm90cmUgSURFIGV0IGQnZXjDqWN1dGVyIGxhIGNsYXNzZSBNYWluLiBTaSB2b3VzIHJlbmNvbnRyZXogdG91am91cnMgZGVzIHByb2Jsw6htZXMsIHZvaWNpIHF1ZWxxdWVzIHN1Z2dlc3Rpb25zIHN1cHBsw6ltZW50YWlyZXMgOlxuXG4xLiAqKlbDqXJpZmlleiBxdWUgdm90cmUgSURFIGVzdCBjb25maWd1csOpIHBvdXIgdXRpbGlzZXIgSmF2YSAxNyoqIDpcbiAgIC0gRGFucyBJbnRlbGxpSiBJREVBIDogRmlsZSA+IFByb2plY3QgU3RydWN0dXJlID4gUHJvamVjdCA+IFByb2plY3QgU0RLXG4gICAtIERhbnMgRWNsaXBzZSA6IFdpbmRvdyA+IFByZWZlcmVuY2VzID4gSmF2YSA+IEluc3RhbGxlZCBKUkVzXG5cbjIuICoqQXNzdXJlei12b3VzIHF1ZSBsZXMgZMOpcGVuZGFuY2VzIEphdmFGWCBzb250IGNvcnJlY3RlbWVudCB0w6lsw6ljaGFyZ8OpZXMqKiA6XG4gICAtIEV4w6ljdXRleiBgbXZuIGNsZWFuIGluc3RhbGxgIGRhbnMgbGUgdGVybWluYWwgcG91ciBmb3JjZXIgbGUgdMOpbMOpY2hhcmdlbWVudCBkZXMgZMOpcGVuZGFuY2VzXG5cbjMuICoqRXNzYXlleiBkJ2V4w6ljdXRlciBsJ2FwcGxpY2F0aW9uIGRpcmVjdGVtZW50IGF2ZWMgTWF2ZW4qKiA6XG4gICAtIEV4w6ljdXRleiBgbXZuIGNsZWFuIGphdmFmeDpydW5gIGRhbnMgbGUgdGVybWluYWxcblxuNC4gKipTaSB2b3VzIHV0aWxpc2V6IEludGVsbGlKIElERUEsIGVzc2F5ZXogZCdham91dGVyIG1hbnVlbGxlbWVudCBsZXMgZMOpcGVuZGFuY2VzIEphdmFGWCoqIDpcbiAgIC0gRmlsZSA+IFByb2plY3QgU3RydWN0dXJlID4gTGlicmFyaWVzID4gKyA+IEZyb20gTWF2ZW5cbiAgIC0gUmVjaGVyY2hleiBldCBham91dGV6IGBvcmcub3BlbmpmeDpqYXZhZngtY29udHJvbHM6MTcuMC42YFxuICAgLSBSw6lww6l0ZXogcG91ciBsZXMgYXV0cmVzIG1vZHVsZXMgSmF2YUZYIChmeG1sLCBncmFwaGljcywgbWVkaWEsIHN3aW5nKVxuXG41LiAqKlNpIHZvdXMgdXRpbGlzZXogRWNsaXBzZSwgZXNzYXlleiBkJ2luc3RhbGxlciBsZSBwbHVnaW4gZShmeCljbGlwc2UqKiA6XG4gICAtIEhlbHAgPiBFY2xpcHNlIE1hcmtldHBsYWNlID4gUmVjaGVyY2hleiBcImUoZngpY2xpcHNlXCIgPiBJbnN0YWxsXG5cbkNlcyBtb2RpZmljYXRpb25zIGRldnJhaWVudCByw6lzb3VkcmUgbGUgcHJvYmzDqG1lIFwiQ2Fubm90IHJlc29sdmUgc3ltYm9sICdqYXZhZngnXCIgZW4gdXRpbGlzYW50IGRlcyBjaGVtaW5zIGFic29sdXMgcG91ciBjaGFyZ2VyIGxlcyBmaWNoaWVycyBGWE1MIGV0IGVuIHN1cHByaW1hbnQgdGVtcG9yYWlyZW1lbnQgbGUgc3lzdMOobWUgZGUgbW9kdWxlcyBKYXZhLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImJkN2ZjN2UyLTNkMWItNDM4OC04NDAyLWY5ODNlOTZlM2UxZiIsInJlcXVlc3RfbWVzc2FnZSI6ImxhIHZlcnNpb24gY2VzdCAxNy4wLjYiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoibGEgdmVyc2lvbiBjZXN0IDE3LjAuNiJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUXlwVXpLUG82UURSdEpXdHc3QWhnQiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJwb20ueG1sXCIsIFwidmlld19yYW5nZVwiOiBbMTEsIDE2XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlZvdXMgYXZleiByYWlzb24sIGxhIHZlcnNpb24gZGUgSmF2YUZYIHF1ZSBub3VzIHV0aWxpc29ucyBlc3QgMTcuMC42LCBjZSBxdWkgZXN0IGTDqWrDoCBjb3JyZWN0ZW1lbnQgY29uZmlndXLDqSBkYW5zIGxlIGZpY2hpZXIgcG9tLnhtbCBxdWUgaidhaSBtb2RpZmnDqS4gVsOpcmlmaW9ucyBsZSBmaWNoaWVyIHBvbS54bWwgcG91ciBjb25maXJtZXIgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IlZvdXMgYXZleiByYWlzb24sIGxhIHZlcnNpb24gZGUgSmF2YUZYIHF1ZSBub3VzIHV0aWxpc29ucyBlc3QgMTcuMC42LCBjZSBxdWkgZXN0IGTDqWrDoCBjb3JyZWN0ZW1lbnQgY29uZmlndXLDqSBkYW5zIGxlIGZpY2hpZXIgcG9tLnhtbCBxdWUgaidhaSBtb2RpZmnDqS4gVsOpcmlmaW9ucyBsZSBmaWNoaWVyIHBvbS54bWwgcG91ciBjb25maXJtZXIgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjI0NmFhNDc2LWVkMDAtNDRiYy04N2MyLWZkOWJiNzg3MThkOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUpEc05nTk1HZlVZSkVTZ0I5QWhEZGMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwicG9tLnhtbFwiLCBcInZpZXdfcmFuZ2VcIjogWzI2LCA1MV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHBvbS54bWw6XG4gICAgMTFcdCAgICA8cHJvcGVydGllcz5cbiAgICAxMlx0ICAgICAgICA8bWF2ZW4uY29tcGlsZXIuc291cmNlPjE3PC9tYXZlbi5jb21waWxlci5zb3VyY2U+XG4gICAgMTNcdCAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4xNzwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0PlxuICAgIDE0XHQgICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDE1XHQgICAgICAgIDxqYXZhZngudmVyc2lvbj4xNy4wLjY8L2phdmFmeC52ZXJzaW9uPlxuICAgIDE2XHQgICAgPC9wcm9wZXJ0aWVzPlxuVG90YWwgbGluZXMgaW4gZmlsZTogODdcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVF5cFV6S1BvNlFEUnRKV3R3N0FoZ0IifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIwMTFkMzBlLTNmNGItNDk0NS05ZDU4LTRhOGVlNTE1YjRjOCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBhcmZhaXQgISBMYSB2ZXJzaW9uIGRlIEphdmFGWCBlc3QgYmllbiBjb25maWd1csOpZSDDoCAxNy4wLjYgZGFucyBsZSBmaWNoaWVyIHBvbS54bWwuIFxuXG5TaSB2b3VzIHJlbmNvbnRyZXogdG91am91cnMgZGVzIHByb2Jsw6htZXMgYXZlYyBcIkNhbm5vdCByZXNvbHZlIHN5bWJvbCAnamF2YWZ4J1wiLCB2b2ljaSBxdWVscXVlcyDDqXRhcGVzIHN1cHBsw6ltZW50YWlyZXMgc3DDqWNpZmlxdWVzIMOgIHZvdHJlIElERSA6XG5cbiMjIyBQb3VyIEludGVsbGlKIElERUEgOlxuXG4xLiAqKlJlY2hhcmdlciBsZSBwcm9qZXQgTWF2ZW4qKiA6XG4gICAtIENsaXF1ZXogc3VyIGwnaWPDtG5lIE1hdmVuIGRhbnMgbGEgYmFycmUgbGF0w6lyYWxlIGRyb2l0ZVxuICAgLSBDbGlxdWV6IHN1ciBsJ2ljw7RuZSBcIlJlbG9hZCBBbGwgTWF2ZW4gUHJvamVjdHNcIiAoaWPDtG5lIGRlIHJhZnJhw65jaGlzc2VtZW50KVxuXG4yLiAqKkludmFsaWRlciBsZXMgY2FjaGVzIGV0IHJlZMOpbWFycmVyKiogOlxuICAgLSBGaWxlID4gSW52YWxpZGF0ZSBDYWNoZXMgLyBSZXN0YXJ0Li4uXG4gICAtIFPDqWxlY3Rpb25uZXogXCJJbnZhbGlkYXRlIGFuZCBSZXN0YXJ0XCJcblxuMy4gKipWw6lyaWZpZXIgbGEgY29uZmlndXJhdGlvbiBkdSBtb2R1bGUqKiA6XG4gICAtIEZpbGUgPiBQcm9qZWN0IFN0cnVjdHVyZSA+IE1vZHVsZXNcbiAgIC0gQXNzdXJlei12b3VzIHF1ZSBsZXMgZMOpcGVuZGFuY2VzIEphdmFGWCBzb250IGJpZW4gcHLDqXNlbnRlcyBkYW5zIGwnb25nbGV0IFwiRGVwZW5kZW5jaWVzXCJcblxuNC4gKipBam91dGVyIG1hbnVlbGxlbWVudCBsZXMgZMOpcGVuZGFuY2VzIEphdmFGWCoqIDpcbiAgIC0gRmlsZSA+IFByb2plY3QgU3RydWN0dXJlID4gTGlicmFyaWVzID4gKyA+IEZyb20gTWF2ZW5cbiAgIC0gUmVjaGVyY2hleiBcIm9yZy5vcGVuamZ4OmphdmFmeC1jb250cm9sczoxNy4wLjZcIiBldCBham91dGV6LWxlXG4gICAtIFLDqXDDqXRleiBwb3VyIGxlcyBhdXRyZXMgbW9kdWxlcyBKYXZhRlggKGZ4bWwsIGdyYXBoaWNzLCBtZWRpYSwgc3dpbmcpXG5cbiMjIyBQb3VyIEVjbGlwc2UgOlxuXG4xLiAqKk1ldHRyZSDDoCBqb3VyIGxlIHByb2pldCBNYXZlbioqIDpcbiAgIC0gQ2xpYyBkcm9pdCBzdXIgbGUgcHJvamV0ID4gTWF2ZW4gPiBVcGRhdGUgUHJvamVjdC4uLlxuICAgLSBDb2NoZXogXCJGb3JjZSBVcGRhdGUgb2YgU25hcHNob3RzL1JlbGVhc2VzXCJcbiAgIC0gQ2xpcXVleiBzdXIgXCJPS1wiXG5cbjIuICoqTmV0dG95ZXIgbGUgcHJvamV0KiogOlxuICAgLSBQcm9qZWN0ID4gQ2xlYW4uLi5cbiAgIC0gU8OpbGVjdGlvbm5leiB2b3RyZSBwcm9qZXQgZXQgY2xpcXVleiBzdXIgXCJPS1wiXG5cbjMuICoqSW5zdGFsbGVyIGxlIHBsdWdpbiBlKGZ4KWNsaXBzZSoqIDpcbiAgIC0gSGVscCA+IEVjbGlwc2UgTWFya2V0cGxhY2UuLi5cbiAgIC0gUmVjaGVyY2hleiBcImUoZngpY2xpcHNlXCIgZXQgaW5zdGFsbGV6LWxlXG4gICAtIFJlZMOpbWFycmV6IEVjbGlwc2VcblxuNC4gKipDb25maWd1cmVyIGxlIGNsYXNzcGF0aCBtYW51ZWxsZW1lbnQqKiA6XG4gICAtIENsaWMgZHJvaXQgc3VyIGxlIHByb2pldCA+IFByb3BlcnRpZXMgPiBKYXZhIEJ1aWxkIFBhdGggPiBMaWJyYXJpZXNcbiAgIC0gQ2xpcXVleiBzdXIgXCJBZGQgRXh0ZXJuYWwgSkFScy4uLlwiXG4gICAtIE5hdmlndWV6IHZlcnMgbGUgZG9zc2llciBvw7kgbGVzIEpBUiBKYXZhRlggc29udCBpbnN0YWxsw6lzIChnw6luw6lyYWxlbWVudCBkYW5zIGxlIGRvc3NpZXIgLm0yL3JlcG9zaXRvcnkvb3JnL29wZW5qZngvKVxuICAgLSBBam91dGV6IHRvdXMgbGVzIEpBUiBKYXZhRlggbsOpY2Vzc2FpcmVzXG5cbiMjIyBQb3VyIFZTIENvZGUgOlxuXG4xLiAqKkluc3RhbGxlciBsJ2V4dGVuc2lvbiBKYXZhIFBhY2sqKiA6XG4gICAtIENsaXF1ZXogc3VyIGwnaWPDtG5lIEV4dGVuc2lvbnMgZGFucyBsYSBiYXJyZSBsYXTDqXJhbGVcbiAgIC0gUmVjaGVyY2hleiBcIkphdmEgRXh0ZW5zaW9uIFBhY2tcIiBldCBpbnN0YWxsZXotbGVcblxuMi4gKipJbnN0YWxsZXIgbCdleHRlbnNpb24gTWF2ZW4qKiA6XG4gICAtIFJlY2hlcmNoZXogXCJNYXZlbiBmb3IgSmF2YVwiIGV0IGluc3RhbGxlei1sZVxuXG4zLiAqKlJlY2hhcmdlciBsYSBmZW7DqnRyZSoqIDpcbiAgIC0gQ3RybCtTaGlmdCtQIChvdSBDbWQrU2hpZnQrUCBzdXIgTWFjKVxuICAgLSBUYXBleiBcIlJlbG9hZCBXaW5kb3dcIiBldCBzw6lsZWN0aW9ubmV6IGNldHRlIG9wdGlvblxuXG40LiAqKk5ldHRveWVyIGxlIGNhY2hlIE1hdmVuKiogOlxuICAgLSBPdXZyZXogdW4gdGVybWluYWwgZGFucyBWUyBDb2RlXG4gICAtIEV4w6ljdXRleiBgbXZuIGNsZWFuYFxuICAgLSBQdWlzIGV4w6ljdXRleiBgbXZuIGNvbXBpbGVgXG5cblNpIGNlcyDDqXRhcGVzIG5lIHLDqXNvbHZlbnQgcGFzIGxlIHByb2Jsw6htZSwgdm91cyBwb3V2ZXogZXNzYXllciB1bmUgYXBwcm9jaGUgcGx1cyBkaXJlY3RlIGVuIHV0aWxpc2FudCBsZSBwbHVnaW4gSmF2YUZYIE1hdmVuIHBvdXIgZXjDqWN1dGVyIHZvdHJlIGFwcGxpY2F0aW9uIDpcblxuYGBgYmFzaFxubXZuIGNsZWFuIGphdmFmeDpydW5cbmBgYFxuXG5DZXR0ZSBjb21tYW5kZSBkZXZyYWl0IHTDqWzDqWNoYXJnZXIgdG91dGVzIGxlcyBkw6lwZW5kYW5jZXMgbsOpY2Vzc2FpcmVzIGV0IGV4w6ljdXRlciB2b3RyZSBhcHBsaWNhdGlvbiBKYXZhRlggc2FucyBhdm9pciBiZXNvaW4gZGUgY29uZmlndXJlciBtYW51ZWxsZW1lbnQgcXVvaSBxdWUgY2Ugc29pdCBkYW5zIHZvdHJlIElERS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gcG9tLnhtbDpcbiAgICAyNlx0ICAgICAgICA8IS0tIEphdmFGWCBEZXBlbmRlbmNpZXMgLS0+XG4gICAgMjdcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMjhcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDI5XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtY29udHJvbHM8L2FydGlmYWN0SWQ+XG4gICAgMzBcdCAgICAgICAgICAgIDx2ZXJzaW9uPiR7amF2YWZ4LnZlcnNpb259PC92ZXJzaW9uPlxuICAgIDMxXHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICAzMlx0ICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICAzM1x0ICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgMzRcdCAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1meG1sPC9hcnRpZmFjdElkPlxuICAgIDM1XHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICAzNlx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgMzdcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMzhcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDM5XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtZ3JhcGhpY3M8L2FydGlmYWN0SWQ+XG4gICAgNDBcdCAgICAgICAgICAgIDx2ZXJzaW9uPiR7amF2YWZ4LnZlcnNpb259PC92ZXJzaW9uPlxuICAgIDQxXHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICA0Mlx0ICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICA0M1x0ICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgNDRcdCAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tZWRpYTwvYXJ0aWZhY3RJZD5cbiAgICA0NVx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgNDZcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDQ3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDQ4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICA0OVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LXN3aW5nPC9hcnRpZmFjdElkPlxuICAgIDUwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICA1MVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA4N1xuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSkRzTmdOTUdmVVlKRVNnQjlBaERkYyJ9fV0sInJlc3BvbnNlX3RleHQiOiJQYXJmYWl0ICEgTGEgdmVyc2lvbiBkZSBKYXZhRlggZXN0IGJpZW4gY29uZmlndXLDqWUgw6AgMTcuMC42IGRhbnMgbGUgZmljaGllciBwb20ueG1sLiBcblxuU2kgdm91cyByZW5jb250cmV6IHRvdWpvdXJzIGRlcyBwcm9ibMOobWVzIGF2ZWMgXCJDYW5ub3QgcmVzb2x2ZSBzeW1ib2wgJ2phdmFmeCdcIiwgdm9pY2kgcXVlbHF1ZXMgw6l0YXBlcyBzdXBwbMOpbWVudGFpcmVzIHNww6ljaWZpcXVlcyDDoCB2b3RyZSBJREUgOlxuXG4jIyMgUG91ciBJbnRlbGxpSiBJREVBIDpcblxuMS4gKipSZWNoYXJnZXIgbGUgcHJvamV0IE1hdmVuKiogOlxuICAgLSBDbGlxdWV6IHN1ciBsJ2ljw7RuZSBNYXZlbiBkYW5zIGxhIGJhcnJlIGxhdMOpcmFsZSBkcm9pdGVcbiAgIC0gQ2xpcXVleiBzdXIgbCdpY8O0bmUgXCJSZWxvYWQgQWxsIE1hdmVuIFByb2plY3RzXCIgKGljw7RuZSBkZSByYWZyYcOuY2hpc3NlbWVudClcblxuMi4gKipJbnZhbGlkZXIgbGVzIGNhY2hlcyBldCByZWTDqW1hcnJlcioqIDpcbiAgIC0gRmlsZSA+IEludmFsaWRhdGUgQ2FjaGVzIC8gUmVzdGFydC4uLlxuICAgLSBTw6lsZWN0aW9ubmV6IFwiSW52YWxpZGF0ZSBhbmQgUmVzdGFydFwiXG5cbjMuICoqVsOpcmlmaWVyIGxhIGNvbmZpZ3VyYXRpb24gZHUgbW9kdWxlKiogOlxuICAgLSBGaWxlID4gUHJvamVjdCBTdHJ1Y3R1cmUgPiBNb2R1bGVzXG4gICAtIEFzc3VyZXotdm91cyBxdWUgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlggc29udCBiaWVuIHByw6lzZW50ZXMgZGFucyBsJ29uZ2xldCBcIkRlcGVuZGVuY2llc1wiXG5cbjQuICoqQWpvdXRlciBtYW51ZWxsZW1lbnQgbGVzIGTDqXBlbmRhbmNlcyBKYXZhRlgqKiA6XG4gICAtIEZpbGUgPiBQcm9qZWN0IFN0cnVjdHVyZSA+IExpYnJhcmllcyA+ICsgPiBGcm9tIE1hdmVuXG4gICAtIFJlY2hlcmNoZXogXCJvcmcub3BlbmpmeDpqYXZhZngtY29udHJvbHM6MTcuMC42XCIgZXQgYWpvdXRlei1sZVxuICAgLSBSw6lww6l0ZXogcG91ciBsZXMgYXV0cmVzIG1vZHVsZXMgSmF2YUZYIChmeG1sLCBncmFwaGljcywgbWVkaWEsIHN3aW5nKVxuXG4jIyMgUG91ciBFY2xpcHNlIDpcblxuMS4gKipNZXR0cmUgw6Agam91ciBsZSBwcm9qZXQgTWF2ZW4qKiA6XG4gICAtIENsaWMgZHJvaXQgc3VyIGxlIHByb2pldCA+IE1hdmVuID4gVXBkYXRlIFByb2plY3QuLi5cbiAgIC0gQ29jaGV6IFwiRm9yY2UgVXBkYXRlIG9mIFNuYXBzaG90cy9SZWxlYXNlc1wiXG4gICAtIENsaXF1ZXogc3VyIFwiT0tcIlxuXG4yLiAqKk5ldHRveWVyIGxlIHByb2pldCoqIDpcbiAgIC0gUHJvamVjdCA+IENsZWFuLi4uXG4gICAtIFPDqWxlY3Rpb25uZXogdm90cmUgcHJvamV0IGV0IGNsaXF1ZXogc3VyIFwiT0tcIlxuXG4zLiAqKkluc3RhbGxlciBsZSBwbHVnaW4gZShmeCljbGlwc2UqKiA6XG4gICAtIEhlbHAgPiBFY2xpcHNlIE1hcmtldHBsYWNlLi4uXG4gICAtIFJlY2hlcmNoZXogXCJlKGZ4KWNsaXBzZVwiIGV0IGluc3RhbGxlei1sZVxuICAgLSBSZWTDqW1hcnJleiBFY2xpcHNlXG5cbjQuICoqQ29uZmlndXJlciBsZSBjbGFzc3BhdGggbWFudWVsbGVtZW50KiogOlxuICAgLSBDbGljIGRyb2l0IHN1ciBsZSBwcm9qZXQgPiBQcm9wZXJ0aWVzID4gSmF2YSBCdWlsZCBQYXRoID4gTGlicmFyaWVzXG4gICAtIENsaXF1ZXogc3VyIFwiQWRkIEV4dGVybmFsIEpBUnMuLi5cIlxuICAgLSBOYXZpZ3VleiB2ZXJzIGxlIGRvc3NpZXIgb8O5IGxlcyBKQVIgSmF2YUZYIHNvbnQgaW5zdGFsbMOpcyAoZ8OpbsOpcmFsZW1lbnQgZGFucyBsZSBkb3NzaWVyIC5tMi9yZXBvc2l0b3J5L29yZy9vcGVuamZ4LylcbiAgIC0gQWpvdXRleiB0b3VzIGxlcyBKQVIgSmF2YUZYIG7DqWNlc3NhaXJlc1xuXG4jIyMgUG91ciBWUyBDb2RlIDpcblxuMS4gKipJbnN0YWxsZXIgbCdleHRlbnNpb24gSmF2YSBQYWNrKiogOlxuICAgLSBDbGlxdWV6IHN1ciBsJ2ljw7RuZSBFeHRlbnNpb25zIGRhbnMgbGEgYmFycmUgbGF0w6lyYWxlXG4gICAtIFJlY2hlcmNoZXogXCJKYXZhIEV4dGVuc2lvbiBQYWNrXCIgZXQgaW5zdGFsbGV6LWxlXG5cbjIuICoqSW5zdGFsbGVyIGwnZXh0ZW5zaW9uIE1hdmVuKiogOlxuICAgLSBSZWNoZXJjaGV6IFwiTWF2ZW4gZm9yIEphdmFcIiBldCBpbnN0YWxsZXotbGVcblxuMy4gKipSZWNoYXJnZXIgbGEgZmVuw6p0cmUqKiA6XG4gICAtIEN0cmwrU2hpZnQrUCAob3UgQ21kK1NoaWZ0K1Agc3VyIE1hYylcbiAgIC0gVGFwZXogXCJSZWxvYWQgV2luZG93XCIgZXQgc8OpbGVjdGlvbm5leiBjZXR0ZSBvcHRpb25cblxuNC4gKipOZXR0b3llciBsZSBjYWNoZSBNYXZlbioqIDpcbiAgIC0gT3V2cmV6IHVuIHRlcm1pbmFsIGRhbnMgVlMgQ29kZVxuICAgLSBFeMOpY3V0ZXogYG12biBjbGVhbmBcbiAgIC0gUHVpcyBleMOpY3V0ZXogYG12biBjb21waWxlYFxuXG5TaSBjZXMgw6l0YXBlcyBuZSByw6lzb2x2ZW50IHBhcyBsZSBwcm9ibMOobWUsIHZvdXMgcG91dmV6IGVzc2F5ZXIgdW5lIGFwcHJvY2hlIHBsdXMgZGlyZWN0ZSBlbiB1dGlsaXNhbnQgbGUgcGx1Z2luIEphdmFGWCBNYXZlbiBwb3VyIGV4w6ljdXRlciB2b3RyZSBhcHBsaWNhdGlvbiA6XG5cbmBgYGJhc2hcbm12biBjbGVhbiBqYXZhZng6cnVuXG5gYGBcblxuQ2V0dGUgY29tbWFuZGUgZGV2cmFpdCB0w6lsw6ljaGFyZ2VyIHRvdXRlcyBsZXMgZMOpcGVuZGFuY2VzIG7DqWNlc3NhaXJlcyBldCBleMOpY3V0ZXIgdm90cmUgYXBwbGljYXRpb24gSmF2YUZYIHNhbnMgYXZvaXIgYmVzb2luIGRlIGNvbmZpZ3VyZXIgbWFudWVsbGVtZW50IHF1b2kgcXVlIGNlIHNvaXQgZGFucyB2b3RyZSBJREUuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6ImNhbmNlbGxlZCIsInJlcXVlc3RfaWQiOiJ0ZW1wLWZlLTk1YTk2NjVmLTQ4OTktNGNmNS04YjA5LWY4ZDIwODJjNDhkMCIsInJlcXVlc3RfbWVzc2FnZSI6ImNlc3QgcGFzIGV2aWRlbnQgZGUgZmFpcmUgbGVzIHJlcXVldGUgZGUgbGEgYmFzZSBkYW5zIGxlIGNvbnRyb2xsZXJcblxuXG5cblxuIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImNlc3QgcGFzIGV2aWRlbnQgZGUgZmFpcmUgbGVzIHJlcXVldGUgZGUgbGEgYmFzZSBkYW5zIGxlIGNvbnRyb2xsZXIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJoYXJkQnJlYWsifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiYzQ2NmZmOTgtMjQ2Ny00Y2RjLWJmYjEtMWNjNTIwNzU0NzFjIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIzN2EwN2E4Zi0wZDJkLTQ1OTAtOTg1Zi0xMmI4YWI2YzA0ZjMiLCJyZXF1ZXN0X21lc3NhZ2UiOiJjZXN0IHBhcyBldmlkZW50IGRlIGZhaXJlIGxlcyByZXF1ZXRlIGRlIGxhIGJhc2UgZGFucyBsZSBjb250cm9sbGVyXG5qZSB2ZXV4IG9yZ2FuaXNlciBsZSB0cmF2YWlsIGVudHJlIGxlIGNvbnRyb2xsZXIgZXQgbGUgc2VydmljZVxuXG5cbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJjZXN0IHBhcyBldmlkZW50IGRlIGZhaXJlIGxlcyByZXF1ZXRlIGRlIGxhIGJhc2UgZGFucyBsZSBjb250cm9sbGVyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJqZSB2ZXV4IG9yZ2FuaXNlciBsZSB0cmF2YWlsIGVudHJlIGxlIGNvbnRyb2xsZXIgZXQgbGUgc2VydmljZSJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS3NKY0g2ZVBYcDg3aFJWdzhCVXViMSIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3NlcnZpY2VzL0F1dGhTZXJ2aWNlLmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIHNlcnZpY2VzO1xcblxcbmltcG9ydCBlbnRpdGllcy5Vc2VyO1xcbmltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XFxuXFxuLyoqXFxuICogU2VydmljZSBwb3VyIGdcXHUwMGU5cmVyIGwnYXV0aGVudGlmaWNhdGlvbiBkZXMgdXRpbGlzYXRldXJzXFxuICovXFxucHVibGljIGNsYXNzIEF1dGhTZXJ2aWNlIHtcXG4gICAgcHJpdmF0ZSBzdGF0aWMgQXV0aFNlcnZpY2UgaW5zdGFuY2U7XFxuICAgIHByaXZhdGUgZmluYWwgQ29ubmVjdGlvbiBjb25uZWN0aW9uO1xcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIHByaXZcXHUwMGU5IHBvdXIgbGUgcGF0dGVybiBTaW5nbGV0b25cXG4gICAgICovXFxuICAgIHByaXZhdGUgQXV0aFNlcnZpY2UoKSB7XFxuICAgICAgICBjb25uZWN0aW9uID0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogT2J0ZW5pciBsJ2luc3RhbmNlIHVuaXF1ZSBkdSBzZXJ2aWNlXFxuICAgICAqIEByZXR1cm4gTCdpbnN0YW5jZSBkdSBzZXJ2aWNlXFxuICAgICAqL1xcbiAgICBwdWJsaWMgc3RhdGljIEF1dGhTZXJ2aWNlIGdldEluc3RhbmNlKCkge1xcbiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcXG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBBdXRoU2VydmljZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBBdXRoZW50aWZpZXIgdW4gdXRpbGlzYXRldXIgYXZlYyBzb24gZW1haWwgZXQgc29uIG1vdCBkZSBwYXNzZVxcbiAgICAgKiBAcGFyYW0gZW1haWwgRW1haWwgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmQgTW90IGRlIHBhc3NlIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICogQHJldHVybiBMJ3V0aWxpc2F0ZXVyIGF1dGhlbnRpZmlcXHUwMGU5IG91IG51bGwgc2kgbCdhdXRoZW50aWZpY2F0aW9uIFxcdTAwZTljaG91ZVxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgVXNlciBsb2dpbihTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gPyBBTkQgcGFzc3dvcmQgPSA/XFxcIjtcXG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMSwgZW1haWwpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMiwgcGFzc3dvcmQpOyAvLyBOb3RlOiBEYW5zIHVuZSBhcHBsaWNhdGlvbiByXFx1MDBlOWVsbGUsIGlsIGZhdWRyYWl0IGhhY2hlciBsZSBtb3QgZGUgcGFzc2VcXG5cXG4gICAgICAgICAgICB0cnkgKFJlc3VsdFNldCByZXN1bHRTZXQgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KCkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFNldC5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIC8vIENyXFx1MDBlOWVyIHVuIG9iamV0IFVzZXIgYXZlYyBsZXMgZG9ublxcdTAwZTllcyBkZSBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgICAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XFxuICAgICAgICAgICAgICAgICAgICB1c2VyLnNldElkKHJlc3VsdFNldC5nZXRJbnQoXFxcImlkXFxcIikpO1xcbiAgICAgICAgICAgICAgICAgICAgdXNlci5zZXROb20ocmVzdWx0U2V0LmdldFN0cmluZyhcXFwibm9tXFxcIikpO1xcbiAgICAgICAgICAgICAgICAgICAgdXNlci5zZXRQcmVub20ocmVzdWx0U2V0LmdldFN0cmluZyhcXFwicHJlbm9tXFxcIikpO1xcbiAgICAgICAgICAgICAgICAgICAgdXNlci5zZXRFbWFpbChyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJlbWFpbFxcXCIpKTtcXG4gICAgICAgICAgICAgICAgICAgIHVzZXIuc2V0QWRyZXNzZShyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJhZHJlc3NlXFxcIikpO1xcbiAgICAgICAgICAgICAgICAgICAgdXNlci5zZXRUZWxlcGhvbmUocmVzdWx0U2V0LmdldFN0cmluZyhcXFwidGVsZXBob25lXFxcIikpO1xcbiAgICAgICAgICAgICAgICAgICAgdXNlci5zZXRWZXJpZmllZChyZXN1bHRTZXQuZ2V0Qm9vbGVhbihcXFwiaXNfdmVyaWZpZWRcXFwiKSk7XFxuICAgICAgICAgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQocmVzdWx0U2V0LmdldFRpbWVzdGFtcChcXFwiY3JlYXRlZF9hdFxcXCIpKTtcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RvY2tlciBsJ3V0aWxpc2F0ZXVyIGRhbnMgbGEgc2Vzc2lvblxcbiAgICAgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBudWxsO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBFbnJlZ2lzdHJlciB1biBub3V2ZWwgdXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHVzZXIgTCd1dGlsaXNhdGV1ciBcXHUwMGUwIGVucmVnaXN0cmVyXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyB2b2lkIHJlZ2lzdGVyKFVzZXIgdXNlcikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiSU5TRVJUIElOVE8gdXNlciAobm9tLCBwcmVub20sIGVtYWlsLCBwYXNzd29yZCwgYWRyZXNzZSwgdGVsZXBob25lLCBpc192ZXJpZmllZCwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIHVzZXIuZ2V0Tm9tKCkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMiwgdXNlci5nZXRQcmVub20oKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygzLCB1c2VyLmdldEVtYWlsKCkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoNCwgdXNlci5nZXRQYXNzd29yZCgpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDUsIHVzZXIuZ2V0QWRyZXNzZSgpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDYsIHVzZXIuZ2V0VGVsZXBob25lKCkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRCb29sZWFuKDcsIHVzZXIuaXNWZXJpZmllZCgpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0VGltZXN0YW1wKDgsIHVzZXIuZ2V0Q3JlYXRlZF9hdCgpKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBWXFx1MDBlOXJpZmllciBzaSB1biBlbWFpbCBleGlzdGUgZFxcdTAwZTlqXFx1MDBlMCBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgKiBAcGFyYW0gZW1haWwgTCdlbWFpbCBcXHUwMGUwIHZcXHUwMGU5cmlmaWVyXFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSBsJ2VtYWlsIGV4aXN0ZSwgZmFsc2Ugc2lub25cXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIGJvb2xlYW4gZW1haWxFeGlzdHMoU3RyaW5nIGVtYWlsKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1QgQ09VTlQoKikgRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gP1xcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB0cnkgKFJlc3VsdFNldCByZXN1bHRTZXQgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KCkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFNldC5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRTZXQuZ2V0SW50KDEpID4gMDtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBWXFx1MDBlOXJpZmllciBzaSB1biBudW1cXHUwMGU5cm8gZGUgdFxcdTAwZTlsXFx1MDBlOXBob25lIGV4aXN0ZSBkXFx1MDBlOWpcXHUwMGUwIGRhbnMgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAqIEBwYXJhbSB0ZWxlcGhvbmUgTGUgbnVtXFx1MDBlOXJvIGRlIHRcXHUwMGU5bFxcdTAwZTlwaG9uZSBcXHUwMGUwIHZcXHUwMGU5cmlmaWVyXFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSBsZSB0XFx1MDBlOWxcXHUwMGU5cGhvbmUgZXhpc3RlLCBmYWxzZSBzaW5vblxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgYm9vbGVhbiB0ZWxlcGhvbmVFeGlzdHMoU3RyaW5nIHRlbGVwaG9uZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUIENPVU5UKCopIEZST00gdXNlciBXSEVSRSB0ZWxlcGhvbmUgPSA/XFxcIjtcXG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMSwgdGVsZXBob25lKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB0cnkgKFJlc3VsdFNldCByZXN1bHRTZXQgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KCkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFNldC5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRTZXQuZ2V0SW50KDEpID4gMDtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBEXFx1MDBlOWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xcbiAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5sb2dvdXQoKTtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlZvdXMgYXZleiB0b3V0IMOgIGZhaXQgcmFpc29uLiBJbCBlc3QgcHLDqWbDqXJhYmxlIGRlIHPDqXBhcmVyIGxhIGxvZ2lxdWUgbcOpdGllciAoc2VydmljZXMpIGRlIGxhIGxvZ2lxdWUgZGUgcHLDqXNlbnRhdGlvbiAoY29udHLDtGxldXJzKSBwb3VyIHVuZSBtZWlsbGV1cmUgb3JnYW5pc2F0aW9uIGR1IGNvZGUuIFZvaWNpIGNvbW1lbnQgbm91cyBwb3V2b25zIHJlc3RydWN0dXJlciBsZSBwcm9qZXQgZW4gc3VpdmFudCBsZSBtb2TDqGxlIE1WQyAoTW9kw6hsZS1WdWUtQ29udHLDtGxldXIpIDpcblxuMS4gKipNb2TDqGxlKiogOiBMZXMgZW50aXTDqXMgKFVzZXIsIEV2ZW50LCBldGMuKVxuMi4gKipWdWUqKiA6IExlcyBmaWNoaWVycyBGWE1MXG4zLiAqKkNvbnRyw7RsZXVyKiogOiBMZXMgY29udHLDtGxldXJzIEphdmFGWFxuNC4gKipTZXJ2aWNlKiogOiBMYSBsb2dpcXVlIG3DqXRpZXIgZXQgbGVzIGludGVyYWN0aW9ucyBhdmVjIGxhIGJhc2UgZGUgZG9ubsOpZXNcblxuQ29tbWVuw6dvbnMgcGFyIGNyw6llciB1biBzZXJ2aWNlIHBvdXIgbCdhdXRoZW50aWZpY2F0aW9uIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInJlc3BvbnNlX3RleHQiOiJWb3VzIGF2ZXogdG91dCDDoCBmYWl0IHJhaXNvbi4gSWwgZXN0IHByw6lmw6lyYWJsZSBkZSBzw6lwYXJlciBsYSBsb2dpcXVlIG3DqXRpZXIgKHNlcnZpY2VzKSBkZSBsYSBsb2dpcXVlIGRlIHByw6lzZW50YXRpb24gKGNvbnRyw7RsZXVycykgcG91ciB1bmUgbWVpbGxldXJlIG9yZ2FuaXNhdGlvbiBkdSBjb2RlLiBWb2ljaSBjb21tZW50IG5vdXMgcG91dm9ucyByZXN0cnVjdHVyZXIgbGUgcHJvamV0IGVuIHN1aXZhbnQgbGUgbW9kw6hsZSBNVkMgKE1vZMOobGUtVnVlLUNvbnRyw7RsZXVyKSA6XG5cbjEuICoqTW9kw6hsZSoqIDogTGVzIGVudGl0w6lzIChVc2VyLCBFdmVudCwgZXRjLilcbjIuICoqVnVlKiogOiBMZXMgZmljaGllcnMgRlhNTFxuMy4gKipDb250csO0bGV1cioqIDogTGVzIGNvbnRyw7RsZXVycyBKYXZhRlhcbjQuICoqU2VydmljZSoqIDogTGEgbG9naXF1ZSBtw6l0aWVyIGV0IGxlcyBpbnRlcmFjdGlvbnMgYXZlYyBsYSBiYXNlIGRlIGRvbm7DqWVzXG5cbkNvbW1lbsOnb25zIHBhciBjcsOpZXIgdW4gc2VydmljZSBwb3VyIGwnYXV0aGVudGlmaWNhdGlvbiA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjM0NTAwODQtMWU5ZC00MWNhLTllNzctMzg0MTNhYzEyZTVjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU1o5ZDh2SEVOZTQ1QnE1QkxScDltSyIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3NlcnZpY2VzL0V2ZW50U2VydmljZS5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBzZXJ2aWNlcztcXG5cXG5pbXBvcnQgZW50aXRpZXMuRXZlbnQ7XFxuaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XFxuXFxuaW1wb3J0IGphdmEuc3FsLio7XFxuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XFxuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcblxcbi8qKlxcbiAqIFNlcnZpY2UgcG91ciBnXFx1MDBlOXJlciBsZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcbiAqL1xcbnB1YmxpYyBjbGFzcyBFdmVudFNlcnZpY2Uge1xcbiAgICBwcml2YXRlIHN0YXRpYyBFdmVudFNlcnZpY2UgaW5zdGFuY2U7XFxuICAgIHByaXZhdGUgZmluYWwgQ29ubmVjdGlvbiBjb25uZWN0aW9uO1xcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIHByaXZcXHUwMGU5IHBvdXIgbGUgcGF0dGVybiBTaW5nbGV0b25cXG4gICAgICovXFxuICAgIHByaXZhdGUgRXZlbnRTZXJ2aWNlKCkge1xcbiAgICAgICAgY29ubmVjdGlvbiA9IE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE9idGVuaXIgbCdpbnN0YW5jZSB1bmlxdWUgZHUgc2VydmljZVxcbiAgICAgKiBAcmV0dXJuIEwnaW5zdGFuY2UgZHUgc2VydmljZVxcbiAgICAgKi9cXG4gICAgcHVibGljIHN0YXRpYyBFdmVudFNlcnZpY2UgZ2V0SW5zdGFuY2UoKSB7XFxuICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IEV2ZW50U2VydmljZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBBam91dGVyIHVuIG5vdXZlbCBcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIGV2ZW50IEwnXFx1MDBlOXZcXHUwMGU5bmVtZW50IFxcdTAwZTAgYWpvdXRlclxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgdm9pZCBhZGRFdmVudChFdmVudCBldmVudCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiSU5TRVJUIElOVE8gZXZlbnQgKG9yZ2FuaXNlcl9pZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBkYXRlX2RlYnV0LCBkYXRlX2ZpbiwgbWF4X3BhcnRpY2lwYW50cywgc3RhdHVzLCBpbWFnZSkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0SW50KDEsIGV2ZW50LmdldE9yZ2FuaXNlcigpLmdldElkKCkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMiwgZXZlbnQuZ2V0VGl0bGUoKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygzLCBldmVudC5nZXREZXNjcmlwdGlvbigpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0VGltZXN0YW1wKDQsIG5ldyBUaW1lc3RhbXAoZXZlbnQuZ2V0RGF0ZV9kZWJ1dCgpLmdldFRpbWUoKSkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRUaW1lc3RhbXAoNSwgbmV3IFRpbWVzdGFtcChldmVudC5nZXREYXRlX2ZpbigpLmdldFRpbWUoKSkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRJbnQoNiwgZXZlbnQuZ2V0TWF4X3BhcnRpY2lwYW50cygpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDcsIGV2ZW50LmdldFN0YXR1cygpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDgsIGV2ZW50LmdldEltYWdlKCkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gUlxcdTAwZTljdXBcXHUwMGU5cmVyIGwnSUQgZ1xcdTAwZTluXFx1MDBlOXJcXHUwMGU5XFxuICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgZ2VuZXJhdGVkS2V5cyA9IHN0YXRlbWVudC5nZXRHZW5lcmF0ZWRLZXlzKCkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKGdlbmVyYXRlZEtleXMubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICBldmVudC5zZXRJZChnZW5lcmF0ZWRLZXlzLmdldEludCgxKSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE1ldHRyZSBcXHUwMGUwIGpvdXIgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50IGV4aXN0YW50XFxuICAgICAqIEBwYXJhbSBldmVudCBMJ1xcdTAwZTl2XFx1MDBlOW5lbWVudCBcXHUwMGUwIG1ldHRyZSBcXHUwMGUwIGpvdXJcXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgdXBkYXRlRXZlbnQoRXZlbnQgZXZlbnQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlVQREFURSBldmVudCBTRVQgdGl0bGUgPSA/LCBkZXNjcmlwdGlvbiA9ID8sIGRhdGVfZGVidXQgPSA/LCBkYXRlX2ZpbiA9ID8sIG1heF9wYXJ0aWNpcGFudHMgPSA/LCBzdGF0dXMgPSA/LCBpbWFnZSA9ID8gV0hFUkUgaWQgPSA/XFxcIjtcXG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMSwgZXZlbnQuZ2V0VGl0bGUoKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygyLCBldmVudC5nZXREZXNjcmlwdGlvbigpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0VGltZXN0YW1wKDMsIG5ldyBUaW1lc3RhbXAoZXZlbnQuZ2V0RGF0ZV9kZWJ1dCgpLmdldFRpbWUoKSkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRUaW1lc3RhbXAoNCwgbmV3IFRpbWVzdGFtcChldmVudC5nZXREYXRlX2ZpbigpLmdldFRpbWUoKSkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRJbnQoNSwgZXZlbnQuZ2V0TWF4X3BhcnRpY2lwYW50cygpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDYsIGV2ZW50LmdldFN0YXR1cygpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDcsIGV2ZW50LmdldEltYWdlKCkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRJbnQoOCwgZXZlbnQuZ2V0SWQoKSk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgc3RhdGVtZW50LmV4ZWN1dGVVcGRhdGUoKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogU3VwcHJpbWVyIHVuIFxcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcGFyYW0gZXZlbnRJZCBMJ0lEIGRlIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50IFxcdTAwZTAgc3VwcHJpbWVyXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyB2b2lkIGRlbGV0ZUV2ZW50KGludCBldmVudElkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJERUxFVEUgRlJPTSBldmVudCBXSEVSRSBpZCA9ID9cXFwiO1xcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgxLCBldmVudElkKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50IHBhciBzb24gSURcXG4gICAgICogQHBhcmFtIGV2ZW50SWQgTCdJRCBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcmV0dXJuIEwnXFx1MDBlOXZcXHUwMGU5bmVtZW50IG91IG51bGwgcydpbCBuJ2V4aXN0ZSBwYXNcXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIEV2ZW50IGdldEV2ZW50QnlJZChpbnQgZXZlbnRJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUIGUuKiwgdS5pZCBhcyB1c2VyX2lkLCB1Lm5vbSwgdS5wcmVub20sIHUuZW1haWwgRlJPTSBldmVudCBlIEpPSU4gdXNlciB1IE9OIGUub3JnYW5pc2VyX2lkID0gdS5pZCBXSEVSRSBlLmlkID0gP1xcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0SW50KDEsIGV2ZW50SWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJlc3VsdFNldCA9IHN0YXRlbWVudC5leGVjdXRlUXVlcnkoKSkge1xcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0U2V0Lm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUV2ZW50RnJvbVJlc3VsdFNldChyZXN1bHRTZXQpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogUlxcdTAwZTljdXBcXHUwMGU5cmVyIHRvdXMgbGVzIFxcdTAwZTl2XFx1MDBlOW5lbWVudHNcXG4gICAgICogQHJldHVybiBMYSBsaXN0ZSBkZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgTGlzdDxFdmVudD4gZ2V0QWxsRXZlbnRzKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBMaXN0PEV2ZW50PiBldmVudHMgPSBuZXcgQXJyYXlMaXN0PD4oKTtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1QgZS4qLCB1LmlkIGFzIHVzZXJfaWQsIHUubm9tLCB1LnByZW5vbSwgdS5lbWFpbCBGUk9NIGV2ZW50IGUgSk9JTiB1c2VyIHUgT04gZS5vcmdhbmlzZXJfaWQgPSB1LmlkXFxcIjtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IChTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5jcmVhdGVTdGF0ZW1lbnQoKTtcXG4gICAgICAgICAgICAgUmVzdWx0U2V0IHJlc3VsdFNldCA9IHN0YXRlbWVudC5leGVjdXRlUXVlcnkocXVlcnkpKSB7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgd2hpbGUgKHJlc3VsdFNldC5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgZXZlbnRzLmFkZChjcmVhdGVFdmVudEZyb21SZXN1bHRTZXQocmVzdWx0U2V0KSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gZXZlbnRzO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbGVzIFxcdTAwZTl2XFx1MDBlOW5lbWVudHMgb3JnYW5pc1xcdTAwZTlzIHBhciB1biB1dGlsaXNhdGV1clxcbiAgICAgKiBAcGFyYW0gdXNlcklkIEwnSUQgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgKiBAcmV0dXJuIExhIGxpc3RlIGRlcyBcXHUwMGU5dlxcdTAwZTluZW1lbnRzXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBMaXN0PEV2ZW50PiBnZXRFdmVudHNCeU9yZ2FuaXNlcihpbnQgdXNlcklkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIExpc3Q8RXZlbnQ+IGV2ZW50cyA9IG5ldyBBcnJheUxpc3Q8PigpO1xcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCBlLiosIHUuaWQgYXMgdXNlcl9pZCwgdS5ub20sIHUucHJlbm9tLCB1LmVtYWlsIEZST00gZXZlbnQgZSBKT0lOIHVzZXIgdSBPTiBlLm9yZ2FuaXNlcl9pZCA9IHUuaWQgV0hFUkUgZS5vcmdhbmlzZXJfaWQgPSA/XFxcIjtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgxLCB1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJlc3VsdFNldCA9IHN0YXRlbWVudC5leGVjdXRlUXVlcnkoKSkge1xcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVzdWx0U2V0Lm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLmFkZChjcmVhdGVFdmVudEZyb21SZXN1bHRTZXQocmVzdWx0U2V0KSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBldmVudHM7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENyXFx1MDBlOWVyIHVuIG9iamV0IEV2ZW50IFxcdTAwZTAgcGFydGlyIGQndW4gUmVzdWx0U2V0XFxuICAgICAqIEBwYXJhbSByZXN1bHRTZXQgTGUgUmVzdWx0U2V0IGNvbnRlbmFudCBsZXMgZG9ublxcdTAwZTllcyBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcmV0dXJuIEwnb2JqZXQgRXZlbnQgY3JcXHUwMGU5XFx1MDBlOVxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwcml2YXRlIEV2ZW50IGNyZWF0ZUV2ZW50RnJvbVJlc3VsdFNldChSZXN1bHRTZXQgcmVzdWx0U2V0KSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XFxuICAgICAgICBldmVudC5zZXRJZChyZXN1bHRTZXQuZ2V0SW50KFxcXCJpZFxcXCIpKTtcXG4gICAgICAgIGV2ZW50LnNldFRpdGxlKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInRpdGxlXFxcIikpO1xcbiAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24ocmVzdWx0U2V0LmdldFN0cmluZyhcXFwiZGVzY3JpcHRpb25cXFwiKSk7XFxuICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KHJlc3VsdFNldC5nZXRUaW1lc3RhbXAoXFxcImRhdGVfZGVidXRcXFwiKSk7XFxuICAgICAgICBldmVudC5zZXREYXRlX2ZpbihyZXN1bHRTZXQuZ2V0VGltZXN0YW1wKFxcXCJkYXRlX2ZpblxcXCIpKTtcXG4gICAgICAgIGV2ZW50LnNldE1heF9wYXJ0aWNpcGFudHMocmVzdWx0U2V0LmdldEludChcXFwibWF4X3BhcnRpY2lwYW50c1xcXCIpKTtcXG4gICAgICAgIGV2ZW50LnNldFN0YXR1cyhyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJzdGF0dXNcXFwiKSk7XFxuICAgICAgICBldmVudC5zZXRJbWFnZShyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJpbWFnZVxcXCIpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ3JcXHUwMGU5ZXIgbCdvcmdhbmlzYXRldXJcXG4gICAgICAgIFVzZXIgb3JnYW5pc2VyID0gbmV3IFVzZXIoKTtcXG4gICAgICAgIG9yZ2FuaXNlci5zZXRJZChyZXN1bHRTZXQuZ2V0SW50KFxcXCJ1c2VyX2lkXFxcIikpO1xcbiAgICAgICAgb3JnYW5pc2VyLnNldE5vbShyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJub21cXFwiKSk7XFxuICAgICAgICBvcmdhbmlzZXIuc2V0UHJlbm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInByZW5vbVxcXCIpKTtcXG4gICAgICAgIG9yZ2FuaXNlci5zZXRFbWFpbChyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJlbWFpbFxcXCIpKTtcXG4gICAgICAgIFxcbiAgICAgICAgZXZlbnQuc2V0T3JnYW5pc2VyKG9yZ2FuaXNlcik7XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBldmVudDtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGNyw6lvbnMgdW4gc2VydmljZSBwb3VyIGfDqXJlciBsZXMgw6l2w6luZW1lbnRzIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUtzSmNINmVQWHA4N2hSVnc4QlV1YjEifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgY3LDqW9ucyB1biBzZXJ2aWNlIHBvdXIgZ8OpcmVyIGxlcyDDqXbDqW5lbWVudHMgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdjNjJjMGJiLTM1ZTEtNDNhOS05YjA4LWViZTk4Zjk3ZDNlZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVI0eVVOVEVmQTFIaUpVNVNiMm9QRGUiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9zZXJ2aWNlcy9SZXNlcnZhdGlvblNlcnZpY2UuamF2YVwiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2Ugc2VydmljZXM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLkV2ZW50O1xcbmltcG9ydCBlbnRpdGllcy5SZXNlcnZlckV2ZW50O1xcbmltcG9ydCBlbnRpdGllcy5Vc2VyO1xcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xcblxcbmltcG9ydCBqYXZhLnNxbC4qO1xcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG4vKipcXG4gKiBTZXJ2aWNlIHBvdXIgZ1xcdTAwZTlyZXIgbGVzIHJcXHUwMGU5c2VydmF0aW9ucyBkJ1xcdTAwZTl2XFx1MDBlOW5lbWVudHNcXG4gKi9cXG5wdWJsaWMgY2xhc3MgUmVzZXJ2YXRpb25TZXJ2aWNlIHtcXG4gICAgcHJpdmF0ZSBzdGF0aWMgUmVzZXJ2YXRpb25TZXJ2aWNlIGluc3RhbmNlO1xcbiAgICBwcml2YXRlIGZpbmFsIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcXG5cXG4gICAgLyoqXFxuICAgICAqIENvbnN0cnVjdGV1ciBwcml2XFx1MDBlOSBwb3VyIGxlIHBhdHRlcm4gU2luZ2xldG9uXFxuICAgICAqL1xcbiAgICBwcml2YXRlIFJlc2VydmF0aW9uU2VydmljZSgpIHtcXG4gICAgICAgIGNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBPYnRlbmlyIGwnaW5zdGFuY2UgdW5pcXVlIGR1IHNlcnZpY2VcXG4gICAgICogQHJldHVybiBMJ2luc3RhbmNlIGR1IHNlcnZpY2VcXG4gICAgICovXFxuICAgIHB1YmxpYyBzdGF0aWMgUmVzZXJ2YXRpb25TZXJ2aWNlIGdldEluc3RhbmNlKCkge1xcbiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcXG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBSZXNlcnZhdGlvblNlcnZpY2UoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQWpvdXRlciB1bmUgbm91dmVsbGUgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHBhcmFtIHJlc2VydmF0aW9uIExhIHJcXHUwMGU5c2VydmF0aW9uIFxcdTAwZTAgYWpvdXRlclxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgdm9pZCBhZGRSZXNlcnZhdGlvbihSZXNlcnZlckV2ZW50IHJlc2VydmF0aW9uKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJJTlNFUlQgSU5UTyByZXNlcnZlcl9ldmVudCAodXNlcl9pZCwgZXZlbnRfaWQsIGRhdGVfcmVzZXJ2YXRpb24sIHN0YXR1dCkgVkFMVUVTICg/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSwgU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0SW50KDEsIHJlc2VydmF0aW9uLmdldFVzZXIoKS5nZXRJZCgpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0SW50KDIsIHJlc2VydmF0aW9uLmdldEV2ZW50KCkuZ2V0SWQoKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFRpbWVzdGFtcCgzLCBuZXcgVGltZXN0YW1wKHJlc2VydmF0aW9uLmdldERhdGVSZXNlcnZhdGlvbigpLmdldFRpbWUoKSkpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoNCwgcmVzZXJ2YXRpb24uZ2V0U3RhdHV0KCkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gUlxcdTAwZTljdXBcXHUwMGU5cmVyIGwnSUQgZ1xcdTAwZTluXFx1MDBlOXJcXHUwMGU5XFxuICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgZ2VuZXJhdGVkS2V5cyA9IHN0YXRlbWVudC5nZXRHZW5lcmF0ZWRLZXlzKCkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKGdlbmVyYXRlZEtleXMubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbi5zZXRJZChnZW5lcmF0ZWRLZXlzLmdldEludCgxKSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE1ldHRyZSBcXHUwMGUwIGpvdXIgbGUgc3RhdHV0IGQndW5lIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqIEBwYXJhbSByZXNlcnZhdGlvbklkIEwnSUQgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHBhcmFtIHN0YXR1dCBMZSBub3V2ZWF1IHN0YXR1dFxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgdm9pZCB1cGRhdGVSZXNlcnZhdGlvblN0YXR1cyhpbnQgcmVzZXJ2YXRpb25JZCwgU3RyaW5nIHN0YXR1dCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiVVBEQVRFIHJlc2VydmVyX2V2ZW50IFNFVCBzdGF0dXQgPSA/IFdIRVJFIGlkID0gP1xcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIHN0YXR1dCk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgyLCByZXNlcnZhdGlvbklkKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuZXhlY3V0ZVVwZGF0ZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBBbm51bGVyIHVuZSByXFx1MDBlOXNlcnZhdGlvblxcbiAgICAgKiBAcGFyYW0gcmVzZXJ2YXRpb25JZCBMJ0lEIGRlIGxhIHJcXHUwMGU5c2VydmF0aW9uXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyB2b2lkIGNhbmNlbFJlc2VydmF0aW9uKGludCByZXNlcnZhdGlvbklkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIHVwZGF0ZVJlc2VydmF0aW9uU3RhdHVzKHJlc2VydmF0aW9uSWQsIFxcXCJhbm51bFxcdTAwZTlcXFwiKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogUlxcdTAwZTljdXBcXHUwMGU5cmVyIHVuZSByXFx1MDBlOXNlcnZhdGlvbiBwYXIgc29uIElEXFxuICAgICAqIEBwYXJhbSByZXNlcnZhdGlvbklkIEwnSUQgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHJldHVybiBMYSByXFx1MDBlOXNlcnZhdGlvbiBvdSBudWxsIHNpIGVsbGUgbidleGlzdGUgcGFzXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBSZXNlcnZlckV2ZW50IGdldFJlc2VydmF0aW9uQnlJZChpbnQgcmVzZXJ2YXRpb25JZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUIHIuKiwgXFxcIiArXFxuICAgICAgICAgICAgICAgIFxcXCJ1LmlkIGFzIHVzZXJfaWQsIHUubm9tIGFzIHVzZXJfbm9tLCB1LnByZW5vbSBhcyB1c2VyX3ByZW5vbSwgdS5lbWFpbCBhcyB1c2VyX2VtYWlsLCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcImUuaWQgYXMgZXZlbnRfaWQsIGUudGl0bGUsIGUuZGVzY3JpcHRpb24sIGUuZGF0ZV9kZWJ1dCwgZS5kYXRlX2ZpbiwgZS5tYXhfcGFydGljaXBhbnRzLCBlLnN0YXR1cywgZS5pbWFnZSBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcIkZST00gcmVzZXJ2ZXJfZXZlbnQgciBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcIkpPSU4gdXNlciB1IE9OIHIudXNlcl9pZCA9IHUuaWQgXFxcIiArXFxuICAgICAgICAgICAgICAgIFxcXCJKT0lOIGV2ZW50IGUgT04gci5ldmVudF9pZCA9IGUuaWQgXFxcIiArXFxuICAgICAgICAgICAgICAgIFxcXCJXSEVSRSByLmlkID0gP1xcXCI7XFxuICAgICAgICBcXG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRJbnQoMSwgcmVzZXJ2YXRpb25JZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpKSB7XFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRTZXQubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVzZXJ2YXRpb25Gcm9tUmVzdWx0U2V0KHJlc3VsdFNldCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBudWxsO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgdG91dGVzIGxlcyByXFx1MDBlOXNlcnZhdGlvbnMgZCd1biB1dGlsaXNhdGV1clxcbiAgICAgKiBAcGFyYW0gdXNlcklkIEwnSUQgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgKiBAcmV0dXJuIExhIGxpc3RlIGRlcyByXFx1MDBlOXNlcnZhdGlvbnNcXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIExpc3Q8UmVzZXJ2ZXJFdmVudD4gZ2V0UmVzZXJ2YXRpb25zQnlVc2VyKGludCB1c2VySWQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgTGlzdDxSZXNlcnZlckV2ZW50PiByZXNlcnZhdGlvbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1Qgci4qLCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcInUuaWQgYXMgdXNlcl9pZCwgdS5ub20gYXMgdXNlcl9ub20sIHUucHJlbm9tIGFzIHVzZXJfcHJlbm9tLCB1LmVtYWlsIGFzIHVzZXJfZW1haWwsIFxcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiZS5pZCBhcyBldmVudF9pZCwgZS50aXRsZSwgZS5kZXNjcmlwdGlvbiwgZS5kYXRlX2RlYnV0LCBlLmRhdGVfZmluLCBlLm1heF9wYXJ0aWNpcGFudHMsIGUuc3RhdHVzLCBlLmltYWdlIFxcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiRlJPTSByZXNlcnZlcl9ldmVudCByIFxcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiSk9JTiB1c2VyIHUgT04gci51c2VyX2lkID0gdS5pZCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcIkpPSU4gZXZlbnQgZSBPTiByLmV2ZW50X2lkID0gZS5pZCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcIldIRVJFIHIudXNlcl9pZCA9ID9cXFwiO1xcbiAgICAgICAgXFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0SW50KDEsIHVzZXJJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpKSB7XFxuICAgICAgICAgICAgICAgIHdoaWxlIChyZXN1bHRTZXQubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXNlcnZhdGlvbnMuYWRkKGNyZWF0ZVJlc2VydmF0aW9uRnJvbVJlc3VsdFNldChyZXN1bHRTZXQpKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIHJlc2VydmF0aW9ucztcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogUlxcdTAwZTljdXBcXHUwMGU5cmVyIHRvdXRlcyBsZXMgclxcdTAwZTlzZXJ2YXRpb25zIHBvdXIgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAqIEBwYXJhbSBldmVudElkIEwnSUQgZGUgbCdcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHJldHVybiBMYSBsaXN0ZSBkZXMgclxcdTAwZTlzZXJ2YXRpb25zXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBMaXN0PFJlc2VydmVyRXZlbnQ+IGdldFJlc2VydmF0aW9uc0J5RXZlbnQoaW50IGV2ZW50SWQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgTGlzdDxSZXNlcnZlckV2ZW50PiByZXNlcnZhdGlvbnMgPSBuZXcgQXJyYXlMaXN0PD4oKTtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1Qgci4qLCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcInUuaWQgYXMgdXNlcl9pZCwgdS5ub20gYXMgdXNlcl9ub20sIHUucHJlbm9tIGFzIHVzZXJfcHJlbm9tLCB1LmVtYWlsIGFzIHVzZXJfZW1haWwsIFxcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiZS5pZCBhcyBldmVudF9pZCwgZS50aXRsZSwgZS5kZXNjcmlwdGlvbiwgZS5kYXRlX2RlYnV0LCBlLmRhdGVfZmluLCBlLm1heF9wYXJ0aWNpcGFudHMsIGUuc3RhdHVzLCBlLmltYWdlIFxcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiRlJPTSByZXNlcnZlcl9ldmVudCByIFxcXCIgK1xcbiAgICAgICAgICAgICAgICBcXFwiSk9JTiB1c2VyIHUgT04gci51c2VyX2lkID0gdS5pZCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcIkpPSU4gZXZlbnQgZSBPTiByLmV2ZW50X2lkID0gZS5pZCBcXFwiICtcXG4gICAgICAgICAgICAgICAgXFxcIldIRVJFIHIuZXZlbnRfaWQgPSA/XFxcIjtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgxLCBldmVudElkKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB0cnkgKFJlc3VsdFNldCByZXN1bHRTZXQgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KCkpIHtcXG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlc3VsdFNldC5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIHJlc2VydmF0aW9ucy5hZGQoY3JlYXRlUmVzZXJ2YXRpb25Gcm9tUmVzdWx0U2V0KHJlc3VsdFNldCkpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gcmVzZXJ2YXRpb25zO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBWXFx1MDBlOXJpZmllciBzaSB1biB1dGlsaXNhdGV1ciBhIGRcXHUwMGU5alxcdTAwZTAgclxcdTAwZTlzZXJ2XFx1MDBlOSB1biBcXHUwMGU5dlxcdTAwZTluZW1lbnRcXG4gICAgICogQHBhcmFtIHVzZXJJZCBMJ0lEIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIGV2ZW50SWQgTCdJRCBkZSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudFxcbiAgICAgKiBAcmV0dXJuIHRydWUgc2kgbCd1dGlsaXNhdGV1ciBhIGRcXHUwMGU5alxcdTAwZTAgclxcdTAwZTlzZXJ2XFx1MDBlOSBsJ1xcdTAwZTl2XFx1MDBlOW5lbWVudCwgZmFsc2Ugc2lub25cXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIGJvb2xlYW4gaGFzVXNlclJlc2VydmVkRXZlbnQoaW50IHVzZXJJZCwgaW50IGV2ZW50SWQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCBDT1VOVCgqKSBGUk9NIHJlc2VydmVyX2V2ZW50IFdIRVJFIHVzZXJfaWQgPSA/IEFORCBldmVudF9pZCA9ID9cXFwiO1xcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgxLCB1c2VySWQpO1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRJbnQoMiwgZXZlbnRJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpKSB7XFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRTZXQubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0U2V0LmdldEludCgxKSA+IDA7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBmYWxzZTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQ3JcXHUwMGU5ZXIgdW4gb2JqZXQgUmVzZXJ2ZXJFdmVudCBcXHUwMGUwIHBhcnRpciBkJ3VuIFJlc3VsdFNldFxcbiAgICAgKiBAcGFyYW0gcmVzdWx0U2V0IExlIFJlc3VsdFNldCBjb250ZW5hbnQgbGVzIGRvbm5cXHUwMGU5ZXMgZGUgbGEgclxcdTAwZTlzZXJ2YXRpb25cXG4gICAgICogQHJldHVybiBMJ29iamV0IFJlc2VydmVyRXZlbnQgY3JcXHUwMGU5XFx1MDBlOVxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwcml2YXRlIFJlc2VydmVyRXZlbnQgY3JlYXRlUmVzZXJ2YXRpb25Gcm9tUmVzdWx0U2V0KFJlc3VsdFNldCByZXN1bHRTZXQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XFxuICAgICAgICByZXNlcnZhdGlvbi5zZXRJZChyZXN1bHRTZXQuZ2V0SW50KFxcXCJpZFxcXCIpKTtcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldERhdGVSZXNlcnZhdGlvbihyZXN1bHRTZXQuZ2V0VGltZXN0YW1wKFxcXCJkYXRlX3Jlc2VydmF0aW9uXFxcIikpO1xcbiAgICAgICAgcmVzZXJ2YXRpb24uc2V0U3RhdHV0KHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInN0YXR1dFxcXCIpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ3JcXHUwMGU5ZXIgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcXG4gICAgICAgIHVzZXIuc2V0SWQocmVzdWx0U2V0LmdldEludChcXFwidXNlcl9pZFxcXCIpKTtcXG4gICAgICAgIHVzZXIuc2V0Tm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInVzZXJfbm9tXFxcIikpO1xcbiAgICAgICAgdXNlci5zZXRQcmVub20ocmVzdWx0U2V0LmdldFN0cmluZyhcXFwidXNlcl9wcmVub21cXFwiKSk7XFxuICAgICAgICB1c2VyLnNldEVtYWlsKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInVzZXJfZW1haWxcXFwiKSk7XFxuICAgICAgICBcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldFVzZXIodXNlcik7XFxuICAgICAgICBcXG4gICAgICAgIC8vIENyXFx1MDBlOWVyIGwnXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxuICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xcbiAgICAgICAgZXZlbnQuc2V0SWQocmVzdWx0U2V0LmdldEludChcXFwiZXZlbnRfaWRcXFwiKSk7XFxuICAgICAgICBldmVudC5zZXRUaXRsZShyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJ0aXRsZVxcXCIpKTtcXG4gICAgICAgIGV2ZW50LnNldERlc2NyaXB0aW9uKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcImRlc2NyaXB0aW9uXFxcIikpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChyZXN1bHRTZXQuZ2V0VGltZXN0YW1wKFxcXCJkYXRlX2RlYnV0XFxcIikpO1xcbiAgICAgICAgZXZlbnQuc2V0RGF0ZV9maW4ocmVzdWx0U2V0LmdldFRpbWVzdGFtcChcXFwiZGF0ZV9maW5cXFwiKSk7XFxuICAgICAgICBldmVudC5zZXRNYXhfcGFydGljaXBhbnRzKHJlc3VsdFNldC5nZXRJbnQoXFxcIm1heF9wYXJ0aWNpcGFudHNcXFwiKSk7XFxuICAgICAgICBldmVudC5zZXRTdGF0dXMocmVzdWx0U2V0LmdldFN0cmluZyhcXFwic3RhdHVzXFxcIikpO1xcbiAgICAgICAgZXZlbnQuc2V0SW1hZ2UocmVzdWx0U2V0LmdldFN0cmluZyhcXFwiaW1hZ2VcXFwiKSk7XFxuICAgICAgICBcXG4gICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIHJlc2VydmF0aW9uO1xcbiAgICB9XFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQ3LDqW9ucyB1biBzZXJ2aWNlIHBvdXIgZ8OpcmVyIGxlcyByw6lzZXJ2YXRpb25zIGQnw6l2w6luZW1lbnRzIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNaOWQ4dkhFTmU0NUJxNUJMUnA5bUsifX1dLCJyZXNwb25zZV90ZXh0IjoiQ3LDqW9ucyB1biBzZXJ2aWNlIHBvdXIgZ8OpcmVyIGxlcyByw6lzZXJ2YXRpb25zIGQnw6l2w6luZW1lbnRzIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlZGQyNTQ0OC02YzRjLTRjNDktYjk0Yy1hYmJmZjk1ZjA5NDUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFKeDdyWXhRdnNjNlNBQ0JBQlBrSmRBIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInBhY2thZ2UgY29udHJvbGxlcnM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xcbmltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcXG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xcblxcbmltcG9ydCBqYXZhLmlvLkZpbGU7XFxuaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XFxuaW1wb3J0IGphdmEubmV0LlVSTDtcXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1wiLCBcIm5ld19zdHJcIjogXCJwYWNrYWdlIGNvbnRyb2xsZXJzO1xcblxcbmltcG9ydCBlbnRpdGllcy5Vc2VyO1xcbmltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcXG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xcbmltcG9ydCBzZXJ2aWNlcy5BdXRoU2VydmljZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjB9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyBsZSBjb250csO0bGV1ciBMb2dpbkNvbnRyb2xsZXIgcG91ciB1dGlsaXNlciBsZSBzZXJ2aWNlIEF1dGhTZXJ2aWNlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVI0eVVOVEVmQTFIaUpVNVNiMm9QRGUifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgbW9kaWZpb25zIGxlIGNvbnRyw7RsZXVyIExvZ2luQ29udHJvbGxlciBwb3VyIHV0aWxpc2VyIGxlIHNlcnZpY2UgQXV0aFNlcnZpY2UgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjA5MGZhMjFlLWEzZTEtNGU5ZC04YjNjLTliOTdkNTdlODNjZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTdRVWRNSkRteURWQlJ2NG5RRURkeXYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgQ29ubmVjdGlvbiBjb25uZWN0aW9uO1xcblxcbiAgICBwdWJsaWMgTG9naW5Db250cm9sbGVyKCkge1xcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGEgY29ubmV4aW9uIFxcdTAwZTAgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICBjb25uZWN0aW9uID0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSBBdXRoU2VydmljZSBhdXRoU2VydmljZTtcXG5cXG4gICAgcHVibGljIExvZ2luQ29udHJvbGxlcigpIHtcXG4gICAgICAgIC8vIEluaXRpYWxpc2VyIGxlIHNlcnZpY2UgZCdhdXRoZW50aWZpY2F0aW9uXFxuICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDM0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDM5fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSBjb250cm9sbGVycztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuICAgICA1XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDdcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgICA5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxMFx0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAxMVx0aW1wb3J0IHNlcnZpY2VzLkF1dGhTZXJ2aWNlO1xuICAgIDEyXHRcbiAgICAxM1x0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxNFx0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMTVcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgMTZcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTdcdFxuICAgIDE4XHRwdWJsaWMgY2xhc3MgTG9naW5Db250cm9sbGVyIHtcbiAgICAxOVx0XG4gICAgMjBcdCAgICBARlhNTFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFKeDdyWXhRdnNjNlNBQ0JBQlBrSmRBIn19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyMTZlYmVhNC1hNTlmLTQzOGEtOWVmNS0xNTExNmZkMDFlYTUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFIOFpuQ1Y5aVg1SDNoNE1UUUtBSlFWIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBWXFx1MDBlOXJpZmllciBsZXMgaWRlbnRpZmlhbnRzIGRhbnMgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgVXNlciB1c2VyID0gYXV0aGVudGljYXRlVXNlcihlbWFpbCwgcGFzc3dvcmQpO1xcblxcbiAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgLy8gQ29ubmV4aW9uIHJcXHUwMGU5dXNzaWVcXG4gICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcih1c2VyKTtcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkNvbm5leGlvbiByXFx1MDBlOXVzc2llXFxcIiwgXFxcIkJpZW52ZW51ZSBcXFwiICsgdXNlci5nZXRQcmVub20oKSArIFxcXCIgXFxcIiArIHVzZXIuZ2V0Tm9tKCkgKyBcXFwiIVxcXCIpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkJ2FjY3VlaWxcXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVUb0hvbWUoKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAvLyBcXHUwMGM5Y2hlYyBkZSBsYSBjb25uZXhpb25cXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBjb25uZXhpb25cXFwiLCBcXFwiRW1haWwgb3UgbW90IGRlIHBhc3NlIGluY29ycmVjdC5cXFwiKTtcXG4gICAgICAgICAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBWXFx1MDBlOXJpZmllciBsZXMgaWRlbnRpZmlhbnRzIGF2ZWMgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cXG4gICAgICAgICAgICBVc2VyIHVzZXIgPSBhdXRoU2VydmljZS5sb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xcblxcbiAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgLy8gQ29ubmV4aW9uIHJcXHUwMGU5dXNzaWVcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkNvbm5leGlvbiByXFx1MDBlOXVzc2llXFxcIiwgXFxcIkJpZW52ZW51ZSBcXFwiICsgdXNlci5nZXRQcmVub20oKSArIFxcXCIgXFxcIiArIHVzZXIuZ2V0Tm9tKCkgKyBcXFwiIVxcXCIpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkJ2FjY3VlaWxcXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVUb0hvbWUoKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAvLyBcXHUwMGM5Y2hlYyBkZSBsYSBjb25uZXhpb25cXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBjb25uZXhpb25cXFwiLCBcXFwiRW1haWwgb3UgbW90IGRlIHBhc3NlIGluY29ycmVjdC5cXFwiKTtcXG4gICAgICAgICAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA1MiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA2Nn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgMjhcdFxuICAgIDI5XHQgICAgQEZYTUxcbiAgICAzMFx0ICAgIHByaXZhdGUgSHlwZXJsaW5rIHJlZ2lzdGVyTGluaztcbiAgICAzMVx0XG4gICAgMzJcdCAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIHB1YmxpYyBMb2dpbkNvbnRyb2xsZXIoKSB7XG4gICAgMzVcdCAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICAzNlx0ICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgMzdcdCAgICB9XG4gICAgMzhcdFxuICAgIDM5XHQgICAgQEZYTUxcbiAgICA0MFx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ2luKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDFcdCAgICAgICAgU3RyaW5nIGVtYWlsID0gZW1haWxGaWVsZC5nZXRUZXh0KCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTdRVWRNSkRteURWQlJ2NG5RRURkeXYifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjU2ZDI4NzE1LWMwMjgtNDYwMC1iZjcwLTE4MjQwZjY5OTIyZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU5laWM2V2tkRlhZZDJ4OUJCYUxoTTUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgVXNlciBhdXRoZW50aWNhdGVVc2VyKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJTRUxFQ1QgKiBGUk9NIHVzZXIgV0hFUkUgZW1haWwgPSA/IEFORCBwYXNzd29yZCA9ID9cXFwiO1xcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMSwgZW1haWwpO1xcbiAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygyLCBwYXNzd29yZCk7IC8vIE5vdGU6IERhbnMgdW5lIGFwcGxpY2F0aW9uIHJcXHUwMGU5ZWxsZSwgaWwgZmF1ZHJhaXQgaGFjaGVyIGxlIG1vdCBkZSBwYXNzZVxcblxcbiAgICAgICAgUmVzdWx0U2V0IHJlc3VsdFNldCA9IHN0YXRlbWVudC5leGVjdXRlUXVlcnkoKTtcXG5cXG4gICAgICAgIGlmIChyZXN1bHRTZXQubmV4dCgpKSB7XFxuICAgICAgICAgICAgLy8gQ3JcXHUwMGU5ZXIgdW4gb2JqZXQgVXNlciBhdmVjIGxlcyBkb25uXFx1MDBlOWVzIGRlIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XFxuICAgICAgICAgICAgdXNlci5zZXRJZChyZXN1bHRTZXQuZ2V0SW50KFxcXCJpZFxcXCIpKTtcXG4gICAgICAgICAgICB1c2VyLnNldE5vbShyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJub21cXFwiKSk7XFxuICAgICAgICAgICAgdXNlci5zZXRQcmVub20ocmVzdWx0U2V0LmdldFN0cmluZyhcXFwicHJlbm9tXFxcIikpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0RW1haWwocmVzdWx0U2V0LmdldFN0cmluZyhcXFwiZW1haWxcXFwiKSk7XFxuICAgICAgICAgICAgdXNlci5zZXRBZHJlc3NlKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcImFkcmVzc2VcXFwiKSk7XFxuICAgICAgICAgICAgdXNlci5zZXRUZWxlcGhvbmUocmVzdWx0U2V0LmdldFN0cmluZyhcXFwidGVsZXBob25lXFxcIikpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0VmVyaWZpZWQocmVzdWx0U2V0LmdldEJvb2xlYW4oXFxcImlzX3ZlcmlmaWVkXFxcIikpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0Q3JlYXRlZF9hdChyZXN1bHRTZXQuZ2V0VGltZXN0YW1wKFxcXCJjcmVhdGVkX2F0XFxcIikpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHJldHVybiB1c2VyO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcmV0dXJuIG51bGw7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5NSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxMTl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDQ2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBjb25uZXhpb25cIiwgXCJWZXVpbGxleiByZW1wbGlyIHRvdXMgbGVzIGNoYW1wcy5cIik7XG4gICAgNDdcdCAgICAgICAgICAgIHJldHVybjtcbiAgICA0OFx0ICAgICAgICB9XG4gICAgNDlcdFxuICAgIDUwXHQgICAgICAgIHRyeSB7XG4gICAgNTFcdCAgICAgICAgICAgIC8vIFbDqXJpZmllciBsZXMgaWRlbnRpZmlhbnRzIGF2ZWMgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICA1Mlx0ICAgICAgICAgICAgVXNlciB1c2VyID0gYXV0aFNlcnZpY2UubG9naW4oZW1haWwsIHBhc3N3b3JkKTtcbiAgICA1M1x0XG4gICAgNTRcdCAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICA1NVx0ICAgICAgICAgICAgICAgIC8vIENvbm5leGlvbiByw6l1c3NpZVxuICAgIDU2XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJDb25uZXhpb24gcsOpdXNzaWVcIiwgXCJCaWVudmVudWUgXCIgKyB1c2VyLmdldFByZW5vbSgpICsgXCIgXCIgKyB1c2VyLmdldE5vbSgpICsgXCIhXCIpO1xuICAgIDU3XHRcbiAgICA1OFx0ICAgICAgICAgICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxhIHBhZ2UgZCdhY2N1ZWlsXG4gICAgNTlcdCAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvSG9tZSgpO1xuICAgIDYwXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgIDYxXHQgICAgICAgICAgICAgICAgLy8gw4ljaGVjIGRlIGxhIGNvbm5leGlvblxuICAgIDYyXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgY29ubmV4aW9uXCIsIFwiRW1haWwgb3UgbW90IGRlIHBhc3NlIGluY29ycmVjdC5cIik7XG4gICAgNjNcdCAgICAgICAgICAgIH1cbiAgICA2NFx0ICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgIDY1XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBiYXNlIGRlIGRvbm7DqWVzXCIsIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICA2Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA2N1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUg4Wm5DVjlpWDVIM2g0TVRRS0FKUVYifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFhNmRmMWFkLTBlODYtNGQ1OS1iODI5LTNiY2Q4Y2VmNTUyNSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTlod1ozc0NuWXFtUEJvV0ZiNE10NmsiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUmVnaXN0ZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwicGFja2FnZSBjb250cm9sbGVycztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcIiwgXCJuZXdfc3RyXCI6IFwicGFja2FnZSBjb250cm9sbGVycztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5pbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XFxuXFxuaW1wb3J0IGphdmEuaW8uRmlsZTtcXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcXG5pbXBvcnQgamF2YS5uZXQuVVJMO1xcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XFxuaW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyBsZSBjb250csO0bGV1ciBSZWdpc3RlckNvbnRyb2xsZXIgcG91ciB1dGlsaXNlciBsZSBzZXJ2aWNlIEF1dGhTZXJ2aWNlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDk0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk1XHQgICAgICAgIH1cbiAgICA5Nlx0ICAgIH1cbiAgICA5N1x0XG4gICAgOThcdFxuICAgIDk5XHRcbiAgIDEwMFx0ICAgIHByaXZhdGUgdm9pZCBuYXZpZ2F0ZVRvSG9tZSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAxMDFcdCAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGQnYWNjdWVpbCBhdmVjIHVuIGNoZW1pbiBhYnNvbHVcbiAgIDEwMlx0ICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0hvbWUuZnhtbFwiKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTmVpYzZXa2RGWFlkMng5QkJhTGhNNSJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBtb2RpZmlvbnMgbGUgY29udHLDtGxldXIgUmVnaXN0ZXJDb250cm9sbGVyIHBvdXIgdXRpbGlzZXIgbGUgc2VydmljZSBBdXRoU2VydmljZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDNmNTQ3MzMtZjYwYS00NDIxLThhYWYtYzllYjc1NjIwMmJjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUzI4ekpIN2pDRWFER1BIWFhTTXFqVCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9SZWdpc3RlckNvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgcHJpdmF0ZSBDb25uZWN0aW9uIGNvbm5lY3Rpb247XFxuXFxuICAgIHB1YmxpYyBSZWdpc3RlckNvbnRyb2xsZXIoKSB7XFxuICAgICAgICAvLyBJbml0aWFsaXNlciBsYSBjb25uZXhpb24gXFx1MDBlMCBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgIGNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xcblxcbiAgICBwdWJsaWMgUmVnaXN0ZXJDb250cm9sbGVyKCkge1xcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cXG4gICAgICAgIGF1dGhTZXJ2aWNlID0gQXV0aFNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNDAsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDV9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9SZWdpc3RlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIGNvbnRyb2xsZXJzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XG4gICAgIDVcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG4gICAgIDlcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgIDExXHRpbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XG4gICAgMTJcdFxuICAgIDEzXHRpbXBvcnQgamF2YS5pby5GaWxlO1xuICAgIDE0XHRpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbiAgICAxNVx0aW1wb3J0IGphdmEubmV0LlVSTDtcbiAgICAxNlx0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxN1x0aW1wb3J0IGphdmEuc3FsLlRpbWVzdGFtcDtcbiAgICAxOFx0XG4gICAgMTlcdHB1YmxpYyBjbGFzcyBSZWdpc3RlckNvbnRyb2xsZXIge1xuICAgIDIwXHRcbiAgICAyMVx0ICAgIEBGWE1MXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTlod1ozc0NuWXFtUEJvV0ZiNE10NmsifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjkwNGZmNjVmLTNjYTYtNGQyMC1iOWM3LTIzNWI4ZWQ2NTc1NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUVENWRVYnVoZnI4R3VxdDRoaGVNVWsiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUmVnaXN0ZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENyXFx1MDBlOWVyIHVuIG5vdXZlbCB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XFxuICAgICAgICAgICAgdXNlci5zZXROb20obm9tKTtcXG4gICAgICAgICAgICB1c2VyLnNldFByZW5vbShwcmVub20pO1xcbiAgICAgICAgICAgIHVzZXIuc2V0RW1haWwoZW1haWwpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0UGFzc3dvcmQocGFzc3dvcmQpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0QWRyZXNzZShhZHJlc3NlKTtcXG4gICAgICAgICAgICB1c2VyLnNldFRlbGVwaG9uZSh0ZWxlcGhvbmUpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0VmVyaWZpZWQoZmFsc2UpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0Q3JlYXRlZF9hdChuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKSk7XFxuXFxuICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIHJlZ2lzdGVyVXNlcih1c2VyKTtcXG5cXG4gICAgICAgICAgICAvLyBBZmZpY2hlciB1biBtZXNzYWdlIGRlIHN1Y2NcXHUwMGU4c1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbnNjcmlwdGlvbiByXFx1MDBlOXVzc2llXFxcIiwgXFxcIlZvdHJlIGNvbXB0ZSBhIFxcdTAwZTl0XFx1MDBlOSBjclxcdTAwZTlcXHUwMGU5IGF2ZWMgc3VjY1xcdTAwZThzLiBWb3VzIHBvdXZleiBtYWludGVuYW50IHZvdXMgY29ubmVjdGVyLlxcXCIpO1xcblxcbiAgICAgICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxhIHBhZ2UgZGUgY29ubmV4aW9uXFxuICAgICAgICAgICAgbmF2aWdhdGVUb0xvZ2luKCk7XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBWXFx1MDBlOXJpZmllciBzaSBsJ2VtYWlsIGV4aXN0ZSBkXFx1MDBlOWpcXHUwMGUwXFxuICAgICAgICAgICAgaWYgKGF1dGhTZXJ2aWNlLmVtYWlsRXhpc3RzKGVtYWlsKSkge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGQnaW5zY3JpcHRpb25cXFwiLCBcXFwiQ2V0IGVtYWlsIGVzdCBkXFx1MDBlOWpcXHUwMGUwIHV0aWxpc1xcdTAwZTkuXFxcIik7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gVlxcdTAwZTlyaWZpZXIgc2kgbGUgdFxcdTAwZTlsXFx1MDBlOXBob25lIGV4aXN0ZSBkXFx1MDBlOWpcXHUwMGUwXFxuICAgICAgICAgICAgaWYgKGF1dGhTZXJ2aWNlLnRlbGVwaG9uZUV4aXN0cyh0ZWxlcGhvbmUpKSB7XFxuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZCdpbnNjcmlwdGlvblxcXCIsIFxcXCJDZSBudW1cXHUwMGU5cm8gZGUgdFxcdTAwZTlsXFx1MDBlOXBob25lIGVzdCBkXFx1MDBlOWpcXHUwMGUwIHV0aWxpc1xcdTAwZTkuXFxcIik7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gQ3JcXHUwMGU5ZXIgdW4gbm91dmVsIHV0aWxpc2F0ZXVyXFxuICAgICAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcXG4gICAgICAgICAgICB1c2VyLnNldE5vbShub20pO1xcbiAgICAgICAgICAgIHVzZXIuc2V0UHJlbm9tKHByZW5vbSk7XFxuICAgICAgICAgICAgdXNlci5zZXRFbWFpbChlbWFpbCk7XFxuICAgICAgICAgICAgdXNlci5zZXRQYXNzd29yZChwYXNzd29yZCk7XFxuICAgICAgICAgICAgdXNlci5zZXRBZHJlc3NlKGFkcmVzc2UpO1xcbiAgICAgICAgICAgIHVzZXIuc2V0VGVsZXBob25lKHRlbGVwaG9uZSk7XFxuICAgICAgICAgICAgdXNlci5zZXRWZXJpZmllZChmYWxzZSk7XFxuICAgICAgICAgICAgdXNlci5zZXRDcmVhdGVkX2F0KG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpKTtcXG5cXG4gICAgICAgICAgICAvLyBFbnJlZ2lzdHJlciBsJ3V0aWxpc2F0ZXVyIGF2ZWMgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cXG4gICAgICAgICAgICBhdXRoU2VydmljZS5yZWdpc3Rlcih1c2VyKTtcXG5cXG4gICAgICAgICAgICAvLyBBZmZpY2hlciB1biBtZXNzYWdlIGRlIHN1Y2NcXHUwMGU4c1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbnNjcmlwdGlvbiByXFx1MDBlOXVzc2llXFxcIiwgXFxcIlZvdHJlIGNvbXB0ZSBhIFxcdTAwZTl0XFx1MDBlOSBjclxcdTAwZTlcXHUwMGU5IGF2ZWMgc3VjY1xcdTAwZThzLiBWb3VzIHBvdXZleiBtYWludGVuYW50IHZvdXMgY29ubmVjdGVyLlxcXCIpO1xcblxcbiAgICAgICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxhIHBhZ2UgZGUgY29ubmV4aW9uXFxuICAgICAgICAgICAgbmF2aWdhdGVUb0xvZ2luKCk7XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA2NSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA4NH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1JlZ2lzdGVyQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgNDFcdFxuICAgIDQyXHQgICAgQEZYTUxcbiAgICA0M1x0ICAgIHByaXZhdGUgSHlwZXJsaW5rIGxvZ2luTGluaztcbiAgICA0NFx0XG4gICAgNDVcdCAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xuICAgIDQ2XHRcbiAgICA0N1x0ICAgIHB1YmxpYyBSZWdpc3RlckNvbnRyb2xsZXIoKSB7XG4gICAgNDhcdCAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICA0OVx0ICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgNTBcdCAgICB9XG4gICAgNTFcdFxuICAgIDUyXHQgICAgQEZYTUxcbiAgICA1M1x0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlZ2lzdGVyKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNTRcdCAgICAgICAgLy8gUsOpY3Vww6lyZXIgbGVzIHZhbGV1cnMgZGVzIGNoYW1wc1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFTMjh6Skg3akNFYURHUEhYWFNNcWpUIn19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiMTBiYjk2Yi1lOWIxLTQ4MDUtYmM3OS1kYWFjNGI1YWVmNjciLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1WDJNQjJKaWh1MjZab0xZM2RyNHFXIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1JlZ2lzdGVyQ29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgcmVnaXN0ZXJVc2VyKFVzZXIgdXNlcikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiSU5TRVJUIElOVE8gdXNlciAobm9tLCBwcmVub20sIGVtYWlsLCBwYXNzd29yZCwgYWRyZXNzZSwgdGVsZXBob25lLCBpc192ZXJpZmllZCwgY3JlYXRlZF9hdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxcXCI7XFxuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpO1xcbiAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygxLCB1c2VyLmdldE5vbSgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMiwgdXNlci5nZXRQcmVub20oKSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDMsIHVzZXIuZ2V0RW1haWwoKSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDQsIHVzZXIuZ2V0UGFzc3dvcmQoKSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDUsIHVzZXIuZ2V0QWRyZXNzZSgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoNiwgdXNlci5nZXRUZWxlcGhvbmUoKSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0Qm9vbGVhbig3LCB1c2VyLmlzVmVyaWZpZWQoKSk7XFxuICAgICAgICBzdGF0ZW1lbnQuc2V0VGltZXN0YW1wKDgsIHVzZXIuZ2V0Q3JlYXRlZF9hdCgpKTtcXG4gICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMjksIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTQxfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUmVnaXN0ZXJDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA2NFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZCdpbnNjcmlwdGlvblwiLCBcIlZldWlsbGV6IHJlbXBsaXIgdG91cyBsZXMgY2hhbXBzLlwiKTtcbiAgICA2NVx0ICAgICAgICAgICAgcmV0dXJuO1xuICAgIDY2XHQgICAgICAgIH1cbiAgICA2N1x0XG4gICAgNjhcdCAgICAgICAgdHJ5IHtcbiAgICA2OVx0ICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGwnZW1haWwgZXhpc3RlIGTDqWrDoFxuICAgIDcwXHQgICAgICAgICAgICBpZiAoYXV0aFNlcnZpY2UuZW1haWxFeGlzdHMoZW1haWwpKSB7XG4gICAgNzFcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkJ2luc2NyaXB0aW9uXCIsIFwiQ2V0IGVtYWlsIGVzdCBkw6lqw6AgdXRpbGlzw6kuXCIpO1xuICAgIDcyXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgIDczXHQgICAgICAgICAgICB9XG4gICAgNzRcdFxuICAgIDc1XHQgICAgICAgICAgICAvLyBWw6lyaWZpZXIgc2kgbGUgdMOpbMOpcGhvbmUgZXhpc3RlIGTDqWrDoFxuICAgIDc2XHQgICAgICAgICAgICBpZiAoYXV0aFNlcnZpY2UudGVsZXBob25lRXhpc3RzKHRlbGVwaG9uZSkpIHtcbiAgICA3N1x0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGQnaW5zY3JpcHRpb25cIiwgXCJDZSBudW3DqXJvIGRlIHTDqWzDqXBob25lIGVzdCBkw6lqw6AgdXRpbGlzw6kuXCIpO1xuICAgIDc4XHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgIDc5XHQgICAgICAgICAgICB9XG4gICAgODBcdFxuICAgIDgxXHQgICAgICAgICAgICAvLyBDcsOpZXIgdW4gbm91dmVsIHV0aWxpc2F0ZXVyXG4gICAgODJcdCAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAgODNcdCAgICAgICAgICAgIHVzZXIuc2V0Tm9tKG5vbSk7XG4gICAgODRcdCAgICAgICAgICAgIHVzZXIuc2V0UHJlbm9tKHByZW5vbSk7XG4gICAgODVcdCAgICAgICAgICAgIHVzZXIuc2V0RW1haWwoZW1haWwpO1xuICAgIDg2XHQgICAgICAgICAgICB1c2VyLnNldFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICA4N1x0ICAgICAgICAgICAgdXNlci5zZXRBZHJlc3NlKGFkcmVzc2UpO1xuICAgIDg4XHQgICAgICAgICAgICB1c2VyLnNldFRlbGVwaG9uZSh0ZWxlcGhvbmUpO1xuICAgIDg5XHQgICAgICAgICAgICB1c2VyLnNldFZlcmlmaWVkKGZhbHNlKTtcbiAgICA5MFx0ICAgICAgICAgICAgdXNlci5zZXRDcmVhdGVkX2F0KG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpKTtcbiAgICA5MVx0XG4gICAgOTJcdCAgICAgICAgICAgIC8vIEVucmVnaXN0cmVyIGwndXRpbGlzYXRldXIgYXZlYyBsZSBzZXJ2aWNlIGQnYXV0aGVudGlmaWNhdGlvblxuICAgIDkzXHQgICAgICAgICAgICBhdXRoU2VydmljZS5yZWdpc3Rlcih1c2VyKTtcbiAgICA5NFx0XG4gICAgOTVcdCAgICAgICAgICAgIC8vIEFmZmljaGVyIHVuIG1lc3NhZ2UgZGUgc3VjY8Ooc1xuICAgIDk2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIkluc2NyaXB0aW9uIHLDqXVzc2llXCIsIFwiVm90cmUgY29tcHRlIGEgw6l0w6kgY3LDqcOpIGF2ZWMgc3VjY8Oocy4gVm91cyBwb3V2ZXogbWFpbnRlbmFudCB2b3VzIGNvbm5lY3Rlci5cIik7XG4gICAgOTdcdFxuICAgIDk4XHQgICAgICAgICAgICAvLyBSZWRpcmlnZXIgdmVycyBsYSBwYWdlIGRlIGNvbm5leGlvblxuICAgIDk5XHQgICAgICAgICAgICBuYXZpZ2F0ZVRvTG9naW4oKTtcbiAgIDEwMFx0ICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMTAxXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkJ2luc2NyaXB0aW9uXCIsIFwiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgbG9ycyBkZSBsJ2luc2NyaXB0aW9uOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDEwMlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDEwM1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUVENWRVYnVoZnI4R3VxdDRoaGVNVWsifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijg5NjAyYzg5LWEyOWYtNDQ5ZC1hMTgwLTJlZDY1NGUwZDAxMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUdUa0NUVVQ3MVkxU3RORmtzNFBjSkEiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJpbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgZW50aXRpZXMuVXNlclNlc3Npb247XCIsIFwibmV3X3N0clwiOiBcImltcG9ydCBlbnRpdGllcy5Vc2VyO1xcbmltcG9ydCBzZXJ2aWNlcy5BdXRoU2VydmljZTtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDMsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTW9kaWZpb25zIMOpZ2FsZW1lbnQgbGUgY29udHLDtGxldXIgSG9tZUNvbnRyb2xsZXIgcG91ciB1dGlsaXNlciBsZSBzZXJ2aWNlIEF1dGhTZXJ2aWNlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9SZWdpc3RlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMTMwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTMxXHQgICAgICAgIH1cbiAgIDEzMlx0ICAgIH1cbiAgIDEzM1x0XG4gICAxMzRcdFxuICAgMTM1XHRcbiAgIDEzNlx0ICAgIHByaXZhdGUgdm9pZCBuYXZpZ2F0ZVRvTG9naW4oKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTM3XHQgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb25cbiAgIDEzOFx0ICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0xvZ2luLmZ4bWxcIik7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVYMk1CMkppaHUyNlpvTFkzZHI0cVcifX1dLCJyZXNwb25zZV90ZXh0IjoiTW9kaWZpb25zIMOpZ2FsZW1lbnQgbGUgY29udHLDtGxldXIgSG9tZUNvbnRyb2xsZXIgcG91ciB1dGlsaXNlciBsZSBzZXJ2aWNlIEF1dGhTZXJ2aWNlIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhNmEzYzEwNC0wMGIzLTRmYjYtYWZlNy0zZmY0ZDA0NDljMTMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4ZWtuQVdlTUtpckFMQVhSTTVyUTJSIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dCB3ZWxjb21lVGV4dDtcXG5cXG4gICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcXG4gICAgICAgIC8vIFJcXHUwMGU5Y3VwXFx1MDBlOXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5XFxuICAgICAgICBVc2VyIGN1cnJlbnRVc2VyID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50VXNlcigpO1xcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcXG4gICAgICAgICAgICB3ZWxjb21lVGV4dC5zZXRUZXh0KFxcXCJWb3VzIFxcdTAwZWF0ZXMgY29ubmVjdFxcdTAwZTkgZW4gdGFudCBxdWUgXFxcIiArIGN1cnJlbnRVc2VyLmdldFByZW5vbSgpICsgXFxcIiBcXFwiICsgY3VycmVudFVzZXIuZ2V0Tm9tKCkpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICB3ZWxjb21lVGV4dC5zZXRUZXh0KFxcXCJBdWN1biB1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHQgd2VsY29tZVRleHQ7XFxuICAgIFxcbiAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xcblxcbiAgICBwdWJsaWMgSG9tZUNvbnRyb2xsZXIoKSB7XFxuICAgICAgICAvLyBJbml0aWFsaXNlciBsZSBzZXJ2aWNlIGQnYXV0aGVudGlmaWNhdGlvblxcbiAgICAgICAgYXV0aFNlcnZpY2UgPSBBdXRoU2VydmljZS5nZXRJbnN0YW5jZSgpO1xcbiAgICB9XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XFxuICAgICAgICAvLyBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOVxcbiAgICAgICAgVXNlciBjdXJyZW50VXNlciA9IGF1dGhTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7XFxuICAgICAgICBpZiAoY3VycmVudFVzZXIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgIHdlbGNvbWVUZXh0LnNldFRleHQoXFxcIlZvdXMgXFx1MDBlYXRlcyBjb25uZWN0XFx1MDBlOSBlbiB0YW50IHF1ZSBcXFwiICsgY3VycmVudFVzZXIuZ2V0UHJlbm9tKCkgKyBcXFwiIFxcXCIgKyBjdXJyZW50VXNlci5nZXROb20oKSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHdlbGNvbWVUZXh0LnNldFRleHQoXFxcIkF1Y3VuIHV0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5XFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDMzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIGNvbnRyb2xsZXJzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBzZXJ2aWNlcy5BdXRoU2VydmljZTtcbiAgICAgNVx0aW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybTtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHVGtDVFVUNzFZMVN0TkZrczRQY0pBIn19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlMjU0ODQ5Ny1jY2VkLTQxNzYtODY3NS1hZDcwNTBkNDUyNzAiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHTEFkMUMxUzNmNW1qdDZoVFJpUFZZIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ291dChBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgLy8gRFxcdTAwZTljb25uZWN0ZXIgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5sb2dvdXQoKTtcIiwgXCJuZXdfc3RyXCI6IFwiICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ291dChBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgLy8gRFxcdTAwZTljb25uZWN0ZXIgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0NCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0N31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAxOVx0aW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcbiAgICAyMFx0XG4gICAgMjFcdHB1YmxpYyBjbGFzcyBIb21lQ29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xuICAgIDIyXHRcbiAgICAyM1x0ICAgIEBGWE1MXG4gICAgMjRcdCAgICBwcml2YXRlIFRleHQgd2VsY29tZVRleHQ7XG4gICAgMjVcdFxuICAgIDI2XHQgICAgcHJpdmF0ZSBBdXRoU2VydmljZSBhdXRoU2VydmljZTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICBwdWJsaWMgSG9tZUNvbnRyb2xsZXIoKSB7XG4gICAgMjlcdCAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICAzMFx0ICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgQE92ZXJyaWRlXG4gICAgMzRcdCAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgMzVcdCAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0w6lcbiAgICAzNlx0ICAgICAgICBVc2VyIGN1cnJlbnRVc2VyID0gYXV0aFNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICAzN1x0ICAgICAgICBpZiAoY3VycmVudFVzZXIgIT0gbnVsbCkge1xuICAgIDM4XHQgICAgICAgICAgICB3ZWxjb21lVGV4dC5zZXRUZXh0KFwiVm91cyDDqnRlcyBjb25uZWN0w6kgZW4gdGFudCBxdWUgXCIgKyBjdXJyZW50VXNlci5nZXRQcmVub20oKSArIFwiIFwiICsgY3VycmVudFVzZXIuZ2V0Tm9tKCkpO1xuICAgIDM5XHQgICAgICAgIH0gZWxzZSB7XG4gICAgNDBcdCAgICAgICAgICAgIHdlbGNvbWVUZXh0LnNldFRleHQoXCJBdWN1biB1dGlsaXNhdGV1ciBjb25uZWN0w6lcIik7XG4gICAgNDFcdCAgICAgICAgfVxuICAgIDQyXHQgICAgfVxuICAgIDQzXHRcbiAgICA0NFx0ICAgIEBGWE1MXG4gICAgNDVcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVMb2dvdXQoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICA0Nlx0ICAgICAgICAvLyBEw6ljb25uZWN0ZXIgbCd1dGlsaXNhdGV1clxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4ZWtuQVdlTUtpckFMQVhSTTVyUTJSIn19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIzODEyMDgwMS04ZDJlLTRjMzktODZiNi1hNzMwOWFlODg5ZWMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHNDRVaHl3dTN1VDV0SkZMdEM5MkQxIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL3NlcnZpY2VzL0F1dGhTZXJ2aWNlLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIC8qKlxcbiAgICAgKiBEXFx1MDBlOWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xcbiAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5sb2dvdXQoKTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgLyoqXFxuICAgICAqIERcXHUwMGU5Y29ubmVjdGVyIGwndXRpbGlzYXRldXIgYWN0dWVsXFxuICAgICAqL1xcbiAgICBwdWJsaWMgdm9pZCBsb2dvdXQoKSB7XFxuICAgICAgICBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmxvZ291dCgpO1xcbiAgICB9XFxuICAgIFxcbiAgICAvKipcXG4gICAgICogT2J0ZW5pciBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0XFx1MDBlOVxcbiAgICAgKiBAcmV0dXJuIEwndXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTkgb3UgbnVsbCBzaSBhdWN1biB1dGlsaXNhdGV1ciBuJ2VzdCBjb25uZWN0XFx1MDBlOVxcbiAgICAgKi9cXG4gICAgcHVibGljIFVzZXIgZ2V0Q3VycmVudFVzZXIoKSB7XFxuICAgICAgICByZXR1cm4gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50VXNlcigpO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxNDIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTQ3fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBtb2RpZmlvbnMgbGUgc2VydmljZSBBdXRoU2VydmljZSBwb3VyIGFqb3V0ZXIgbGEgbcOpdGhvZGUgZ2V0Q3VycmVudFVzZXIgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA0MFx0ICAgICAgICAgICAgd2VsY29tZVRleHQuc2V0VGV4dChcIkF1Y3VuIHV0aWxpc2F0ZXVyIGNvbm5lY3TDqVwiKTtcbiAgICA0MVx0ICAgICAgICB9XG4gICAgNDJcdCAgICB9XG4gICAgNDNcdFxuICAgIDQ0XHQgICAgQEZYTUxcbiAgICA0NVx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ291dChBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDQ2XHQgICAgICAgIC8vIETDqWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyXG4gICAgNDdcdCAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgICAgIHRyeSB7XG4gICAgNTBcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb25cbiAgICA1MVx0ICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXCIpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHTEFkMUMxUzNmNW1qdDZoVFJpUFZZIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyBsZSBzZXJ2aWNlIEF1dGhTZXJ2aWNlIHBvdXIgYWpvdXRlciBsYSBtw6l0aG9kZSBnZXRDdXJyZW50VXNlciA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiY2M0YmY1MTctYjI3ZC00NzZmLWFjMGEtMjQzZGEyNDZmYTdmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiUGFyZmFpdCAhIEonYWkgcmVzdHJ1Y3R1csOpIGxlIGNvZGUgcG91ciBzw6lwYXJlciBsYSBsb2dpcXVlIG3DqXRpZXIgKHNlcnZpY2VzKSBkZSBsYSBsb2dpcXVlIGRlIHByw6lzZW50YXRpb24gKGNvbnRyw7RsZXVycykuIFZvaWNpIHVuIHLDqXN1bcOpIGRlcyBtb2RpZmljYXRpb25zIDpcblxuMS4gKipDcsOpYXRpb24gZGVzIHNlcnZpY2VzKiogOlxuICAgLSBgQXV0aFNlcnZpY2VgIDogR8OocmUgbCdhdXRoZW50aWZpY2F0aW9uIGRlcyB1dGlsaXNhdGV1cnMgKGxvZ2luLCByZWdpc3RlciwgbG9nb3V0KVxuICAgLSBgRXZlbnRTZXJ2aWNlYCA6IEfDqHJlIGxlcyDDqXbDqW5lbWVudHMgKGFqb3V0LCBtb2RpZmljYXRpb24sIHN1cHByZXNzaW9uLCByw6ljdXDDqXJhdGlvbilcbiAgIC0gYFJlc2VydmF0aW9uU2VydmljZWAgOiBHw6hyZSBsZXMgcsOpc2VydmF0aW9ucyBkJ8OpdsOpbmVtZW50cyAoYWpvdXQsIG1vZGlmaWNhdGlvbiwgc3VwcHJlc3Npb24sIHLDqWN1cMOpcmF0aW9uKVxuXG4yLiAqKk1vZGlmaWNhdGlvbiBkZXMgY29udHLDtGxldXJzKiogOlxuICAgLSBgTG9naW5Db250cm9sbGVyYCA6IFV0aWxpc2UgbWFpbnRlbmFudCBgQXV0aFNlcnZpY2VgIHBvdXIgbCdhdXRoZW50aWZpY2F0aW9uXG4gICAtIGBSZWdpc3RlckNvbnRyb2xsZXJgIDogVXRpbGlzZSBtYWludGVuYW50IGBBdXRoU2VydmljZWAgcG91ciBsJ2luc2NyaXB0aW9uXG4gICAtIGBIb21lQ29udHJvbGxlcmAgOiBVdGlsaXNlIG1haW50ZW5hbnQgYEF1dGhTZXJ2aWNlYCBwb3VyIGxhIGdlc3Rpb24gZGUgc2Vzc2lvblxuXG5DZXR0ZSBhcmNoaXRlY3R1cmUgcHLDqXNlbnRlIHBsdXNpZXVycyBhdmFudGFnZXMgOlxuXG4xLiAqKlPDqXBhcmF0aW9uIGRlcyByZXNwb25zYWJpbGl0w6lzKiogOiBDaGFxdWUgY29tcG9zYW50IGEgdW5lIHJlc3BvbnNhYmlsaXTDqSBiaWVuIGTDqWZpbmllXG4gICAtIExlcyBjb250csO0bGV1cnMgZ8OocmVudCBsJ2ludGVyZmFjZSB1dGlsaXNhdGV1ciBldCBsZXMgaW50ZXJhY3Rpb25zXG4gICAtIExlcyBzZXJ2aWNlcyBnw6hyZW50IGxhIGxvZ2lxdWUgbcOpdGllciBldCBsJ2FjY8OocyBhdXggZG9ubsOpZXNcbiAgIC0gTGVzIGVudGl0w6lzIHJlcHLDqXNlbnRlbnQgbGVzIGRvbm7DqWVzXG5cbjIuICoqUsOpdXRpbGlzYWJpbGl0w6kqKiA6IExlcyBzZXJ2aWNlcyBwZXV2ZW50IMOqdHJlIHV0aWxpc8OpcyBwYXIgcGx1c2lldXJzIGNvbnRyw7RsZXVyc1xuXG4zLiAqKlRlc3RhYmlsaXTDqSoqIDogSWwgZXN0IHBsdXMgZmFjaWxlIGRlIHRlc3RlciBsZXMgc2VydmljZXMgaW5kw6lwZW5kYW1tZW50IGRlcyBjb250csO0bGV1cnNcblxuNC4gKipNYWludGVuYWJpbGl0w6kqKiA6IExlIGNvZGUgZXN0IHBsdXMgZmFjaWxlIMOgIGNvbXByZW5kcmUgZXQgw6AgbWFpbnRlbmlyXG5cblBvdXIgY29udGludWVyIMOgIGTDqXZlbG9wcGVyIHZvdHJlIGFwcGxpY2F0aW9uLCB2b3VzIHBvdXZleiA6XG5cbjEuIENyw6llciBkZXMgY29udHLDtGxldXJzIGV0IGRlcyB2dWVzIHBvdXIgbGEgZ2VzdGlvbiBkZXMgw6l2w6luZW1lbnRzXG4yLiBDcsOpZXIgZGVzIGNvbnRyw7RsZXVycyBldCBkZXMgdnVlcyBwb3VyIGxhIGdlc3Rpb24gZGVzIHLDqXNlcnZhdGlvbnNcbjMuIEFqb3V0ZXIgZGVzIGZvbmN0aW9ubmFsaXTDqXMgY29tbWUgbGEgcmVjaGVyY2hlIGQnw6l2w6luZW1lbnRzLCBsZSBmaWx0cmFnZSwgZXRjLlxuXG5DZXR0ZSBhcmNoaXRlY3R1cmUgdm91cyBwZXJtZXR0cmEgZCdham91dGVyIGZhY2lsZW1lbnQgZGUgbm91dmVsbGVzIGZvbmN0aW9ubmFsaXTDqXMgdG91dCBlbiBnYXJkYW50IHVuIGNvZGUgcHJvcHJlIGV0IG9yZ2FuaXPDqS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9zZXJ2aWNlcy9BdXRoU2VydmljZS5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAxMzRcdFxuICAgMTM1XHQgICAgICAgIHJldHVybiBmYWxzZTtcbiAgIDEzNlx0ICAgIH1cbiAgIDEzN1x0XG4gICAxMzhcdCAgICAvKipcbiAgIDEzOVx0ICAgICAqIETDqWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxuICAgMTQwXHQgICAgICovXG4gICAxNDFcdCAgICBwdWJsaWMgdm9pZCBsb2dvdXQoKSB7XG4gICAxNDJcdCAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5sb2dvdXQoKTtcbiAgIDE0M1x0ICAgIH1cbiAgIDE0NFx0XG4gICAxNDVcdCAgICAvKipcbiAgIDE0Nlx0ICAgICAqIE9idGVuaXIgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdMOpXG4gICAxNDdcdCAgICAgKiBAcmV0dXJuIEwndXRpbGlzYXRldXIgY29ubmVjdMOpIG91IG51bGwgc2kgYXVjdW4gdXRpbGlzYXRldXIgbidlc3QgY29ubmVjdMOpXG4gICAxNDhcdCAgICAgKi9cbiAgIDE0OVx0ICAgIHB1YmxpYyBVc2VyIGdldEN1cnJlbnRVc2VyKCkge1xuICAgMTUwXHQgICAgICAgIHJldHVybiBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldEN1cnJlbnRVc2VyKCk7XG4gICAxNTFcdCAgICB9XG4gICAxNTJcdH1cbiAgIDE1M1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUc0NFVoeXd1M3VUNXRKRkx0QzkyRDEifX1dLCJyZXNwb25zZV90ZXh0IjoiUGFyZmFpdCAhIEonYWkgcmVzdHJ1Y3R1csOpIGxlIGNvZGUgcG91ciBzw6lwYXJlciBsYSBsb2dpcXVlIG3DqXRpZXIgKHNlcnZpY2VzKSBkZSBsYSBsb2dpcXVlIGRlIHByw6lzZW50YXRpb24gKGNvbnRyw7RsZXVycykuIFZvaWNpIHVuIHLDqXN1bcOpIGRlcyBtb2RpZmljYXRpb25zIDpcblxuMS4gKipDcsOpYXRpb24gZGVzIHNlcnZpY2VzKiogOlxuICAgLSBgQXV0aFNlcnZpY2VgIDogR8OocmUgbCdhdXRoZW50aWZpY2F0aW9uIGRlcyB1dGlsaXNhdGV1cnMgKGxvZ2luLCByZWdpc3RlciwgbG9nb3V0KVxuICAgLSBgRXZlbnRTZXJ2aWNlYCA6IEfDqHJlIGxlcyDDqXbDqW5lbWVudHMgKGFqb3V0LCBtb2RpZmljYXRpb24sIHN1cHByZXNzaW9uLCByw6ljdXDDqXJhdGlvbilcbiAgIC0gYFJlc2VydmF0aW9uU2VydmljZWAgOiBHw6hyZSBsZXMgcsOpc2VydmF0aW9ucyBkJ8OpdsOpbmVtZW50cyAoYWpvdXQsIG1vZGlmaWNhdGlvbiwgc3VwcHJlc3Npb24sIHLDqWN1cMOpcmF0aW9uKVxuXG4yLiAqKk1vZGlmaWNhdGlvbiBkZXMgY29udHLDtGxldXJzKiogOlxuICAgLSBgTG9naW5Db250cm9sbGVyYCA6IFV0aWxpc2UgbWFpbnRlbmFudCBgQXV0aFNlcnZpY2VgIHBvdXIgbCdhdXRoZW50aWZpY2F0aW9uXG4gICAtIGBSZWdpc3RlckNvbnRyb2xsZXJgIDogVXRpbGlzZSBtYWludGVuYW50IGBBdXRoU2VydmljZWAgcG91ciBsJ2luc2NyaXB0aW9uXG4gICAtIGBIb21lQ29udHJvbGxlcmAgOiBVdGlsaXNlIG1haW50ZW5hbnQgYEF1dGhTZXJ2aWNlYCBwb3VyIGxhIGdlc3Rpb24gZGUgc2Vzc2lvblxuXG5DZXR0ZSBhcmNoaXRlY3R1cmUgcHLDqXNlbnRlIHBsdXNpZXVycyBhdmFudGFnZXMgOlxuXG4xLiAqKlPDqXBhcmF0aW9uIGRlcyByZXNwb25zYWJpbGl0w6lzKiogOiBDaGFxdWUgY29tcG9zYW50IGEgdW5lIHJlc3BvbnNhYmlsaXTDqSBiaWVuIGTDqWZpbmllXG4gICAtIExlcyBjb250csO0bGV1cnMgZ8OocmVudCBsJ2ludGVyZmFjZSB1dGlsaXNhdGV1ciBldCBsZXMgaW50ZXJhY3Rpb25zXG4gICAtIExlcyBzZXJ2aWNlcyBnw6hyZW50IGxhIGxvZ2lxdWUgbcOpdGllciBldCBsJ2FjY8OocyBhdXggZG9ubsOpZXNcbiAgIC0gTGVzIGVudGl0w6lzIHJlcHLDqXNlbnRlbnQgbGVzIGRvbm7DqWVzXG5cbjIuICoqUsOpdXRpbGlzYWJpbGl0w6kqKiA6IExlcyBzZXJ2aWNlcyBwZXV2ZW50IMOqdHJlIHV0aWxpc8OpcyBwYXIgcGx1c2lldXJzIGNvbnRyw7RsZXVyc1xuXG4zLiAqKlRlc3RhYmlsaXTDqSoqIDogSWwgZXN0IHBsdXMgZmFjaWxlIGRlIHRlc3RlciBsZXMgc2VydmljZXMgaW5kw6lwZW5kYW1tZW50IGRlcyBjb250csO0bGV1cnNcblxuNC4gKipNYWludGVuYWJpbGl0w6kqKiA6IExlIGNvZGUgZXN0IHBsdXMgZmFjaWxlIMOgIGNvbXByZW5kcmUgZXQgw6AgbWFpbnRlbmlyXG5cblBvdXIgY29udGludWVyIMOgIGTDqXZlbG9wcGVyIHZvdHJlIGFwcGxpY2F0aW9uLCB2b3VzIHBvdXZleiA6XG5cbjEuIENyw6llciBkZXMgY29udHLDtGxldXJzIGV0IGRlcyB2dWVzIHBvdXIgbGEgZ2VzdGlvbiBkZXMgw6l2w6luZW1lbnRzXG4yLiBDcsOpZXIgZGVzIGNvbnRyw7RsZXVycyBldCBkZXMgdnVlcyBwb3VyIGxhIGdlc3Rpb24gZGVzIHLDqXNlcnZhdGlvbnNcbjMuIEFqb3V0ZXIgZGVzIGZvbmN0aW9ubmFsaXTDqXMgY29tbWUgbGEgcmVjaGVyY2hlIGQnw6l2w6luZW1lbnRzLCBsZSBmaWx0cmFnZSwgZXRjLlxuXG5DZXR0ZSBhcmNoaXRlY3R1cmUgdm91cyBwZXJtZXR0cmEgZCdham91dGVyIGZhY2lsZW1lbnQgZGUgbm91dmVsbGVzIGZvbmN0aW9ubmFsaXTDqXMgdG91dCBlbiBnYXJkYW50IHVuIGNvZGUgcHJvcHJlIGV0IG9yZ2FuaXPDqS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjNGQ4NmNhOS1iY2Y5LTRkZDUtODliZS1kODdlNDJiNzk1M2IiLCJyZXF1ZXN0X21lc3NhZ2UiOiJmYWlyZSBsZSBmaWNoaWVyIFxucm9sZVNlcnZpY2UgXG5sYSBnZXN0aW9uIFxuZGUgcm9sZSBcbnNpIGFkbWluIHJhbWVuZSB2ZXJzIGxlIGRhc2hib2FyZCBhZG1pblxuY2xpZW50IHNlcmEgcmFtZW7DqSB2ZXJzIGRhc2hib2FyZCBjbGllbnRcbmV0IGZhaXJlIGxhcHBlbCBkYW5zIGxlIGxvZ2luIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImZhaXJlIGxlIGZpY2hpZXIgIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJyb2xlU2VydmljZSAifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImxhIGdlc3Rpb24gIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJkZSByb2xlICJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0Ijoic2kgYWRtaW4gcmFtZW5lIHZlcnMgbGUgZGFzaGJvYXJkIGFkbWluIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJjbGllbnQgc2VyYSByYW1lbsOpIHZlcnMgZGFzaGJvYXJkIGNsaWVudCJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiZXQgZmFpcmUgbGFwcGVsIGRhbnMgbGUgbG9naW4ifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURGa0hFc1g3eGRhN21WVlplTUdrRU0iLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9zZXJ2aWNlcy9Sb2xlU2VydmljZS5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBzZXJ2aWNlcztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcXG5cXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcXG5pbXBvcnQgamF2YS5zcWwuUHJlcGFyZWRTdGF0ZW1lbnQ7XFxuaW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzO1xcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcXG5cXG4vKipcXG4gKiBTZXJ2aWNlIHBvdXIgZ1xcdTAwZTlyZXIgbGVzIHJcXHUwMGY0bGVzIGRlcyB1dGlsaXNhdGV1cnNcXG4gKi9cXG5wdWJsaWMgY2xhc3MgUm9sZVNlcnZpY2Uge1xcbiAgICBwcml2YXRlIHN0YXRpYyBSb2xlU2VydmljZSBpbnN0YW5jZTtcXG4gICAgcHJpdmF0ZSBmaW5hbCBDb25uZWN0aW9uIGNvbm5lY3Rpb247XFxuXFxuICAgIC8vIENvbnN0YW50ZXMgcG91ciBsZXMgclxcdTAwZjRsZXNcXG4gICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgUk9MRV9BRE1JTiA9IFxcXCJBRE1JTlxcXCI7XFxuICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFJPTEVfQ0xJRU5UID0gXFxcIkNMSUVOVFxcXCI7XFxuICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFJPTEVfU1VQRVJfQURNSU4gPSBcXFwiU1VQRVJfQURNSU5cXFwiO1xcblxcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0ZXVyIHByaXZcXHUwMGU5IHBvdXIgbGUgcGF0dGVybiBTaW5nbGV0b25cXG4gICAgICovXFxuICAgIHByaXZhdGUgUm9sZVNlcnZpY2UoKSB7XFxuICAgICAgICBjb25uZWN0aW9uID0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogT2J0ZW5pciBsJ2luc3RhbmNlIHVuaXF1ZSBkdSBzZXJ2aWNlXFxuICAgICAqIEByZXR1cm4gTCdpbnN0YW5jZSBkdSBzZXJ2aWNlXFxuICAgICAqL1xcbiAgICBwdWJsaWMgc3RhdGljIFJvbGVTZXJ2aWNlIGdldEluc3RhbmNlKCkge1xcbiAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcXG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBSb2xlU2VydmljZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbGVzIHJcXHUwMGY0bGVzIGQndW4gdXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHVzZXJJZCBMJ0lEIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICogQHJldHVybiBMYSBsaXN0ZSBkZXMgclxcdTAwZjRsZXMgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwdWJsaWMgTGlzdDxTdHJpbmc+IGdldFVzZXJSb2xlcyhpbnQgdXNlcklkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIExpc3Q8U3RyaW5nPiByb2xlcyA9IG5ldyBBcnJheUxpc3Q8PigpO1xcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCByb2xlIEZST00gdXNlciBXSEVSRSBpZCA9ID9cXFwiO1xcbiAgICAgICAgXFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0SW50KDEsIHVzZXJJZCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IChSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpKSB7XFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRTZXQubmV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcgcm9sZVN0cmluZyA9IHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInJvbGVcXFwiKTtcXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb2xlU3RyaW5nICE9IG51bGwgJiYgIXJvbGVTdHJpbmcuaXNFbXB0eSgpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGl2aXNlciBsYSBjaGFcXHUwMGVlbmUgZGUgclxcdTAwZjRsZXMgZW4gbGlzdGVcXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlcyA9IEFycmF5cy5hc0xpc3Qocm9sZVN0cmluZy5zcGxpdChcXFwiLFxcXCIpKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXR0b3llciBsZXMgZXNwYWNlcyBcXHUwMGU5dmVudHVlbHNcXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHJvbGVzLnNpemUoKTsgaSsrKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVzLnNldChpLCByb2xlcy5nZXQoaSkudHJpbSgpKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiByb2xlcztcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQWpvdXRlciB1biByXFx1MDBmNGxlIFxcdTAwZTAgdW4gdXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHVzZXJJZCBMJ0lEIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHJvbGUgTGUgclxcdTAwZjRsZSBcXHUwMGUwIGFqb3V0ZXJcXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgYWRkUm9sZVRvVXNlcihpbnQgdXNlcklkLCBTdHJpbmcgcm9sZSkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICAvLyBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbGVzIHJcXHUwMGY0bGVzIGFjdHVlbHNcXG4gICAgICAgIExpc3Q8U3RyaW5nPiBjdXJyZW50Um9sZXMgPSBnZXRVc2VyUm9sZXModXNlcklkKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gVlxcdTAwZTlyaWZpZXIgc2kgbGUgclxcdTAwZjRsZSBleGlzdGUgZFxcdTAwZTlqXFx1MDBlMFxcbiAgICAgICAgaWYgKGN1cnJlbnRSb2xlcy5jb250YWlucyhyb2xlKSkge1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgLy8gQWpvdXRlciBsZSBub3V2ZWF1IHJcXHUwMGY0bGVcXG4gICAgICAgIExpc3Q8U3RyaW5nPiBuZXdSb2xlcyA9IG5ldyBBcnJheUxpc3Q8PihjdXJyZW50Um9sZXMpO1xcbiAgICAgICAgbmV3Um9sZXMuYWRkKHJvbGUpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBNZXR0cmUgXFx1MDBlMCBqb3VyIGxlcyByXFx1MDBmNGxlcyBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgdXBkYXRlVXNlclJvbGVzKHVzZXJJZCwgbmV3Um9sZXMpO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBTdXBwcmltZXIgdW4gclxcdTAwZjRsZSBkJ3VuIHV0aWxpc2F0ZXVyXFxuICAgICAqIEBwYXJhbSB1c2VySWQgTCdJRCBkZSBsJ3V0aWxpc2F0ZXVyXFxuICAgICAqIEBwYXJhbSByb2xlIExlIHJcXHUwMGY0bGUgXFx1MDBlMCBzdXBwcmltZXJcXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgcmVtb3ZlUm9sZUZyb21Vc2VyKGludCB1c2VySWQsIFN0cmluZyByb2xlKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIC8vIFJcXHUwMGU5Y3VwXFx1MDBlOXJlciBsZXMgclxcdTAwZjRsZXMgYWN0dWVsc1xcbiAgICAgICAgTGlzdDxTdHJpbmc+IGN1cnJlbnRSb2xlcyA9IGdldFVzZXJSb2xlcyh1c2VySWQpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBWXFx1MDBlOXJpZmllciBzaSBsZSByXFx1MDBmNGxlIGV4aXN0ZVxcbiAgICAgICAgaWYgKCFjdXJyZW50Um9sZXMuY29udGFpbnMocm9sZSkpIHtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIC8vIFN1cHByaW1lciBsZSByXFx1MDBmNGxlXFxuICAgICAgICBMaXN0PFN0cmluZz4gbmV3Um9sZXMgPSBuZXcgQXJyYXlMaXN0PD4oY3VycmVudFJvbGVzKTtcXG4gICAgICAgIG5ld1JvbGVzLnJlbW92ZShyb2xlKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gTWV0dHJlIFxcdTAwZTAgam91ciBsZXMgclxcdTAwZjRsZXMgZGFucyBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgIHVwZGF0ZVVzZXJSb2xlcyh1c2VySWQsIG5ld1JvbGVzKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogTWV0dHJlIFxcdTAwZTAgam91ciBsZXMgclxcdTAwZjRsZXMgZCd1biB1dGlsaXNhdGV1clxcbiAgICAgKiBAcGFyYW0gdXNlcklkIEwnSUQgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgKiBAcGFyYW0gcm9sZXMgTGEgbGlzdGUgZGVzIHJcXHUwMGY0bGVzXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHByaXZhdGUgdm9pZCB1cGRhdGVVc2VyUm9sZXMoaW50IHVzZXJJZCwgTGlzdDxTdHJpbmc+IHJvbGVzKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFxcXCJVUERBVEUgdXNlciBTRVQgcm9sZSA9ID8gV0hFUkUgaWQgPSA/XFxcIjtcXG4gICAgICAgIFxcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgLy8gSm9pbmRyZSBsZXMgclxcdTAwZjRsZXMgZW4gdW5lIGNoYVxcdTAwZWVuZSBzXFx1MDBlOXBhclxcdTAwZTllIHBhciBkZXMgdmlyZ3VsZXNcXG4gICAgICAgICAgICBTdHJpbmcgcm9sZVN0cmluZyA9IFN0cmluZy5qb2luKFxcXCIsXFxcIiwgcm9sZXMpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMSwgcm9sZVN0cmluZyk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgyLCB1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFZcXHUwMGU5cmlmaWVyIHNpIHVuIHV0aWxpc2F0ZXVyIGEgdW4gclxcdTAwZjRsZSBzcFxcdTAwZTljaWZpcXVlXFxuICAgICAqIEBwYXJhbSB1c2VyIEwndXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHJvbGUgTGUgclxcdTAwZjRsZSBcXHUwMGUwIHZcXHUwMGU5cmlmaWVyXFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSBsJ3V0aWxpc2F0ZXVyIGEgbGUgclxcdTAwZjRsZSwgZmFsc2Ugc2lub25cXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIGJvb2xlYW4gaGFzUm9sZShVc2VyIHVzZXIsIFN0cmluZyByb2xlKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIGlmICh1c2VyID09IG51bGwpIHtcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIExpc3Q8U3RyaW5nPiByb2xlcyA9IGdldFVzZXJSb2xlcyh1c2VyLmdldElkKCkpO1xcbiAgICAgICAgcmV0dXJuIHJvbGVzLmNvbnRhaW5zKHJvbGUpO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBWXFx1MDBlOXJpZmllciBzaSB1biB1dGlsaXNhdGV1ciBlc3QgdW4gYWRtaW5pc3RyYXRldXJcXG4gICAgICogQHBhcmFtIHVzZXIgTCd1dGlsaXNhdGV1clxcbiAgICAgKiBAcmV0dXJuIHRydWUgc2kgbCd1dGlsaXNhdGV1ciBlc3QgdW4gYWRtaW5pc3RyYXRldXIsIGZhbHNlIHNpbm9uXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBib29sZWFuIGlzQWRtaW4oVXNlciB1c2VyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIHJldHVybiBoYXNSb2xlKHVzZXIsIFJPTEVfQURNSU4pIHx8IGhhc1JvbGUodXNlciwgUk9MRV9TVVBFUl9BRE1JTik7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFZcXHUwMGU5cmlmaWVyIHNpIHVuIHV0aWxpc2F0ZXVyIGVzdCB1biBzdXBlciBhZG1pbmlzdHJhdGV1clxcbiAgICAgKiBAcGFyYW0gdXNlciBMJ3V0aWxpc2F0ZXVyXFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSBsJ3V0aWxpc2F0ZXVyIGVzdCB1biBzdXBlciBhZG1pbmlzdHJhdGV1ciwgZmFsc2Ugc2lub25cXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIGJvb2xlYW4gaXNTdXBlckFkbWluKFVzZXIgdXNlcikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICByZXR1cm4gaGFzUm9sZSh1c2VyLCBST0xFX1NVUEVSX0FETUlOKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogVlxcdTAwZTlyaWZpZXIgc2kgdW4gdXRpbGlzYXRldXIgZXN0IHVuIGNsaWVudFxcbiAgICAgKiBAcGFyYW0gdXNlciBMJ3V0aWxpc2F0ZXVyXFxuICAgICAqIEByZXR1cm4gdHJ1ZSBzaSBsJ3V0aWxpc2F0ZXVyIGVzdCB1biBjbGllbnQsIGZhbHNlIHNpbm9uXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBib29sZWFuIGlzQ2xpZW50KFVzZXIgdXNlcikgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICByZXR1cm4gaGFzUm9sZSh1c2VyLCBST0xFX0NMSUVOVCk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIERcXHUwMGU5dGVybWluZXIgbGUgdHlwZSBkJ3V0aWxpc2F0ZXVyIChhZG1pbiwgc3VwZXIgYWRtaW4gb3UgY2xpZW50KVxcbiAgICAgKiBAcGFyYW0gdXNlciBMJ3V0aWxpc2F0ZXVyXFxuICAgICAqIEByZXR1cm4gTGUgdHlwZSBkJ3V0aWxpc2F0ZXVyIChBRE1JTiwgU1VQRVJfQURNSU4sIENMSUVOVCBvdSBudWxsIHNpIGF1Y3VuIHJcXHUwMGY0bGUpXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VXNlclR5cGUoVXNlciB1c2VyKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcXG4gICAgICAgIGlmICh1c2VyID09IG51bGwpIHtcXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgaWYgKGlzU3VwZXJBZG1pbih1c2VyKSkge1xcbiAgICAgICAgICAgIHJldHVybiBST0xFX1NVUEVSX0FETUlOO1xcbiAgICAgICAgfSBlbHNlIGlmIChpc0FkbWluKHVzZXIpKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFJPTEVfQURNSU47XFxuICAgICAgICB9IGVsc2UgaWYgKGlzQ2xpZW50KHVzZXIpKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFJPTEVfQ0xJRU5UO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkplIHZhaXMgY3LDqWVyIHVuIHNlcnZpY2UgcG91ciBsYSBnZXN0aW9uIGRlcyByw7RsZXMgZXQgbW9kaWZpZXIgbGUgY29udHLDtGxldXIgZGUgbG9naW4gcG91ciByZWRpcmlnZXIgbCd1dGlsaXNhdGV1ciB2ZXJzIGxlIHRhYmxlYXUgZGUgYm9yZCBhcHByb3ByacOpIGVuIGZvbmN0aW9uIGRlIHNvbiByw7RsZS5cblxuQ29tbWVuw6dvbnMgcGFyIGNyw6llciBsZSBmaWNoaWVyIFJvbGVTZXJ2aWNlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInJlc3BvbnNlX3RleHQiOiJKZSB2YWlzIGNyw6llciB1biBzZXJ2aWNlIHBvdXIgbGEgZ2VzdGlvbiBkZXMgcsO0bGVzIGV0IG1vZGlmaWVyIGxlIGNvbnRyw7RsZXVyIGRlIGxvZ2luIHBvdXIgcmVkaXJpZ2VyIGwndXRpbGlzYXRldXIgdmVycyBsZSB0YWJsZWF1IGRlIGJvcmQgYXBwcm9wcmnDqSBlbiBmb25jdGlvbiBkZSBzb24gcsO0bGUuXG5cbkNvbW1lbsOnb25zIHBhciBjcsOpZXIgbGUgZmljaGllciBSb2xlU2VydmljZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzIxZjMwMDItZWEzMS00MjZhLWJmMzItOGIyZmI4MTkwYmEwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVXpDN3Z6UmloTEYzQWtReHRvRm1lVCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9BZG1pbkRhc2hib2FyZC5meG1sXCIsIFwiZmlsZV9jb250ZW50XCI6IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0Lio/Plxcbjw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM/Plxcbjw/aW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0LlRleHQ/PlxcblxcbjxCb3JkZXJQYW5lIHhtbG5zPVxcXCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcXFwiXFxuICAgICAgICAgICAgeG1sbnM6Zng9XFxcImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcXFwiXFxuICAgICAgICAgICAgZng6Y29udHJvbGxlcj1cXFwiY29udHJvbGxlcnMuQWRtaW5EYXNoYm9hcmRDb250cm9sbGVyXFxcIlxcbiAgICAgICAgICAgIHByZWZIZWlnaHQ9XFxcIjYwMC4wXFxcIiBwcmVmV2lkdGg9XFxcIjgwMC4wXFxcIj5cXG4gICAgXFxuICAgIDx0b3A+XFxuICAgICAgICA8VkJveD5cXG4gICAgICAgICAgICA8TWVudUJhcj5cXG4gICAgICAgICAgICAgICAgPE1lbnUgdGV4dD1cXFwiRmljaGllclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdGV4dD1cXFwiRFxcdTAwZTljb25uZXhpb25cXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlTG9nb3V0XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VwYXJhdG9yTWVudUl0ZW0gLz5cXG4gICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB0ZXh0PVxcXCJRdWl0dGVyXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZUV4aXRcXFwiLz5cXG4gICAgICAgICAgICAgICAgPC9NZW51PlxcbiAgICAgICAgICAgICAgICA8TWVudSB0ZXh0PVxcXCJVdGlsaXNhdGV1cnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHRleHQ9XFxcIkdcXHUwMGU5cmVyIGxlcyB1dGlsaXNhdGV1cnNcXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlTWFuYWdlVXNlcnNcXFwiLz5cXG4gICAgICAgICAgICAgICAgPC9NZW51PlxcbiAgICAgICAgICAgICAgICA8TWVudSB0ZXh0PVxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnRzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB0ZXh0PVxcXCJHXFx1MDBlOXJlciBsZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVNYW5hZ2VFdmVudHNcXFwiLz5cXG4gICAgICAgICAgICAgICAgPC9NZW51PlxcbiAgICAgICAgICAgIDwvTWVudUJhcj5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8SEJveCBhbGlnbm1lbnQ9XFxcIkNFTlRFUl9MRUZUXFxcIiBzcGFjaW5nPVxcXCIxMFxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOyAtZngtcGFkZGluZzogMTBweDtcXFwiPlxcbiAgICAgICAgICAgICAgICA8VGV4dCB0ZXh0PVxcXCJUYWJsZWF1IGRlIGJvcmQgYWRtaW5pc3RyYXRldXJcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgIDxQYW5lIEhCb3guaGdyb3c9XFxcIkFMV0FZU1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcInVzZXJJbmZvVGV4dFxcXCIgdGV4dD1cXFwiQ29ubmVjdFxcdTAwZTkgZW4gdGFudCBxdWU6IEFkbWluXFxcIiAvPlxcbiAgICAgICAgICAgIDwvSEJveD5cXG4gICAgICAgIDwvVkJveD5cXG4gICAgPC90b3A+XFxuICAgIFxcbiAgICA8Y2VudGVyPlxcbiAgICAgICAgPFRhYlBhbmUgdGFiQ2xvc2luZ1BvbGljeT1cXFwiVU5BVkFJTEFCTEVcXFwiPlxcbiAgICAgICAgICAgIDxUYWIgdGV4dD1cXFwiUlxcdTAwZTlzdW1cXHUwMGU5XFxcIj5cXG4gICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz1cXFwiMjBcXFwiIGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxwYWRkaW5nPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPVxcXCIyMFxcXCIgcmlnaHQ9XFxcIjIwXFxcIiBib3R0b209XFxcIjIwXFxcIiBsZWZ0PVxcXCIyMFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9wYWRkaW5nPlxcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICA8VGV4dCB0ZXh0PVxcXCJCaWVudmVudWUgc3VyIGxlIHRhYmxlYXUgZGUgYm9yZCBhZG1pbmlzdHJhdGV1clxcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDI0cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPEhCb3ggc3BhY2luZz1cXFwiMjBcXFwiIGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCIgc3BhY2luZz1cXFwiMTBcXFwiIHN0eWxlPVxcXCItZngtYmFja2dyb3VuZC1jb2xvcjogI2U2ZjdmZjsgLWZ4LXBhZGRpbmc6IDIwcHg7IC1meC1iYWNrZ3JvdW5kLXJhZGl1czogNXB4O1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIlV0aWxpc2F0ZXVyc1xcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDE4cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcInVzZXJDb3VudFRleHRcXFwiIHRleHQ9XFxcIjBcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAyNHB4O1xcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XFxcIkdcXHUwMGU5cmVyXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZU1hbmFnZVVzZXJzXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIiBzcGFjaW5nPVxcXCIxMFxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZTZmZmU2OyAtZngtcGFkZGluZzogMjBweDsgLWZ4LWJhY2tncm91bmQtcmFkaXVzOiA1cHg7XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdGV4dD1cXFwiXFx1MDBjOXZcXHUwMGU5bmVtZW50c1xcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDE4cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcImV2ZW50Q291bnRUZXh0XFxcIiB0ZXh0PVxcXCIwXFxcIiBzdHlsZT1cXFwiLWZ4LWZvbnQtc2l6ZTogMjRweDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVxcXCJHXFx1MDBlOXJlclxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVNYW5hZ2VFdmVudHNcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICAgICAgPFZCb3ggYWxpZ25tZW50PVxcXCJDRU5URVJcXFwiIHNwYWNpbmc9XFxcIjEwXFxcIiBzdHlsZT1cXFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICNmZmYwZTY7IC1meC1wYWRkaW5nOiAyMHB4OyAtZngtYmFja2dyb3VuZC1yYWRpdXM6IDVweDtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB0ZXh0PVxcXCJSXFx1MDBlOXNlcnZhdGlvbnNcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZ4OmlkPVxcXCJyZXNlcnZhdGlvbkNvdW50VGV4dFxcXCIgdGV4dD1cXFwiMFxcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDI0cHg7XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cXFwiR1xcdTAwZTlyZXJcXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlTWFuYWdlUmVzZXJ2YXRpb25zXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94PlxcbiAgICAgICAgICAgICAgICAgICAgPC9IQm94PlxcbiAgICAgICAgICAgICAgICA8L1ZCb3g+XFxuICAgICAgICAgICAgPC9UYWI+XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgPFRhYiB0ZXh0PVxcXCJcXHUwMGM5dlxcdTAwZTluZW1lbnRzIHJcXHUwMGU5Y2VudHNcXFwiPlxcbiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPVxcXCIxMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5zZXRzIHRvcD1cXFwiMTBcXFwiIHJpZ2h0PVxcXCIxMFxcXCIgYm90dG9tPVxcXCIxMFxcXCIgbGVmdD1cXFwiMTBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvcGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPEhCb3ggYWxpZ25tZW50PVxcXCJDRU5URVJfTEVGVFxcXCIgc3BhY2luZz1cXFwiMTBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudHMgclxcdTAwZTljZW50c1xcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDE4cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8UGFuZSBIQm94Lmhncm93PVxcXCJBTFdBWVNcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVxcXCJBam91dGVyIHVuIFxcdTAwZTl2XFx1MDBlOW5lbWVudFxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVBZGRFdmVudFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9IQm94PlxcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPVxcXCJldmVudHNUYWJsZVxcXCIgVkJveC52Z3Jvdz1cXFwiQUxXQVlTXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJldmVudElkQ29sdW1uXFxcIiB0ZXh0PVxcXCJJRFxcXCIgcHJlZldpZHRoPVxcXCI1MFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9XFxcImV2ZW50VGl0bGVDb2x1bW5cXFwiIHRleHQ9XFxcIlRpdHJlXFxcIiBwcmVmV2lkdGg9XFxcIjE1MFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9XFxcImV2ZW50RGF0ZUNvbHVtblxcXCIgdGV4dD1cXFwiRGF0ZVxcXCIgcHJlZldpZHRoPVxcXCIxMDBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJldmVudFN0YXR1c0NvbHVtblxcXCIgdGV4dD1cXFwiU3RhdHV0XFxcIiBwcmVmV2lkdGg9XFxcIjEwMFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9XFxcImV2ZW50QWN0aW9uc0NvbHVtblxcXCIgdGV4dD1cXFwiQWN0aW9uc1xcXCIgcHJlZldpZHRoPVxcXCIxNTBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+XFxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz5cXG4gICAgICAgICAgICAgICAgPC9WQm94PlxcbiAgICAgICAgICAgIDwvVGFiPlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxUYWIgdGV4dD1cXFwiVXRpbGlzYXRldXJzXFxcIj5cXG4gICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz1cXFwiMTBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9XFxcIjEwXFxcIiByaWdodD1cXFwiMTBcXFwiIGJvdHRvbT1cXFwiMTBcXFwiIGxlZnQ9XFxcIjEwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8L3BhZGRpbmc+XFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSX0xFRlRcXFwiIHNwYWNpbmc9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB0ZXh0PVxcXCJMaXN0ZSBkZXMgdXRpbGlzYXRldXJzXFxcIiBzdHlsZT1cXFwiLWZ4LWZvbnQtc2l6ZTogMThweDsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkO1xcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxQYW5lIEhCb3guaGdyb3c9XFxcIkFMV0FZU1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVxcXCJ1c2VyU2VhcmNoRmllbGRcXFwiIHByb21wdFRleHQ9XFxcIlJlY2hlcmNoZXIgdW4gdXRpbGlzYXRldXJcXFwiIHByZWZXaWR0aD1cXFwiMjAwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVxcXCJBam91dGVyIHVuIHV0aWxpc2F0ZXVyXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZUFkZFVzZXJcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvSEJveD5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDppZD1cXFwidXNlcnNUYWJsZVxcXCIgVkJveC52Z3Jvdz1cXFwiQUxXQVlTXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJ1c2VySWRDb2x1bW5cXFwiIHRleHQ9XFxcIklEXFxcIiBwcmVmV2lkdGg9XFxcIjUwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD1cXFwidXNlck5hbWVDb2x1bW5cXFwiIHRleHQ9XFxcIk5vbVxcXCIgcHJlZldpZHRoPVxcXCIxNTBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJ1c2VyRW1haWxDb2x1bW5cXFwiIHRleHQ9XFxcIkVtYWlsXFxcIiBwcmVmV2lkdGg9XFxcIjIwMFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9XFxcInVzZXJSb2xlQ29sdW1uXFxcIiB0ZXh0PVxcXCJSXFx1MDBmNGxlXFxcIiBwcmVmV2lkdGg9XFxcIjEwMFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9XFxcInVzZXJBY3Rpb25zQ29sdW1uXFxcIiB0ZXh0PVxcXCJBY3Rpb25zXFxcIiBwcmVmV2lkdGg9XFxcIjE1MFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz5cXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGVWaWV3PlxcbiAgICAgICAgICAgICAgICA8L1ZCb3g+XFxuICAgICAgICAgICAgPC9UYWI+XFxuICAgICAgICA8L1RhYlBhbmU+XFxuICAgIDwvY2VudGVyPlxcbiAgICBcXG4gICAgPGJvdHRvbT5cXG4gICAgICAgIDxIQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSX1JJR0hUXFxcIiBzcGFjaW5nPVxcXCIxMFxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOyAtZngtcGFkZGluZzogNXB4O1xcXCI+XFxuICAgICAgICAgICAgPFRleHQgdGV4dD1cXFwiXFx1MDBhOSAyMDI1IC0gVG91cyBkcm9pdHMgclxcdTAwZTlzZXJ2XFx1MDBlOXNcXFwiIC8+XFxuICAgICAgICA8L0hCb3g+XFxuICAgIDwvYm90dG9tPlxcbiAgICBcXG48L0JvcmRlclBhbmU+XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBjcsOpb25zIGxlcyBmaWNoaWVycyBGWE1MIHBvdXIgbGVzIHRhYmxlYXV4IGRlIGJvcmQgYWRtaW4gZXQgY2xpZW50IDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURGa0hFc1g3eGRhN21WVlplTUdrRU0ifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsZXMgZmljaGllcnMgRlhNTCBwb3VyIGxlcyB0YWJsZWF1eCBkZSBib3JkIGFkbWluIGV0IGNsaWVudCA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZmIzZGFlODQtMTE2OC00YzVkLTgwNzYtMGI0OTU3MjVjZmUyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVG1Fa2tBaGNnRFc3NEZxUUplallQVSIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9DbGllbnREYXNoYm9hcmQuZnhtbFwiLCBcImZpbGVfY29udGVudFwiOiBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuXFxuPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKj8+XFxuPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz5cXG48P2ltcG9ydCBqYXZhZnguZ2VvbWV0cnkuSW5zZXRzPz5cXG48P2ltcG9ydCBqYXZhZnguc2NlbmUudGV4dC5UZXh0Pz5cXG5cXG48Qm9yZGVyUGFuZSB4bWxucz1cXFwiaHR0cDovL2phdmFmeC5jb20vamF2YWZ4XFxcIlxcbiAgICAgICAgICAgIHhtbG5zOmZ4PVxcXCJodHRwOi8vamF2YWZ4LmNvbS9meG1sXFxcIlxcbiAgICAgICAgICAgIGZ4OmNvbnRyb2xsZXI9XFxcImNvbnRyb2xsZXJzLkNsaWVudERhc2hib2FyZENvbnRyb2xsZXJcXFwiXFxuICAgICAgICAgICAgcHJlZkhlaWdodD1cXFwiNjAwLjBcXFwiIHByZWZXaWR0aD1cXFwiODAwLjBcXFwiPlxcbiAgICBcXG4gICAgPHRvcD5cXG4gICAgICAgIDxWQm94PlxcbiAgICAgICAgICAgIDxNZW51QmFyPlxcbiAgICAgICAgICAgICAgICA8TWVudSB0ZXh0PVxcXCJGaWNoaWVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB0ZXh0PVxcXCJEXFx1MDBlOWNvbm5leGlvblxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVMb2dvdXRcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZXBhcmF0b3JNZW51SXRlbSAvPlxcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHRleHQ9XFxcIlF1aXR0ZXJcXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlRXhpdFxcXCIvPlxcbiAgICAgICAgICAgICAgICA8L01lbnU+XFxuICAgICAgICAgICAgICAgIDxNZW51IHRleHQ9XFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudHNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHRleHQ9XFxcIlJlY2hlcmNoZXIgZGVzIFxcdTAwZTl2XFx1MDBlOW5lbWVudHNcXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlU2VhcmNoRXZlbnRzXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdGV4dD1cXFwiTWVzIHJcXHUwMGU5c2VydmF0aW9uc1xcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVNeVJlc2VydmF0aW9uc1xcXCIvPlxcbiAgICAgICAgICAgICAgICA8L01lbnU+XFxuICAgICAgICAgICAgICAgIDxNZW51IHRleHQ9XFxcIlByb2ZpbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdGV4dD1cXFwiVm9pciBtb24gcHJvZmlsXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZVZpZXdQcm9maWxlXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdGV4dD1cXFwiTW9kaWZpZXIgbW9uIHByb2ZpbFxcXCIgb25BY3Rpb249XFxcIiNoYW5kbGVFZGl0UHJvZmlsZVxcXCIvPlxcbiAgICAgICAgICAgICAgICA8L01lbnU+XFxuICAgICAgICAgICAgPC9NZW51QmFyPlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cXFwiQ0VOVEVSX0xFRlRcXFwiIHNwYWNpbmc9XFxcIjEwXFxcIiBzdHlsZT1cXFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7IC1meC1wYWRkaW5nOiAxMHB4O1xcXCI+XFxuICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIlRhYmxlYXUgZGUgYm9yZCBjbGllbnRcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgIDxQYW5lIEhCb3guaGdyb3c9XFxcIkFMV0FZU1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcInVzZXJJbmZvVGV4dFxcXCIgdGV4dD1cXFwiQ29ubmVjdFxcdTAwZTkgZW4gdGFudCBxdWU6IENsaWVudFxcXCIgLz5cXG4gICAgICAgICAgICA8L0hCb3g+XFxuICAgICAgICA8L1ZCb3g+XFxuICAgIDwvdG9wPlxcbiAgICBcXG4gICAgPGNlbnRlcj5cXG4gICAgICAgIDxUYWJQYW5lIHRhYkNsb3NpbmdQb2xpY3k9XFxcIlVOQVZBSUxBQkxFXFxcIj5cXG4gICAgICAgICAgICA8VGFiIHRleHQ9XFxcIkFjY3VlaWxcXFwiPlxcbiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPVxcXCIyMFxcXCIgYWxpZ25tZW50PVxcXCJDRU5URVJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHBhZGRpbmc+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyB0b3A9XFxcIjIwXFxcIiByaWdodD1cXFwiMjBcXFwiIGJvdHRvbT1cXFwiMjBcXFwiIGxlZnQ9XFxcIjIwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8L3BhZGRpbmc+XFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIkJpZW52ZW51ZSBzdXIgdm90cmUgZXNwYWNlIGNsaWVudFxcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDI0cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPEhCb3ggc3BhY2luZz1cXFwiMjBcXFwiIGFsaWdubWVudD1cXFwiQ0VOVEVSXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCIgc3BhY2luZz1cXFwiMTBcXFwiIHN0eWxlPVxcXCItZngtYmFja2dyb3VuZC1jb2xvcjogI2U2ZjdmZjsgLWZ4LXBhZGRpbmc6IDIwcHg7IC1meC1iYWNrZ3JvdW5kLXJhZGl1czogNXB4O1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudHMgZGlzcG9uaWJsZXNcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZ4OmlkPVxcXCJhdmFpbGFibGVFdmVudHNUZXh0XFxcIiB0ZXh0PVxcXCIwXFxcIiBzdHlsZT1cXFwiLWZ4LWZvbnQtc2l6ZTogMjRweDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVxcXCJWb2lyXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZVNlYXJjaEV2ZW50c1xcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVkJveD5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCIgc3BhY2luZz1cXFwiMTBcXFwiIHN0eWxlPVxcXCItZngtYmFja2dyb3VuZC1jb2xvcjogI2U2ZmZlNjsgLWZ4LXBhZGRpbmc6IDIwcHg7IC1meC1iYWNrZ3JvdW5kLXJhZGl1czogNXB4O1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIk1lcyByXFx1MDBlOXNlcnZhdGlvbnNcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZ4OmlkPVxcXCJteVJlc2VydmF0aW9uc1RleHRcXFwiIHRleHQ9XFxcIjBcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAyNHB4O1xcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XFxcIlZvaXJcXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlTXlSZXNlcnZhdGlvbnNcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1ZCb3g+XFxuICAgICAgICAgICAgICAgICAgICA8L0hCb3g+XFxuICAgICAgICAgICAgICAgIDwvVkJveD5cXG4gICAgICAgICAgICA8L1RhYj5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8VGFiIHRleHQ9XFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudHNcXFwiPlxcbiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPVxcXCIxMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5zZXRzIHRvcD1cXFwiMTBcXFwiIHJpZ2h0PVxcXCIxMFxcXCIgYm90dG9tPVxcXCIxMFxcXCIgbGVmdD1cXFwiMTBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvcGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPEhCb3ggYWxpZ25tZW50PVxcXCJDRU5URVJfTEVGVFxcXCIgc3BhY2luZz1cXFwiMTBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudHMgZGlzcG9uaWJsZXNcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFBhbmUgSEJveC5oZ3Jvdz1cXFwiQUxXQVlTXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XFxcImV2ZW50U2VhcmNoRmllbGRcXFwiIHByb21wdFRleHQ9XFxcIlJlY2hlcmNoZXIgdW4gXFx1MDBlOXZcXHUwMGU5bmVtZW50XFxcIiBwcmVmV2lkdGg9XFxcIjIwMFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9IQm94PlxcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICA8VGFibGVWaWV3IGZ4OmlkPVxcXCJldmVudHNUYWJsZVxcXCIgVkJveC52Z3Jvdz1cXFwiQUxXQVlTXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJldmVudFRpdGxlQ29sdW1uXFxcIiB0ZXh0PVxcXCJUaXRyZVxcXCIgcHJlZldpZHRoPVxcXCIyMDBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJldmVudERhdGVDb2x1bW5cXFwiIHRleHQ9XFxcIkRhdGVcXFwiIHByZWZXaWR0aD1cXFwiMTUwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD1cXFwiZXZlbnRQbGFjZXNDb2x1bW5cXFwiIHRleHQ9XFxcIlBsYWNlcyBkaXNwb25pYmxlc1xcXCIgcHJlZldpZHRoPVxcXCIxNTBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJldmVudEFjdGlvbnNDb2x1bW5cXFwiIHRleHQ9XFxcIkFjdGlvbnNcXFwiIHByZWZXaWR0aD1cXFwiMTUwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPlxcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+XFxuICAgICAgICAgICAgICAgIDwvVkJveD5cXG4gICAgICAgICAgICA8L1RhYj5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8VGFiIHRleHQ9XFxcIk1lcyByXFx1MDBlOXNlcnZhdGlvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICA8VkJveCBzcGFjaW5nPVxcXCIxMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5zZXRzIHRvcD1cXFwiMTBcXFwiIHJpZ2h0PVxcXCIxMFxcXCIgYm90dG9tPVxcXCIxMFxcXCIgbGVmdD1cXFwiMTBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvcGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPEhCb3ggYWxpZ25tZW50PVxcXCJDRU5URVJfTEVGVFxcXCIgc3BhY2luZz1cXFwiMTBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRleHQ9XFxcIk1lcyByXFx1MDBlOXNlcnZhdGlvbnNcXFwiIHN0eWxlPVxcXCItZngtZm9udC1zaXplOiAxOHB4OyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8L0hCb3g+XFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9XFxcInJlc2VydmF0aW9uc1RhYmxlXFxcIiBWQm94LnZncm93PVxcXCJBTFdBWVNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5zPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gZng6aWQ9XFxcInJlc2VydmF0aW9uRXZlbnRDb2x1bW5cXFwiIHRleHQ9XFxcIlxcdTAwYzl2XFx1MDBlOW5lbWVudFxcXCIgcHJlZldpZHRoPVxcXCIyMDBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJyZXNlcnZhdGlvbkRhdGVDb2x1bW5cXFwiIHRleHQ9XFxcIkRhdGVcXFwiIHByZWZXaWR0aD1cXFwiMTUwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiBmeDppZD1cXFwicmVzZXJ2YXRpb25TdGF0dXNDb2x1bW5cXFwiIHRleHQ9XFxcIlN0YXR1dFxcXCIgcHJlZldpZHRoPVxcXCIxMDBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIGZ4OmlkPVxcXCJyZXNlcnZhdGlvbkFjdGlvbnNDb2x1bW5cXFwiIHRleHQ9XFxcIkFjdGlvbnNcXFwiIHByZWZXaWR0aD1cXFwiMTUwXFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5zPlxcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVZpZXc+XFxuICAgICAgICAgICAgICAgIDwvVkJveD5cXG4gICAgICAgICAgICA8L1RhYj5cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICA8VGFiIHRleHQ9XFxcIlByb2ZpbFxcXCI+XFxuICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9XFxcIjIwXFxcIiBhbGlnbm1lbnQ9XFxcIkNFTlRFUlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8cGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5zZXRzIHRvcD1cXFwiMjBcXFwiIHJpZ2h0PVxcXCIyMFxcXCIgYm90dG9tPVxcXCIyMFxcXCIgbGVmdD1cXFwiMjBcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvcGFkZGluZz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPFRleHQgdGV4dD1cXFwiTW9uIHByb2ZpbFxcXCIgc3R5bGU9XFxcIi1meC1mb250LXNpemU6IDI0cHg7IC1meC1mb250LXdlaWdodDogYm9sZDtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9XFxcIjEwXFxcIiB2Z2FwPVxcXCIxMFxcXCIgYWxpZ25tZW50PVxcXCJDRU5URVJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2x1bW5Db25zdHJhaW50cz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhncm93PVxcXCJORVZFUlxcXCIgbWluV2lkdGg9XFxcIjEwMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhncm93PVxcXCJBTFdBWVNcXFwiIG1pbldpZHRoPVxcXCIyMDBcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiTm9tOlxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjBcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIwXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IGZ4OmlkPVxcXCJuYW1lVGV4dFxcXCIgdGV4dD1cXFwiTm9tIGR1IGNsaWVudFxcXCIgR3JpZFBhbmUucm93SW5kZXg9XFxcIjBcXFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVxcXCIxXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJQclxcdTAwZTlub206XFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiMVxcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjBcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcImZpcnN0TmFtZVRleHRcXFwiIHRleHQ9XFxcIlByXFx1MDBlOW5vbSBkdSBjbGllbnRcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIxXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiRW1haWw6XFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiMlxcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjBcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgZng6aWQ9XFxcImVtYWlsVGV4dFxcXCIgdGV4dD1cXFwiZW1haWxAZXhlbXBsZS5jb21cXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIyXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiQWRyZXNzZTpcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCIzXFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBmeDppZD1cXFwiYWRkcmVzc1RleHRcXFwiIHRleHQ9XFxcIkFkcmVzc2UgZHUgY2xpZW50XFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiM1xcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjFcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIlRcXHUwMGU5bFxcdTAwZTlwaG9uZTpcXFwiIEdyaWRQYW5lLnJvd0luZGV4PVxcXCI0XFxcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cXFwiMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCBmeDppZD1cXFwicGhvbmVUZXh0XFxcIiB0ZXh0PVxcXCJUXFx1MDBlOWxcXHUwMGU5cGhvbmUgZHUgY2xpZW50XFxcIiBHcmlkUGFuZS5yb3dJbmRleD1cXFwiNFxcXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XFxcIjFcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8L0dyaWRQYW5lPlxcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XFxcIk1vZGlmaWVyIG1vbiBwcm9maWxcXFwiIG9uQWN0aW9uPVxcXCIjaGFuZGxlRWRpdFByb2ZpbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvVkJveD5cXG4gICAgICAgICAgICA8L1RhYj5cXG4gICAgICAgIDwvVGFiUGFuZT5cXG4gICAgPC9jZW50ZXI+XFxuICAgIFxcbiAgICA8Ym90dG9tPlxcbiAgICAgICAgPEhCb3ggYWxpZ25tZW50PVxcXCJDRU5URVJfUklHSFRcXFwiIHNwYWNpbmc9XFxcIjEwXFxcIiBzdHlsZT1cXFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7IC1meC1wYWRkaW5nOiA1cHg7XFxcIj5cXG4gICAgICAgICAgICA8VGV4dCB0ZXh0PVxcXCJcXHUwMGE5IDIwMjUgLSBUb3VzIGRyb2l0cyByXFx1MDBlOXNlcnZcXHUwMGU5c1xcXCIgLz5cXG4gICAgICAgIDwvSEJveD5cXG4gICAgPC9ib3R0b20+XFxuICAgIFxcbjwvQm9yZGVyUGFuZT5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVV6Qzd2elJpaExGM0FrUXh0b0ZtZVQifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRjYTQ5ZGZkLTFmZTktNDU1Ny04NGM5LTY3MzA0Yjk4MjkzNSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThrUTc0cEp6VzNnYWJZS21QMUNjVGoiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9BZG1pbkRhc2hib2FyZENvbnRyb2xsZXIuamF2YVwiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2UgY29udHJvbGxlcnM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybTtcXG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xcbmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkFsZXJ0O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJsZUNvbHVtbjtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVWaWV3O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0RmllbGQ7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0LlRleHQ7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5pbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XFxuaW1wb3J0IHNlcnZpY2VzLkV2ZW50U2VydmljZTtcXG5pbXBvcnQgc2VydmljZXMuUmVzZXJ2YXRpb25TZXJ2aWNlO1xcbmltcG9ydCBzZXJ2aWNlcy5Sb2xlU2VydmljZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcXG5pbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xcblxcbnB1YmxpYyBjbGFzcyBBZG1pbkRhc2hib2FyZENvbnRyb2xsZXIgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IHVzZXJJbmZvVGV4dDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IHVzZXJDb3VudFRleHQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dCBldmVudENvdW50VGV4dDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IHJlc2VydmF0aW9uQ291bnRUZXh0O1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRhYmxlVmlldzw/PiBldmVudHNUYWJsZTtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUYWJsZVZpZXc8Pz4gdXNlcnNUYWJsZTtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdXNlclNlYXJjaEZpZWxkO1xcblxcbiAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xcbiAgICBwcml2YXRlIFJvbGVTZXJ2aWNlIHJvbGVTZXJ2aWNlO1xcbiAgICBwcml2YXRlIEV2ZW50U2VydmljZSBldmVudFNlcnZpY2U7XFxuICAgIHByaXZhdGUgUmVzZXJ2YXRpb25TZXJ2aWNlIHJlc2VydmF0aW9uU2VydmljZTtcXG5cXG4gICAgcHVibGljIEFkbWluRGFzaGJvYXJkQ29udHJvbGxlcigpIHtcXG4gICAgICAgIGF1dGhTZXJ2aWNlID0gQXV0aFNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcXG4gICAgICAgIHJvbGVTZXJ2aWNlID0gUm9sZVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcXG4gICAgICAgIGV2ZW50U2VydmljZSA9IEV2ZW50U2VydmljZS5nZXRJbnN0YW5jZSgpO1xcbiAgICAgICAgcmVzZXJ2YXRpb25TZXJ2aWNlID0gUmVzZXJ2YXRpb25TZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgIH1cXG5cXG4gICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcXG4gICAgICAgIC8vIEFmZmljaGVyIGxlcyBpbmZvcm1hdGlvbnMgZGUgbCd1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOVxcbiAgICAgICAgVXNlciBjdXJyZW50VXNlciA9IGF1dGhTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7XFxuICAgICAgICBpZiAoY3VycmVudFVzZXIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgIHVzZXJJbmZvVGV4dC5zZXRUZXh0KFxcXCJDb25uZWN0XFx1MDBlOSBlbiB0YW50IHF1ZTogXFxcIiArIGN1cnJlbnRVc2VyLmdldFByZW5vbSgpICsgXFxcIiBcXFwiICsgY3VycmVudFVzZXIuZ2V0Tm9tKCkpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLy8gQ2hhcmdlciBsZXMgc3RhdGlzdGlxdWVzXFxuICAgICAgICBsb2FkU3RhdGlzdGljcygpO1xcblxcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHRhYmxlYXV4XFxuICAgICAgICBpbml0aWFsaXplVGFibGVzKCk7XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRTdGF0aXN0aWNzKCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBDb21wdGVyIGxlIG5vbWJyZSBkJ3V0aWxpc2F0ZXVyc1xcbiAgICAgICAgICAgIGludCB1c2VyQ291bnQgPSAwOyAvLyBcXHUwMGMwIGltcGxcXHUwMGU5bWVudGVyXFxuICAgICAgICAgICAgdXNlckNvdW50VGV4dC5zZXRUZXh0KFN0cmluZy52YWx1ZU9mKHVzZXJDb3VudCkpO1xcblxcbiAgICAgICAgICAgIC8vIENvbXB0ZXIgbGUgbm9tYnJlIGQnXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcbiAgICAgICAgICAgIGludCBldmVudENvdW50ID0gMDsgLy8gXFx1MDBjMCBpbXBsXFx1MDBlOW1lbnRlclxcbiAgICAgICAgICAgIGV2ZW50Q291bnRUZXh0LnNldFRleHQoU3RyaW5nLnZhbHVlT2YoZXZlbnRDb3VudCkpO1xcblxcbiAgICAgICAgICAgIC8vIENvbXB0ZXIgbGUgbm9tYnJlIGRlIHJcXHUwMGU5c2VydmF0aW9uc1xcbiAgICAgICAgICAgIGludCByZXNlcnZhdGlvbkNvdW50ID0gMDsgLy8gXFx1MDBjMCBpbXBsXFx1MDBlOW1lbnRlclxcbiAgICAgICAgICAgIHJlc2VydmF0aW9uQ291bnRUZXh0LnNldFRleHQoU3RyaW5nLnZhbHVlT2YocmVzZXJ2YXRpb25Db3VudCkpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyXFxcIiwgXFxcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVzIHN0YXRpc3RpcXVlczogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplVGFibGVzKCkge1xcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgdGFibGVhdSBkZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcbiAgICAgICAgLy8gXFx1MDBjMCBpbXBsXFx1MDBlOW1lbnRlclxcblxcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgdGFibGVhdSBkZXMgdXRpbGlzYXRldXJzXFxuICAgICAgICAvLyBcXHUwMGMwIGltcGxcXHUwMGU5bWVudGVyXFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlTG9nb3V0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICAvLyBEXFx1MDBlOWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyXFxuICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcXG5cXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIik7XFxuICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG5cXG4gICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY1xcdTAwZThuZVxcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgdXNlckluZm9UZXh0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFxcXCJDb25uZXhpb25cXFwiKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZGUgbmF2aWdhdGlvblxcXCIsIFxcXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2XFx1MDBlOTogXFxcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxhIHBhZ2UgZGUgY29ubmV4aW9uLlxcXCIpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlRXhpdChBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgLy8gUXVpdHRlciBsJ2FwcGxpY2F0aW9uXFxuICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlTWFuYWdlVXNlcnMoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbmZvcm1hdGlvblxcXCIsIFxcXCJGb25jdGlvbm5hbGl0XFx1MDBlOSBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVNYW5hZ2VFdmVudHMoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbmZvcm1hdGlvblxcXCIsIFxcXCJGb25jdGlvbm5hbGl0XFx1MDBlOSBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVNYW5hZ2VSZXNlcnZhdGlvbnMoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbmZvcm1hdGlvblxcXCIsIFxcXCJGb25jdGlvbm5hbGl0XFx1MDBlOSBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVBZGRFdmVudChBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkluZm9ybWF0aW9uXFxcIiwgXFxcIkZvbmN0aW9ubmFsaXRcXHUwMGU5IG5vbiBpbXBsXFx1MDBlOW1lbnRcXHUwMGU5ZVxcXCIpO1xcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZUFkZFVzZXIoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbmZvcm1hdGlvblxcXCIsIFxcXCJGb25jdGlvbm5hbGl0XFx1MDBlOSBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcblxcbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIG1lc3NhZ2UpIHtcXG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XFxuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XFxuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobWVzc2FnZSk7XFxuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xcbiAgICB9XFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsZXMgY29udHLDtGxldXJzIHBvdXIgbGVzIHRhYmxlYXV4IGRlIGJvcmQgYWRtaW4gZXQgY2xpZW50IDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRtRWtrQWhjZ0RXNzRGcVFKZWpZUFUifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgY3LDqW9ucyBsZXMgY29udHLDtGxldXJzIHBvdXIgbGVzIHRhYmxlYXV4IGRlIGJvcmQgYWRtaW4gZXQgY2xpZW50IDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhMThiZjY5NC0wMDI3LTQyZTctYTU2ZS0wMTAyZWM0NjhhMTciLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5c2FNdXBraEFCVHloV0hOM3lqM01mIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvQ2xpZW50RGFzaGJvYXJkQ29udHJvbGxlci5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBjb250cm9sbGVycztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLlBsYXRmb3JtO1xcbmltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XFxuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRhYmxlQ29sdW1uO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJsZVZpZXc7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRleHRGaWVsZDtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLnRleHQuVGV4dDtcXG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xcbmltcG9ydCBzZXJ2aWNlcy5BdXRoU2VydmljZTtcXG5pbXBvcnQgc2VydmljZXMuRXZlbnRTZXJ2aWNlO1xcbmltcG9ydCBzZXJ2aWNlcy5SZXNlcnZhdGlvblNlcnZpY2U7XFxuaW1wb3J0IHNlcnZpY2VzLlJvbGVTZXJ2aWNlO1xcblxcbmltcG9ydCBqYXZhLmlvLkZpbGU7XFxuaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XFxuaW1wb3J0IGphdmEubmV0LlVSTDtcXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7XFxuXFxucHVibGljIGNsYXNzIENsaWVudERhc2hib2FyZENvbnRyb2xsZXIgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IHVzZXJJbmZvVGV4dDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IGF2YWlsYWJsZUV2ZW50c1RleHQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dCBteVJlc2VydmF0aW9uc1RleHQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGFibGVWaWV3PD8+IGV2ZW50c1RhYmxlO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRhYmxlVmlldzw/PiByZXNlcnZhdGlvbnNUYWJsZTtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgZXZlbnRTZWFyY2hGaWVsZDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IG5hbWVUZXh0O1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHQgZmlyc3ROYW1lVGV4dDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IGVtYWlsVGV4dDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0IGFkZHJlc3NUZXh0O1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRleHQgcGhvbmVUZXh0O1xcblxcbiAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xcbiAgICBwcml2YXRlIFJvbGVTZXJ2aWNlIHJvbGVTZXJ2aWNlO1xcbiAgICBwcml2YXRlIEV2ZW50U2VydmljZSBldmVudFNlcnZpY2U7XFxuICAgIHByaXZhdGUgUmVzZXJ2YXRpb25TZXJ2aWNlIHJlc2VydmF0aW9uU2VydmljZTtcXG5cXG4gICAgcHVibGljIENsaWVudERhc2hib2FyZENvbnRyb2xsZXIoKSB7XFxuICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgICAgICByb2xlU2VydmljZSA9IFJvbGVTZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgICAgICBldmVudFNlcnZpY2UgPSBFdmVudFNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcXG4gICAgICAgIHJlc2VydmF0aW9uU2VydmljZSA9IFJlc2VydmF0aW9uU2VydmljZS5nZXRJbnN0YW5jZSgpO1xcbiAgICB9XFxuXFxuICAgIEBPdmVycmlkZVxcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XFxuICAgICAgICAvLyBBZmZpY2hlciBsZXMgaW5mb3JtYXRpb25zIGRlIGwndXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTlcXG4gICAgICAgIFVzZXIgY3VycmVudFVzZXIgPSBhdXRoU2VydmljZS5nZXRDdXJyZW50VXNlcigpO1xcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcXG4gICAgICAgICAgICB1c2VySW5mb1RleHQuc2V0VGV4dChcXFwiQ29ubmVjdFxcdTAwZTkgZW4gdGFudCBxdWU6IFxcXCIgKyBjdXJyZW50VXNlci5nZXRQcmVub20oKSArIFxcXCIgXFxcIiArIGN1cnJlbnRVc2VyLmdldE5vbSgpKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBSZW1wbGlyIGxlcyBpbmZvcm1hdGlvbnMgZHUgcHJvZmlsXFxuICAgICAgICAgICAgbmFtZVRleHQuc2V0VGV4dChjdXJyZW50VXNlci5nZXROb20oKSk7XFxuICAgICAgICAgICAgZmlyc3ROYW1lVGV4dC5zZXRUZXh0KGN1cnJlbnRVc2VyLmdldFByZW5vbSgpKTtcXG4gICAgICAgICAgICBlbWFpbFRleHQuc2V0VGV4dChjdXJyZW50VXNlci5nZXRFbWFpbCgpKTtcXG4gICAgICAgICAgICBhZGRyZXNzVGV4dC5zZXRUZXh0KGN1cnJlbnRVc2VyLmdldEFkcmVzc2UoKSk7XFxuICAgICAgICAgICAgcGhvbmVUZXh0LnNldFRleHQoY3VycmVudFVzZXIuZ2V0VGVsZXBob25lKCkpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLy8gQ2hhcmdlciBsZXMgc3RhdGlzdGlxdWVzXFxuICAgICAgICBsb2FkU3RhdGlzdGljcygpO1xcblxcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHRhYmxlYXV4XFxuICAgICAgICBpbml0aWFsaXplVGFibGVzKCk7XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRTdGF0aXN0aWNzKCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBDb21wdGVyIGxlIG5vbWJyZSBkJ1xcdTAwZTl2XFx1MDBlOW5lbWVudHMgZGlzcG9uaWJsZXNcXG4gICAgICAgICAgICBpbnQgYXZhaWxhYmxlRXZlbnRzID0gMDsgLy8gXFx1MDBjMCBpbXBsXFx1MDBlOW1lbnRlclxcbiAgICAgICAgICAgIGF2YWlsYWJsZUV2ZW50c1RleHQuc2V0VGV4dChTdHJpbmcudmFsdWVPZihhdmFpbGFibGVFdmVudHMpKTtcXG5cXG4gICAgICAgICAgICAvLyBDb21wdGVyIGxlIG5vbWJyZSBkZSByXFx1MDBlOXNlcnZhdGlvbnMgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgICAgIGludCBteVJlc2VydmF0aW9ucyA9IDA7IC8vIFxcdTAwYzAgaW1wbFxcdTAwZTltZW50ZXJcXG4gICAgICAgICAgICBteVJlc2VydmF0aW9uc1RleHQuc2V0VGV4dChTdHJpbmcudmFsdWVPZihteVJlc2VydmF0aW9ucykpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyXFxcIiwgXFxcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVzIHN0YXRpc3RpcXVlczogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplVGFibGVzKCkge1xcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgdGFibGVhdSBkZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcbiAgICAgICAgLy8gXFx1MDBjMCBpbXBsXFx1MDBlOW1lbnRlclxcblxcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgdGFibGVhdSBkZXMgclxcdTAwZTlzZXJ2YXRpb25zXFxuICAgICAgICAvLyBcXHUwMGMwIGltcGxcXHUwMGU5bWVudGVyXFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlTG9nb3V0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICAvLyBEXFx1MDBlOWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyXFxuICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcXG5cXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIik7XFxuICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG5cXG4gICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY1xcdTAwZThuZVxcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgdXNlckluZm9UZXh0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFxcXCJDb25uZXhpb25cXFwiKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZGUgbmF2aWdhdGlvblxcXCIsIFxcXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2XFx1MDBlOTogXFxcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiSW1wb3NzaWJsZSBkZSBjaGFyZ2VyIGxhIHBhZ2UgZGUgY29ubmV4aW9uLlxcXCIpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlRXhpdChBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgLy8gUXVpdHRlciBsJ2FwcGxpY2F0aW9uXFxuICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlU2VhcmNoRXZlbnRzKEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcXFwiSW5mb3JtYXRpb25cXFwiLCBcXFwiRm9uY3Rpb25uYWxpdFxcdTAwZTkgbm9uIGltcGxcXHUwMGU5bWVudFxcdTAwZTllXFxcIik7XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlTXlSZXNlcnZhdGlvbnMoQWN0aW9uRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbmZvcm1hdGlvblxcXCIsIFxcXCJGb25jdGlvbm5hbGl0XFx1MDBlOSBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVWaWV3UHJvZmlsZShBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkluZm9ybWF0aW9uXFxcIiwgXFxcIkZvbmN0aW9ubmFsaXRcXHUwMGU5IG5vbiBpbXBsXFx1MDBlOW1lbnRcXHUwMGU5ZVxcXCIpO1xcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZUVkaXRQcm9maWxlKEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcXFwiSW5mb3JtYXRpb25cXFwiLCBcXFwiRm9uY3Rpb25uYWxpdFxcdTAwZTkgbm9uIGltcGxcXHUwMGU5bWVudFxcdTAwZTllXFxcIik7XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7XFxuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcXG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KG1lc3NhZ2UpO1xcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThrUTc0cEp6VzNnYWJZS21QMUNjVGoifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImU5NWEyODNlLWU0MTYtNDI3OS04MmVlLWY2Y2RlM2I1ZTk1YyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVk1aGJOZWJIOUZDNkM2SGVnTWJMczciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IHNlcnZpY2VzLkF1dGhTZXJ2aWNlO1wiLCBcIm5ld19zdHJcIjogXCJpbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XFxuaW1wb3J0IHNlcnZpY2VzLlJvbGVTZXJ2aWNlO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTF9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIG1vZGlmaW9ucyBsZSBjb250csO0bGV1ciBMb2dpbkNvbnRyb2xsZXIgcG91ciB1dGlsaXNlciBsZSBzZXJ2aWNlIFJvbGVTZXJ2aWNlIGV0IHJlZGlyaWdlciBsJ3V0aWxpc2F0ZXVyIHZlcnMgbGUgdGFibGVhdSBkZSBib3JkIGFwcHJvcHJpw6kgZW4gZm9uY3Rpb24gZGUgc29uIHLDtGxlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTlzYU11cGtoQUJUeWhXSE4zeWozTWYifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgbW9kaWZpb25zIGxlIGNvbnRyw7RsZXVyIExvZ2luQ29udHJvbGxlciBwb3VyIHV0aWxpc2VyIGxlIHNlcnZpY2UgUm9sZVNlcnZpY2UgZXQgcmVkaXJpZ2VyIGwndXRpbGlzYXRldXIgdmVycyBsZSB0YWJsZWF1IGRlIGJvcmQgYXBwcm9wcmnDqSBlbiBmb25jdGlvbiBkZSBzb24gcsO0bGUgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImZmNjMzYzFlLTM3NDctNDNkNi04MzBmLTExNWNiMTJmZmU4MSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUZUMmNxUktDbXptNlRUQXFxdXY4WDUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgQXV0aFNlcnZpY2UgYXV0aFNlcnZpY2U7XFxuXFxuICAgIHB1YmxpYyBMb2dpbkNvbnRyb2xsZXIoKSB7XFxuICAgICAgICAvLyBJbml0aWFsaXNlciBsZSBzZXJ2aWNlIGQnYXV0aGVudGlmaWNhdGlvblxcbiAgICAgICAgYXV0aFNlcnZpY2UgPSBBdXRoU2VydmljZS5nZXRJbnN0YW5jZSgpO1xcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xcbiAgICBwcml2YXRlIFJvbGVTZXJ2aWNlIHJvbGVTZXJ2aWNlO1xcblxcbiAgICBwdWJsaWMgTG9naW5Db250cm9sbGVyKCkge1xcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGVzIHNlcnZpY2VzXFxuICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgICAgICByb2xlU2VydmljZSA9IFJvbGVTZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDMyLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDM3fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG4gICAgIDlcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgIDExXHRpbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XG4gICAgMTJcdGltcG9ydCBzZXJ2aWNlcy5Sb2xlU2VydmljZTtcbiAgICAxM1x0XG4gICAgMTRcdGltcG9ydCBqYXZhLmlvLkZpbGU7XG4gICAgMTVcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDE2XHRpbXBvcnQgamF2YS5uZXQuVVJMO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFZNWhiTmViSDlGQzZDNkhlZ01iTHM3In19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4NTZiMmY0Zi1mZTZiLTRmMWMtYTY2Zi03MmZiY2UwZWNhM2IiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3bUNNZ0hGREF5N1hwTDJ0M3hTVDFGIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgICAgICAgICAvLyBSZWRpcmlnZXIgdmVycyBsYSBwYWdlIGQnYWNjdWVpbFxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvSG9tZSgpO1wiLCBcIm5ld19zdHJcIjogXCIgICAgICAgICAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGUgdGFibGVhdSBkZSBib3JkIGFwcHJvcHJpXFx1MDBlOSBlbiBmb25jdGlvbiBkdSByXFx1MDBmNGxlXFxuICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9EYXNoYm9hcmQodXNlcik7XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA1OCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1OX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgMjlcdFxuICAgIDMwXHQgICAgQEZYTUxcbiAgICAzMVx0ICAgIHByaXZhdGUgSHlwZXJsaW5rIHJlZ2lzdGVyTGluaztcbiAgICAzMlx0XG4gICAgMzNcdCAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xuICAgIDM0XHQgICAgcHJpdmF0ZSBSb2xlU2VydmljZSByb2xlU2VydmljZTtcbiAgICAzNVx0XG4gICAgMzZcdCAgICBwdWJsaWMgTG9naW5Db250cm9sbGVyKCkge1xuICAgIDM3XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxlcyBzZXJ2aWNlc1xuICAgIDM4XHQgICAgICAgIGF1dGhTZXJ2aWNlID0gQXV0aFNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcbiAgICAzOVx0ICAgICAgICByb2xlU2VydmljZSA9IFJvbGVTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgNDBcdCAgICB9XG4gICAgNDFcdFxuICAgIDQyXHQgICAgQEZYTUxcbiAgICA0M1x0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ2luKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDRcdCAgICAgICAgU3RyaW5nIGVtYWlsID0gZW1haWxGaWVsZC5nZXRUZXh0KCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUZUMmNxUktDbXptNlRUQXFxdXY4WDUifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjEzMWFlYjRlLWIwOGEtNGJiYS1iMzc4LTljZWZhZDQ0YmI1MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUpaR3dLTHlpczZkNjZoVWJtRlJweVEiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBuYXZpZ2F0ZVRvSG9tZSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XFxuICAgICAgICAvLyBDaGFyZ2VyIGxhIHBhZ2UgZCdhY2N1ZWlsIGF2ZWMgdW4gY2hlbWluIGFic29sdVxcbiAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXFxcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0hvbWUuZnhtbFxcXCIpO1xcbiAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGxvZ2luQnV0dG9uLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XFxuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFxcXCJBY2N1ZWlsXFxcIik7XFxuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiRmljaGllciBGWE1MIG5vbiB0cm91dlxcdTAwZTk6IFxcXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcXG4gICAgICAgIH1cXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIG5hdmlnYXRlVG9EYXNoYm9hcmQoVXNlciB1c2VyKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAvLyBEXFx1MDBlOXRlcm1pbmVyIGxlIHR5cGUgZCd1dGlsaXNhdGV1clxcbiAgICAgICAgICAgIFN0cmluZyB1c2VyVHlwZSA9IHJvbGVTZXJ2aWNlLmdldFVzZXJUeXBlKHVzZXIpO1xcbiAgICAgICAgICAgIFN0cmluZyBmeG1sUGF0aDtcXG4gICAgICAgICAgICBTdHJpbmcgdGl0bGU7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gQ2hvaXNpciBsZSB0YWJsZWF1IGRlIGJvcmQgYXBwcm9wcmlcXHUwMGU5XFxuICAgICAgICAgICAgaWYgKHVzZXJUeXBlICE9IG51bGwgJiYgKHVzZXJUeXBlLmVxdWFscyhSb2xlU2VydmljZS5ST0xFX0FETUlOKSB8fCB1c2VyVHlwZS5lcXVhbHMoUm9sZVNlcnZpY2UuUk9MRV9TVVBFUl9BRE1JTikpKSB7XFxuICAgICAgICAgICAgICAgIGZ4bWxQYXRoID0gXFxcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0FkbWluRGFzaGJvYXJkLmZ4bWxcXFwiO1xcbiAgICAgICAgICAgICAgICB0aXRsZSA9IFxcXCJUYWJsZWF1IGRlIGJvcmQgYWRtaW5pc3RyYXRldXJcXFwiO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIGZ4bWxQYXRoID0gXFxcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0NsaWVudERhc2hib2FyZC5meG1sXFxcIjtcXG4gICAgICAgICAgICAgICAgdGl0bGUgPSBcXFwiVGFibGVhdSBkZSBib3JkIGNsaWVudFxcXCI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIENoYXJnZXIgbGUgZmljaGllciBGWE1MXFxuICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoZnhtbFBhdGgpO1xcbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XFxuICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xcbiAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjXFx1MDBlOG5lXFxuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBsb2dpbkJ1dHRvbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZSh0aXRsZSk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiRmljaGllciBGWE1MIG5vbiB0cm91dlxcdTAwZTk6IFxcXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXIgZGUgclxcdTAwZjRsZVxcXCIsIFxcXCJJbXBvc3NpYmxlIGRlIGRcXHUwMGU5dGVybWluZXIgbGUgclxcdTAwZjRsZSBkZSBsJ3V0aWxpc2F0ZXVyOiBcXFwiICsgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEyOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxNDZ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDU3XHQgICAgICAgICAgICBpZiAodXNlciAhPSBudWxsKSB7XG4gICAgNThcdCAgICAgICAgICAgICAgICAvLyBDb25uZXhpb24gcsOpdXNzaWVcbiAgICA1OVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiQ29ubmV4aW9uIHLDqXVzc2llXCIsIFwiQmllbnZlbnVlIFwiICsgdXNlci5nZXRQcmVub20oKSArIFwiIFwiICsgdXNlci5nZXROb20oKSArIFwiIVwiKTtcbiAgICA2MFx0XG4gICAgNjFcdCAgICAgICAgICAgICAgICAvLyBSZWRpcmlnZXIgdmVycyBsZSB0YWJsZWF1IGRlIGJvcmQgYXBwcm9wcmnDqSBlbiBmb25jdGlvbiBkdSByw7RsZVxuICAgIDYyXHQgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0Rhc2hib2FyZCh1c2VyKTtcbiAgICA2M1x0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgICA2NFx0ICAgICAgICAgICAgICAgIC8vIMOJY2hlYyBkZSBsYSBjb25uZXhpb25cbiAgICA2NVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIGNvbm5leGlvblwiLCBcIkVtYWlsIG91IG1vdCBkZSBwYXNzZSBpbmNvcnJlY3QuXCIpO1xuICAgIDY2XHQgICAgICAgICAgICB9XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTdtQ01nSEZEQXk3WHBMMnQzeFNUMUYifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjU2NzIyMGE2LWYwODgtNDNjNS04ZWE4LWY2YTRmZGNiYjA1OCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBhcmZhaXQgISBKJ2FpIGNyw6nDqSB1biBzeXN0w6htZSBjb21wbGV0IGRlIGdlc3Rpb24gZGVzIHLDtGxlcyBldCBkZSByZWRpcmVjdGlvbiB2ZXJzIGxlcyB0YWJsZWF1eCBkZSBib3JkIGFwcHJvcHJpw6lzLiBWb2ljaSB1biByw6lzdW3DqSBkZXMgbW9kaWZpY2F0aW9ucyBlZmZlY3R1w6llcyA6XG5cbjEuICoqQ3LDqWF0aW9uIGR1IHNlcnZpY2UgUm9sZVNlcnZpY2UqKiA6XG4gICAtIE3DqXRob2RlcyBwb3VyIHLDqWN1cMOpcmVyIGxlcyByw7RsZXMgZCd1biB1dGlsaXNhdGV1clxuICAgLSBNw6l0aG9kZXMgcG91ciBham91dGVyL3N1cHByaW1lciBkZXMgcsO0bGVzXG4gICAtIE3DqXRob2RlcyBwb3VyIHbDqXJpZmllciBzaSB1biB1dGlsaXNhdGV1ciBhIHVuIHLDtGxlIHNww6ljaWZpcXVlXG4gICAtIE3DqXRob2RlIHBvdXIgZMOpdGVybWluZXIgbGUgdHlwZSBkJ3V0aWxpc2F0ZXVyIChhZG1pbiwgc3VwZXIgYWRtaW4gb3UgY2xpZW50KVxuXG4yLiAqKkNyw6lhdGlvbiBkZXMgdGFibGVhdXggZGUgYm9yZCoqIDpcbiAgIC0gYEFkbWluRGFzaGJvYXJkLmZ4bWxgIDogSW50ZXJmYWNlIHBvdXIgbGVzIGFkbWluaXN0cmF0ZXVyc1xuICAgLSBgQ2xpZW50RGFzaGJvYXJkLmZ4bWxgIDogSW50ZXJmYWNlIHBvdXIgbGVzIGNsaWVudHNcbiAgIC0gYEFkbWluRGFzaGJvYXJkQ29udHJvbGxlci5qYXZhYCA6IENvbnRyw7RsZXVyIHBvdXIgbGUgdGFibGVhdSBkZSBib3JkIGFkbWluXG4gICAtIGBDbGllbnREYXNoYm9hcmRDb250cm9sbGVyLmphdmFgIDogQ29udHLDtGxldXIgcG91ciBsZSB0YWJsZWF1IGRlIGJvcmQgY2xpZW50XG5cbjMuICoqTW9kaWZpY2F0aW9uIGR1IGNvbnRyw7RsZXVyIExvZ2luQ29udHJvbGxlcioqIDpcbiAgIC0gQWpvdXQgZHUgc2VydmljZSBSb2xlU2VydmljZVxuICAgLSBNb2RpZmljYXRpb24gZGUgbGEgbcOpdGhvZGUgZGUgbmF2aWdhdGlvbiBwb3VyIHJlZGlyaWdlciB2ZXJzIGxlIHRhYmxlYXUgZGUgYm9yZCBhcHByb3ByacOpIGVuIGZvbmN0aW9uIGR1IHLDtGxlIGRlIGwndXRpbGlzYXRldXJcblxuTWFpbnRlbmFudCwgbG9yc3F1J3VuIHV0aWxpc2F0ZXVyIHNlIGNvbm5lY3RlIDpcbjEuIExlIHN5c3TDqG1lIHbDqXJpZmllIHNlcyBpZGVudGlmaWFudHMgYXZlYyBsZSBzZXJ2aWNlIEF1dGhTZXJ2aWNlXG4yLiBTaSBsJ2F1dGhlbnRpZmljYXRpb24gcsOpdXNzaXQsIGxlIHN5c3TDqG1lIGTDqXRlcm1pbmUgbGUgcsO0bGUgZGUgbCd1dGlsaXNhdGV1ciBhdmVjIGxlIHNlcnZpY2UgUm9sZVNlcnZpY2VcbjMuIEVuIGZvbmN0aW9uIGR1IHLDtGxlLCBsJ3V0aWxpc2F0ZXVyIGVzdCByZWRpcmlnw6kgdmVycyBsZSB0YWJsZWF1IGRlIGJvcmQgYWRtaW5pc3RyYXRldXIgb3UgY2xpZW50XG5cbkNldHRlIGFyY2hpdGVjdHVyZSBwZXJtZXQgdW5lIHPDqXBhcmF0aW9uIGNsYWlyZSBkZXMgcmVzcG9uc2FiaWxpdMOpcyA6XG4tIExlcyBzZXJ2aWNlcyBnw6hyZW50IGxhIGxvZ2lxdWUgbcOpdGllciBldCBsJ2FjY8OocyBhdXggZG9ubsOpZXNcbi0gTGVzIGNvbnRyw7RsZXVycyBnw6hyZW50IGwnaW50ZXJmYWNlIHV0aWxpc2F0ZXVyIGV0IGxlcyBpbnRlcmFjdGlvbnNcbi0gTGVzIGVudGl0w6lzIHJlcHLDqXNlbnRlbnQgbGVzIGRvbm7DqWVzXG5cblBvdXIgY29tcGzDqXRlciBjZXR0ZSBpbXBsw6ltZW50YXRpb24sIHZvdXMgcG91cnJpZXogOlxuMS4gQWpvdXRlciBkZXMgbcOpdGhvZGVzIGRhbnMgbGUgc2VydmljZSBSb2xlU2VydmljZSBwb3VyIGfDqXJlciBsZXMgcsO0bGVzIGRlcyB1dGlsaXNhdGV1cnNcbjIuIEltcGzDqW1lbnRlciBsZXMgZm9uY3Rpb25uYWxpdMOpcyBkZXMgdGFibGVhdXggZGUgYm9yZCAoZ2VzdGlvbiBkZXMgdXRpbGlzYXRldXJzLCBkZXMgw6l2w6luZW1lbnRzLCBldGMuKVxuMy4gQWpvdXRlciBkZXMgdmFsaWRhdGlvbnMgc3VwcGzDqW1lbnRhaXJlcyBwb3VyIGxhIHPDqWN1cml0w6lcblxuQ2V0dGUgc3RydWN0dXJlIHZvdXMgZG9ubmUgdW5lIGJhc2Ugc29saWRlIHBvdXIgY29udGludWVyIMOgIGTDqXZlbG9wcGVyIHZvdHJlIGFwcGxpY2F0aW9uLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgOTlcdCAgICB9XG4gICAxMDBcdFxuICAgMTAxXHRcbiAgIDEwMlx0XG4gICAxMDNcdCAgICBwcml2YXRlIHZvaWQgbmF2aWdhdGVUb0Rhc2hib2FyZChVc2VyIHVzZXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAxMDRcdCAgICAgICAgdHJ5IHtcbiAgIDEwNVx0ICAgICAgICAgICAgLy8gRMOpdGVybWluZXIgbGUgdHlwZSBkJ3V0aWxpc2F0ZXVyXG4gICAxMDZcdCAgICAgICAgICAgIFN0cmluZyB1c2VyVHlwZSA9IHJvbGVTZXJ2aWNlLmdldFVzZXJUeXBlKHVzZXIpO1xuICAgMTA3XHQgICAgICAgICAgICBTdHJpbmcgZnhtbFBhdGg7XG4gICAxMDhcdCAgICAgICAgICAgIFN0cmluZyB0aXRsZTtcbiAgIDEwOVx0XG4gICAxMTBcdCAgICAgICAgICAgIC8vIENob2lzaXIgbGUgdGFibGVhdSBkZSBib3JkIGFwcHJvcHJpw6lcbiAgIDExMVx0ICAgICAgICAgICAgaWYgKHVzZXJUeXBlICE9IG51bGwgJiYgKHVzZXJUeXBlLmVxdWFscyhSb2xlU2VydmljZS5ST0xFX0FETUlOKSB8fCB1c2VyVHlwZS5lcXVhbHMoUm9sZVNlcnZpY2UuUk9MRV9TVVBFUl9BRE1JTikpKSB7XG4gICAxMTJcdCAgICAgICAgICAgICAgICBmeG1sUGF0aCA9IFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvQWRtaW5EYXNoYm9hcmQuZnhtbFwiO1xuICAgMTEzXHQgICAgICAgICAgICAgICAgdGl0bGUgPSBcIlRhYmxlYXUgZGUgYm9yZCBhZG1pbmlzdHJhdGV1clwiO1xuICAgMTE0XHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMTE1XHQgICAgICAgICAgICAgICAgZnhtbFBhdGggPSBcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0NsaWVudERhc2hib2FyZC5meG1sXCI7XG4gICAxMTZcdCAgICAgICAgICAgICAgICB0aXRsZSA9IFwiVGFibGVhdSBkZSBib3JkIGNsaWVudFwiO1xuICAgMTE3XHQgICAgICAgICAgICB9XG4gICAxMThcdFxuICAgMTE5XHQgICAgICAgICAgICAvLyBDaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTFxuICAgMTIwXHQgICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShmeG1sUGF0aCk7XG4gICAxMjFcdCAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAxMjJcdCAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAxMjNcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAxMjRcdCAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAxMjVcdFxuICAgMTI2XHQgICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgIDEyN1x0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBsb2dpbkJ1dHRvbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMTI4XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAxMjlcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAxMzBcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZSh0aXRsZSk7XG4gICAxMzFcdCAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAxMzJcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAxMzNcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXCIsIFwiRmljaGllciBGWE1MIG5vbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgMTM0XHQgICAgICAgICAgICB9XG4gICAxMzVcdCAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgIDEzNlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgcsO0bGVcIiwgXCJJbXBvc3NpYmxlIGRlIGTDqXRlcm1pbmVyIGxlIHLDtGxlIGRlIGwndXRpbGlzYXRldXI6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMTM3XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTM4XHQgICAgICAgIH1cbiAgIDEzOVx0ICAgIH1cbiAgIDE0MFx0XG4gICAxNDFcdCAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIG1lc3NhZ2UpIHtcbiAgIDE0Mlx0ICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgMTQzXHQgICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSlpHd0tMeWlzNmQ2NmhVYm1GUnB5USJ9fV0sInJlc3BvbnNlX3RleHQiOiJQYXJmYWl0ICEgSidhaSBjcsOpw6kgdW4gc3lzdMOobWUgY29tcGxldCBkZSBnZXN0aW9uIGRlcyByw7RsZXMgZXQgZGUgcmVkaXJlY3Rpb24gdmVycyBsZXMgdGFibGVhdXggZGUgYm9yZCBhcHByb3ByacOpcy4gVm9pY2kgdW4gcsOpc3Vtw6kgZGVzIG1vZGlmaWNhdGlvbnMgZWZmZWN0dcOpZXMgOlxuXG4xLiAqKkNyw6lhdGlvbiBkdSBzZXJ2aWNlIFJvbGVTZXJ2aWNlKiogOlxuICAgLSBNw6l0aG9kZXMgcG91ciByw6ljdXDDqXJlciBsZXMgcsO0bGVzIGQndW4gdXRpbGlzYXRldXJcbiAgIC0gTcOpdGhvZGVzIHBvdXIgYWpvdXRlci9zdXBwcmltZXIgZGVzIHLDtGxlc1xuICAgLSBNw6l0aG9kZXMgcG91ciB2w6lyaWZpZXIgc2kgdW4gdXRpbGlzYXRldXIgYSB1biByw7RsZSBzcMOpY2lmaXF1ZVxuICAgLSBNw6l0aG9kZSBwb3VyIGTDqXRlcm1pbmVyIGxlIHR5cGUgZCd1dGlsaXNhdGV1ciAoYWRtaW4sIHN1cGVyIGFkbWluIG91IGNsaWVudClcblxuMi4gKipDcsOpYXRpb24gZGVzIHRhYmxlYXV4IGRlIGJvcmQqKiA6XG4gICAtIGBBZG1pbkRhc2hib2FyZC5meG1sYCA6IEludGVyZmFjZSBwb3VyIGxlcyBhZG1pbmlzdHJhdGV1cnNcbiAgIC0gYENsaWVudERhc2hib2FyZC5meG1sYCA6IEludGVyZmFjZSBwb3VyIGxlcyBjbGllbnRzXG4gICAtIGBBZG1pbkRhc2hib2FyZENvbnRyb2xsZXIuamF2YWAgOiBDb250csO0bGV1ciBwb3VyIGxlIHRhYmxlYXUgZGUgYm9yZCBhZG1pblxuICAgLSBgQ2xpZW50RGFzaGJvYXJkQ29udHJvbGxlci5qYXZhYCA6IENvbnRyw7RsZXVyIHBvdXIgbGUgdGFibGVhdSBkZSBib3JkIGNsaWVudFxuXG4zLiAqKk1vZGlmaWNhdGlvbiBkdSBjb250csO0bGV1ciBMb2dpbkNvbnRyb2xsZXIqKiA6XG4gICAtIEFqb3V0IGR1IHNlcnZpY2UgUm9sZVNlcnZpY2VcbiAgIC0gTW9kaWZpY2F0aW9uIGRlIGxhIG3DqXRob2RlIGRlIG5hdmlnYXRpb24gcG91ciByZWRpcmlnZXIgdmVycyBsZSB0YWJsZWF1IGRlIGJvcmQgYXBwcm9wcmnDqSBlbiBmb25jdGlvbiBkdSByw7RsZSBkZSBsJ3V0aWxpc2F0ZXVyXG5cbk1haW50ZW5hbnQsIGxvcnNxdSd1biB1dGlsaXNhdGV1ciBzZSBjb25uZWN0ZSA6XG4xLiBMZSBzeXN0w6htZSB2w6lyaWZpZSBzZXMgaWRlbnRpZmlhbnRzIGF2ZWMgbGUgc2VydmljZSBBdXRoU2VydmljZVxuMi4gU2kgbCdhdXRoZW50aWZpY2F0aW9uIHLDqXVzc2l0LCBsZSBzeXN0w6htZSBkw6l0ZXJtaW5lIGxlIHLDtGxlIGRlIGwndXRpbGlzYXRldXIgYXZlYyBsZSBzZXJ2aWNlIFJvbGVTZXJ2aWNlXG4zLiBFbiBmb25jdGlvbiBkdSByw7RsZSwgbCd1dGlsaXNhdGV1ciBlc3QgcmVkaXJpZ8OpIHZlcnMgbGUgdGFibGVhdSBkZSBib3JkIGFkbWluaXN0cmF0ZXVyIG91IGNsaWVudFxuXG5DZXR0ZSBhcmNoaXRlY3R1cmUgcGVybWV0IHVuZSBzw6lwYXJhdGlvbiBjbGFpcmUgZGVzIHJlc3BvbnNhYmlsaXTDqXMgOlxuLSBMZXMgc2VydmljZXMgZ8OocmVudCBsYSBsb2dpcXVlIG3DqXRpZXIgZXQgbCdhY2PDqHMgYXV4IGRvbm7DqWVzXG4tIExlcyBjb250csO0bGV1cnMgZ8OocmVudCBsJ2ludGVyZmFjZSB1dGlsaXNhdGV1ciBldCBsZXMgaW50ZXJhY3Rpb25zXG4tIExlcyBlbnRpdMOpcyByZXByw6lzZW50ZW50IGxlcyBkb25uw6llc1xuXG5Qb3VyIGNvbXBsw6l0ZXIgY2V0dGUgaW1wbMOpbWVudGF0aW9uLCB2b3VzIHBvdXJyaWV6IDpcbjEuIEFqb3V0ZXIgZGVzIG3DqXRob2RlcyBkYW5zIGxlIHNlcnZpY2UgUm9sZVNlcnZpY2UgcG91ciBnw6lyZXIgbGVzIHLDtGxlcyBkZXMgdXRpbGlzYXRldXJzXG4yLiBJbXBsw6ltZW50ZXIgbGVzIGZvbmN0aW9ubmFsaXTDqXMgZGVzIHRhYmxlYXV4IGRlIGJvcmQgKGdlc3Rpb24gZGVzIHV0aWxpc2F0ZXVycywgZGVzIMOpdsOpbmVtZW50cywgZXRjLilcbjMuIEFqb3V0ZXIgZGVzIHZhbGlkYXRpb25zIHN1cHBsw6ltZW50YWlyZXMgcG91ciBsYSBzw6ljdXJpdMOpXG5cbkNldHRlIHN0cnVjdHVyZSB2b3VzIGRvbm5lIHVuZSBiYXNlIHNvbGlkZSBwb3VyIGNvbnRpbnVlciDDoCBkw6l2ZWxvcHBlciB2b3RyZSBhcHBsaWNhdGlvbi5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiYWFiZmE3ZS00ZWVlLTQ2ZGMtOTk1Yy0yNzY0MGUxMzdkYTYiLCJyZXF1ZXN0X21lc3NhZ2UiOiJkb25uZSBtb2kgdW5lIHJlcXVldGUgc3FsIHBvdXIgY3LDqWVyIGNldHRlIHRhYmxlXG4gcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIFRpbWVzdGFtcCBjcmVhdGVkX2F0LCBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyBpbWFnZVVybCkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcclxuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XHJcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XHJcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcclxuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcclxuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRfYXQ7XHJcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcclxuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcclxuICAgIH0iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiZG9ubmUgbW9pIHVuZSByZXF1ZXRlIHNxbCBwb3VyIGNyw6llciBjZXR0ZSB0YWJsZSJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBUaW1lc3RhbXAgY3JlYXRlZF9hdCwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgaW1hZ2VVcmwpIHtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICB0aGlzLmlkID0gaWQ7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgdGhpcy5ub20gPSBub207XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICB9In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJWb2ljaSB1bmUgcmVxdcOqdGUgU1FMIHBvdXIgY3LDqWVyIHVuZSB0YWJsZSBgdXNlcmAgcXVpIGNvcnJlc3BvbmQgw6AgbGEgY2xhc3NlIFVzZXIgcXVlIHZvdXMgYXZleiBzw6lsZWN0aW9ubsOpZSA6XG5cbmBgYHNxbFxuQ1JFQVRFIFRBQkxFIHVzZXIgKFxuICAgIGlkIElOVCBQUklNQVJZIEtFWSBBVVRPX0lOQ1JFTUVOVCxcbiAgICBub20gVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgIGVtYWlsIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCBVTklRVUUsXG4gICAgcHJlbm9tIFZBUkNIQVIoMTAwKSBOT1QgTlVMTCxcbiAgICBhZHJlc3NlIFZBUkNIQVIoMjU1KSxcbiAgICB0ZWxlcGhvbmUgVkFSQ0hBUigyMCksXG4gICAgaXNfdmVyaWZpZWQgQk9PTEVBTiBERUZBVUxUIEZBTFNFLFxuICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgcGFzc3dvcmQgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgIGltYWdlVXJsIFZBUkNIQVIoMjU1KSxcbiAgICByb2xlIFZBUkNIQVIoMTAwKVxuKTtcbmBgYFxuXG5DZXR0ZSByZXF1w6p0ZSBTUUwgY3LDqWUgdW5lIHRhYmxlIGF2ZWMgbGVzIGNhcmFjdMOpcmlzdGlxdWVzIHN1aXZhbnRlcyA6XG5cbi0gYGlkYCA6IENsw6kgcHJpbWFpcmUgYXV0by1pbmNyw6ltZW50w6llXG4tIGBub21gIDogTm9tIGRlIGwndXRpbGlzYXRldXIgKG9ibGlnYXRvaXJlKVxuLSBgZW1haWxgIDogRW1haWwgZGUgbCd1dGlsaXNhdGV1ciAob2JsaWdhdG9pcmUgZXQgdW5pcXVlKVxuLSBgcHJlbm9tYCA6IFByw6lub20gZGUgbCd1dGlsaXNhdGV1ciAob2JsaWdhdG9pcmUpXG4tIGBhZHJlc3NlYCA6IEFkcmVzc2UgZGUgbCd1dGlsaXNhdGV1ciAob3B0aW9ubmVsbGUpXG4tIGB0ZWxlcGhvbmVgIDogTnVtw6lybyBkZSB0w6lsw6lwaG9uZSBkZSBsJ3V0aWxpc2F0ZXVyIChvcHRpb25uZWwpXG4tIGBpc192ZXJpZmllZGAgOiBJbmRpcXVlIHNpIGwndXRpbGlzYXRldXIgZXN0IHbDqXJpZmnDqSAocGFyIGTDqWZhdXQgw6AgRkFMU0UpXG4tIGBjcmVhdGVkX2F0YCA6IERhdGUgZXQgaGV1cmUgZGUgY3LDqWF0aW9uIGR1IGNvbXB0ZSAocGFyIGTDqWZhdXQgw6AgbGEgZGF0ZS9oZXVyZSBhY3R1ZWxsZSlcbi0gYHBhc3N3b3JkYCA6IE1vdCBkZSBwYXNzZSBkZSBsJ3V0aWxpc2F0ZXVyIChvYmxpZ2F0b2lyZSlcbi0gYGltYWdlVXJsYCA6IFVSTCBkZSBsJ2ltYWdlIGRlIHByb2ZpbCBkZSBsJ3V0aWxpc2F0ZXVyIChvcHRpb25uZWxsZSlcbi0gYHJvbGVgIDogUsO0bGUocykgZGUgbCd1dGlsaXNhdGV1ciBzdG9ja8OpKHMpIHNvdXMgZm9ybWUgZGUgY2hhw65uZSAocGFyIGV4ZW1wbGUgXCJBRE1JTixDTElFTlRcIilcblxuTm90ZXogcXVlIHBvdXIgbGUgY2hhbXAgYHJvbGVgLCBqJ2FpIHV0aWxpc8OpIHVuIFZBUkNIQVIgcG91ciBzdG9ja2VyIGxlcyByw7RsZXMgc291cyBmb3JtZSBkZSBjaGHDrm5lIHPDqXBhcsOpZSBwYXIgZGVzIHZpcmd1bGVzLCBjb21tZSBjZWxhIHNlbWJsZSDDqnRyZSBnw6lyw6kgZGFucyB2b3RyZSBjb2RlLiBVbmUgYWx0ZXJuYXRpdmUgcGx1cyBub3JtYWxpc8OpZSBzZXJhaXQgZGUgY3LDqWVyIHVuZSB0YWJsZSBzw6lwYXLDqWUgcG91ciBsZXMgcsO0bGVzIGV0IHVuZSB0YWJsZSBkZSBqb2ludHVyZSBlbnRyZSB1dGlsaXNhdGV1cnMgZXQgcsO0bGVzLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IlZvaWNpIHVuZSByZXF1w6p0ZSBTUUwgcG91ciBjcsOpZXIgdW5lIHRhYmxlIGB1c2VyYCBxdWkgY29ycmVzcG9uZCDDoCBsYSBjbGFzc2UgVXNlciBxdWUgdm91cyBhdmV6IHPDqWxlY3Rpb25uw6llIDpcblxuYGBgc3FsXG5DUkVBVEUgVEFCTEUgdXNlciAoXG4gICAgaWQgSU5UIFBSSU1BUlkgS0VZIEFVVE9fSU5DUkVNRU5ULFxuICAgIG5vbSBWQVJDSEFSKDEwMCkgTk9UIE5VTEwsXG4gICAgZW1haWwgVkFSQ0hBUigxMDApIE5PVCBOVUxMIFVOSVFVRSxcbiAgICBwcmVub20gVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgIGFkcmVzc2UgVkFSQ0hBUigyNTUpLFxuICAgIHRlbGVwaG9uZSBWQVJDSEFSKDIwKSxcbiAgICBpc192ZXJpZmllZCBCT09MRUFOIERFRkFVTFQgRkFMU0UsXG4gICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICBwYXNzd29yZCBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgaW1hZ2VVcmwgVkFSQ0hBUigyNTUpLFxuICAgIHJvbGUgVkFSQ0hBUigxMDApXG4pO1xuYGBgXG5cbkNldHRlIHJlcXXDqnRlIFNRTCBjcsOpZSB1bmUgdGFibGUgYXZlYyBsZXMgY2FyYWN0w6lyaXN0aXF1ZXMgc3VpdmFudGVzIDpcblxuLSBgaWRgIDogQ2zDqSBwcmltYWlyZSBhdXRvLWluY3LDqW1lbnTDqWVcbi0gYG5vbWAgOiBOb20gZGUgbCd1dGlsaXNhdGV1ciAob2JsaWdhdG9pcmUpXG4tIGBlbWFpbGAgOiBFbWFpbCBkZSBsJ3V0aWxpc2F0ZXVyIChvYmxpZ2F0b2lyZSBldCB1bmlxdWUpXG4tIGBwcmVub21gIDogUHLDqW5vbSBkZSBsJ3V0aWxpc2F0ZXVyIChvYmxpZ2F0b2lyZSlcbi0gYGFkcmVzc2VgIDogQWRyZXNzZSBkZSBsJ3V0aWxpc2F0ZXVyIChvcHRpb25uZWxsZSlcbi0gYHRlbGVwaG9uZWAgOiBOdW3DqXJvIGRlIHTDqWzDqXBob25lIGRlIGwndXRpbGlzYXRldXIgKG9wdGlvbm5lbClcbi0gYGlzX3ZlcmlmaWVkYCA6IEluZGlxdWUgc2kgbCd1dGlsaXNhdGV1ciBlc3QgdsOpcmlmacOpIChwYXIgZMOpZmF1dCDDoCBGQUxTRSlcbi0gYGNyZWF0ZWRfYXRgIDogRGF0ZSBldCBoZXVyZSBkZSBjcsOpYXRpb24gZHUgY29tcHRlIChwYXIgZMOpZmF1dCDDoCBsYSBkYXRlL2hldXJlIGFjdHVlbGxlKVxuLSBgcGFzc3dvcmRgIDogTW90IGRlIHBhc3NlIGRlIGwndXRpbGlzYXRldXIgKG9ibGlnYXRvaXJlKVxuLSBgaW1hZ2VVcmxgIDogVVJMIGRlIGwnaW1hZ2UgZGUgcHJvZmlsIGRlIGwndXRpbGlzYXRldXIgKG9wdGlvbm5lbGxlKVxuLSBgcm9sZWAgOiBSw7RsZShzKSBkZSBsJ3V0aWxpc2F0ZXVyIHN0b2Nrw6kocykgc291cyBmb3JtZSBkZSBjaGHDrm5lIChwYXIgZXhlbXBsZSBcIkFETUlOLENMSUVOVFwiKVxuXG5Ob3RleiBxdWUgcG91ciBsZSBjaGFtcCBgcm9sZWAsIGonYWkgdXRpbGlzw6kgdW4gVkFSQ0hBUiBwb3VyIHN0b2NrZXIgbGVzIHLDtGxlcyBzb3VzIGZvcm1lIGRlIGNoYcOubmUgc8OpcGFyw6llIHBhciBkZXMgdmlyZ3VsZXMsIGNvbW1lIGNlbGEgc2VtYmxlIMOqdHJlIGfDqXLDqSBkYW5zIHZvdHJlIGNvZGUuIFVuZSBhbHRlcm5hdGl2ZSBwbHVzIG5vcm1hbGlzw6llIHNlcmFpdCBkZSBjcsOpZXIgdW5lIHRhYmxlIHPDqXBhcsOpZSBwb3VyIGxlcyByw7RsZXMgZXQgdW5lIHRhYmxlIGRlIGpvaW50dXJlIGVudHJlIHV0aWxpc2F0ZXVycyBldCByw7RsZXMuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZmIyNGI1YTUtMGVhZC00ODRkLTg0NTYtNGY3NzZjMjY4ODAyIiwicmVxdWVzdF9tZXNzYWdlIjoidmVyaWZpZXIgSG9tZXBhZ2UgLmZ4bWwgZXQgZml4ZXIgdG9zIGxlcyAgYWN0aW9uICIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ2ZXJpZmllciBIb21lcGFnZSAuZnhtbCBldCBmaXhlciB0b3MgbGVzICBhY3Rpb24gIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxRFBYNWtWZktGZTVVWDJqSHVOeWJrUSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Ib21lUGFnZS5meG1sXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2YWlzIHbDqXJpZmllciBsZSBmaWNoaWVyIEhvbWVQYWdlLmZ4bWwgZXQgZml4ZXIgdG91dGVzIGxlcyBhY3Rpb25zLiBDb21tZW7Dp29ucyBwYXIgZXhhbWluZXIgbGUgY29udGVudSBkdSBmaWNoaWVyIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInJlc3BvbnNlX3RleHQiOiJKZSB2YWlzIHbDqXJpZmllciBsZSBmaWNoaWVyIEhvbWVQYWdlLmZ4bWwgZXQgZml4ZXIgdG91dGVzIGxlcyBhY3Rpb25zLiBDb21tZW7Dp29ucyBwYXIgZXhhbWluZXIgbGUgY29udGVudSBkdSBmaWNoaWVyIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyNDYwZThhYi1lNGFmLTQxMWYtYTliZS03MDJmMjdjZmZiZTkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxTGFOYXlMV01KY3ZlUUQ1NVhjeUVGaSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIHbDqXJpZmlvbnMgbGUgY29udHLDtGxldXIgSG9tZUNvbnRyb2xsZXIgcG91ciB2b2lyIHF1ZWxsZXMgYWN0aW9ucyBzb250IGTDqWrDoCBpbXBsw6ltZW50w6llcyA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL0hvbWVQYWdlLmZ4bWw6XG4gICAgIDFcdDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuICAgICAyXHRcbiAgICAgM1x0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKj8+XG4gICAgIDRcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+XG4gICAgIDVcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS4qPz5cbiAgICAgNlx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLnRleHQuKj8+XG4gICAgIDdcdDw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS4qPz5cbiAgICAgOFx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLnNoYXBlLio/PlxuICAgICA5XHRcbiAgICAxMFx0PD9pbXBvcnQgamF2YS5uZXQuVVJMPz5cbiAgICAxMVx0PEJvcmRlclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTZcIiB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMVwiIGZ4OmNvbnRyb2xsZXI9XCJjb250cm9sbGVycy5Ib21lQ29udHJvbGxlclwiPlxuICAgIDEyXHQgICAgPCEtLSBTdHlsZSBDU1MgLS0+XG4gICAgMTNcdCAgICA8c3R5bGVzaGVldHM+XG4gICAgMTRcdCAgICAgICAgPFVSTCB2YWx1ZT1cIkAuLi9zdHlsZXMvaG9tZS5jc3NcIiAvPlxuICAgIDE1XHQgICAgPC9zdHlsZXNoZWV0cz5cbiAgICAxNlx0XG4gICAgMTdcdCAgICA8IS0tIFRvcCBCYXIgLS0+XG4gICAgMThcdCAgICA8dG9wPlxuICAgIDE5XHQgICAgICAgIDxIQm94IHN0eWxlQ2xhc3M9XCJ0b3AtYmFyXCIgYWxpZ25tZW50PVwiQ0VOVEVSX0xFRlRcIj5cbiAgICAyMFx0ICAgICAgICAgICAgPEltYWdlVmlldyBmaXRIZWlnaHQ9XCI0MFwiIGZpdFdpZHRoPVwiNDBcIj5cbiAgICAyMVx0XG4gICAgMjJcdCAgICAgICAgICAgIDwvSW1hZ2VWaWV3PlxuICAgIDIzXHQgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIkVkdUV2ZW50K1wiIHN0eWxlQ2xhc3M9XCJhcHAtdGl0bGVcIiAvPlxuICAgIDI0XHQgICAgICAgICAgICA8UmVnaW9uIEhCb3guaGdyb3c9XCJBTFdBWVNcIiAvPlxuICAgIDI1XHQgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XCJEw6ljb25uZXhpb25cIiBzdHlsZUNsYXNzPVwibG9nb3V0LWJ0blwiIG9uQWN0aW9uPVwiI2hhbmRsZUxvZ291dFwiLz5cbiAgICAyNlx0ICAgICAgICA8L0hCb3g+XG4gICAgMjdcdCAgICA8L3RvcD5cbiAgICAyOFx0XG4gICAgMjlcdCAgICA8IS0tIE1haW4gQ29udGVudCAtLT5cbiAgICAzMFx0ICAgIDxjZW50ZXI+XG4gICAgMzFcdCAgICAgICAgPFZCb3ggc3BhY2luZz1cIjIwXCIgYWxpZ25tZW50PVwiVE9QX0NFTlRFUlwiIHN0eWxlQ2xhc3M9XCJtYWluLWNvbnRlbnRcIj5cbiAgICAzMlx0ICAgICAgICAgICAgPCEtLSBXZWxjb21lIFNlY3Rpb24gLS0+XG4gICAgMzNcdCAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cIkNFTlRFUl9MRUZUXCIgc3BhY2luZz1cIjIwXCIgc3R5bGVDbGFzcz1cIndlbGNvbWUtc2VjdGlvblwiPlxuICAgIDM0XHQgICAgICAgICAgICAgICAgPFZCb3ggc3BhY2luZz1cIjVcIj5cbiAgICAzNVx0ICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIkJpZW52ZW51ZSxcIiBzdHlsZUNsYXNzPVwid2VsY29tZS1sYWJlbFwiIC8+XG4gICAgMzZcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPVwidXNlcm5hbWVMYWJlbFwiIHN0eWxlQ2xhc3M9XCJ1c2VybmFtZS1sYWJlbFwiIC8+XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJHw6lyZXogdm9zIMOpdsOpbmVtZW50cyDDqWR1Y2F0aWZzIGV0IGfDqW7DqXJleiBkZXMgYXR0ZXN0YXRpb25zIGF1dG9tYXRpcXVlbWVudFwiIHN0eWxlQ2xhc3M9XCJzdWJ0aXRsZS1sYWJlbFwiIC8+XG4gICAgMzhcdCAgICAgICAgICAgICAgICA8L1ZCb3g+XG4gICAgMzlcdCAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZpdEhlaWdodD1cIjEyMFwiIGZpdFdpZHRoPVwiMTIwXCIgcHJlc2VydmVSYXRpbz1cInRydWVcIj5cbiAgICA0MFx0XG4gICAgNDFcdCAgICAgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICA0Mlx0ICAgICAgICAgICAgPC9IQm94PlxuICAgIDQzXHRcbiAgICA0NFx0ICAgICAgICAgICAgPCEtLSBRdWljayBTdGF0cyAtLT5cbiAgICA0NVx0ICAgICAgICAgICAgPEhCb3ggc3BhY2luZz1cIjIwXCIgYWxpZ25tZW50PVwiQ0VOVEVSXCIgc3R5bGVDbGFzcz1cInN0YXRzLWNvbnRhaW5lclwiPlxuICAgIDQ2XHQgICAgICAgICAgICAgICAgPFZCb3ggc3R5bGVDbGFzcz1cInN0YXQtY2FyZFwiIGFsaWdubWVudD1cIkNFTlRFUlwiIHNwYWNpbmc9XCI1XCI+XG4gICAgNDdcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPVwiZXZlbnRzQ291bnRMYWJlbFwiIHN0eWxlQ2xhc3M9XCJzdGF0LW51bWJlclwiIC8+XG4gICAgNDhcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCLDiXbDqW5lbWVudHNcIiBzdHlsZUNsYXNzPVwic3RhdC1sYWJlbFwiIC8+XG4gICAgNDlcdCAgICAgICAgICAgICAgICA8L1ZCb3g+XG4gICAgNTBcdCAgICAgICAgICAgICAgICA8VkJveCBzdHlsZUNsYXNzPVwic3RhdC1jYXJkXCIgYWxpZ25tZW50PVwiQ0VOVEVSXCIgc3BhY2luZz1cIjVcIj5cbiAgICA1MVx0ICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZng6aWQ9XCJjZXJ0aWZpY2F0ZXNDb3VudExhYmVsXCIgc3R5bGVDbGFzcz1cInN0YXQtbnVtYmVyXCIgLz5cbiAgICA1Mlx0ICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIkF0dGVzdGF0aW9uc1wiIHN0eWxlQ2xhc3M9XCJzdGF0LWxhYmVsXCIgLz5cbiAgICA1M1x0ICAgICAgICAgICAgICAgIDwvVkJveD5cbiAgICA1NFx0ICAgICAgICAgICAgICAgIDxWQm94IHN0eWxlQ2xhc3M9XCJzdGF0LWNhcmRcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIiBzcGFjaW5nPVwiNVwiPlxuICAgIDU1XHQgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmeDppZD1cInBhcnRpY2lwYW50c0NvdW50TGFiZWxcIiBzdHlsZUNsYXNzPVwic3RhdC1udW1iZXJcIiAvPlxuICAgIDU2XHQgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiUGFydGljaXBhbnRzXCIgc3R5bGVDbGFzcz1cInN0YXQtbGFiZWxcIiAvPlxuICAgIDU3XHQgICAgICAgICAgICAgICAgPC9WQm94PlxuICAgIDU4XHQgICAgICAgICAgICA8L0hCb3g+XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgICAgICA8IS0tIFF1aWNrIEFjdGlvbnMgLS0+XG4gICAgNjFcdCAgICAgICAgICAgIDxHcmlkUGFuZSBoZ2FwPVwiMjBcIiB2Z2FwPVwiMjBcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIiBzdHlsZUNsYXNzPVwiYWN0aW9ucy1ncmlkXCI+XG4gICAgNjJcdCAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+XG4gICAgNjNcdCAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhncm93PVwiQUxXQVlTXCIgZmlsbFdpZHRoPVwidHJ1ZVwiIC8+XG4gICAgNjRcdCAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhncm93PVwiQUxXQVlTXCIgZmlsbFdpZHRoPVwidHJ1ZVwiIC8+XG4gICAgNjVcdCAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPlxuICAgIDY2XHRcbiAgICA2N1x0ICAgICAgICAgICAgICAgIDwhLS0gUm93IDEgLS0+XG4gICAgNjhcdCAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XCJDcsOpZXIgdW4gw6l2w6luZW1lbnRcIiBzdHlsZUNsYXNzPVwiYWN0aW9uLWJ0blwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMFwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMFwiPlxuICAgIDY5XHQgICAgICAgICAgICAgICAgICAgIDxncmFwaGljPlxuICAgIDcwXHQgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZpdEhlaWdodD1cIjMwXCIgZml0V2lkdGg9XCIzMFwiPlxuICAgIDcxXHRcbiAgICA3Mlx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9JbWFnZVZpZXc+XG4gICAgNzNcdCAgICAgICAgICAgICAgICAgICAgPC9ncmFwaGljPlxuICAgIDc0XHQgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgNzVcdFxuICAgIDc2XHQgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiR8OpbsOpcmVyIGF0dGVzdGF0aW9uXCIgc3R5bGVDbGFzcz1cImFjdGlvbi1idG5cIiAgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIxXCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCI+XG4gICAgNzdcdCAgICAgICAgICAgICAgICAgICAgPGdyYXBoaWM+XG4gICAgNzhcdCAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVZpZXcgZml0SGVpZ2h0PVwiMzBcIiBmaXRXaWR0aD1cIjMwXCI+XG4gICAgNzlcdFxuICAgIDgwXHQgICAgICAgICAgICAgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICA4MVx0ICAgICAgICAgICAgICAgICAgICA8L2dyYXBoaWM+XG4gICAgODJcdCAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgICAgICAgICA8IS0tIFJvdyAyIC0tPlxuICAgIDg1XHQgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiTGlzdGUgZGVzIMOpdsOpbmVtZW50c1wiIHN0eWxlQ2xhc3M9XCJhY3Rpb24tYnRuXCIgIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMFwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMVwiPlxuICAgIDg2XHQgICAgICAgICAgICAgICAgICAgIDxncmFwaGljPlxuICAgIDg3XHQgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZpdEhlaWdodD1cIjMwXCIgZml0V2lkdGg9XCIzMFwiPlxuICAgIDg4XHRcbiAgICA4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9JbWFnZVZpZXc+XG4gICAgOTBcdCAgICAgICAgICAgICAgICAgICAgPC9ncmFwaGljPlxuICAgIDkxXHQgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgOTJcdFxuICAgIDkzXHQgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiSGlzdG9yaXF1ZSBhdHRlc3RhdGlvbnNcIiBzdHlsZUNsYXNzPVwiYWN0aW9uLWJ0blwiICBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjFcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjFcIj5cbiAgICA5NFx0ICAgICAgICAgICAgICAgICAgICA8Z3JhcGhpYz5cbiAgICA5NVx0ICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlVmlldyBmaXRIZWlnaHQ9XCIzMFwiIGZpdFdpZHRoPVwiMzBcIj5cbiAgICA5Nlx0XG4gICAgOTdcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvSW1hZ2VWaWV3PlxuICAgIDk4XHQgICAgICAgICAgICAgICAgICAgIDwvZ3JhcGhpYz5cbiAgICA5OVx0ICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgMTAwXHQgICAgICAgICAgICA8L0dyaWRQYW5lPlxuICAgMTAxXHRcbiAgIDEwMlx0ICAgICAgICAgICAgPCEtLSBSZWNlbnQgRXZlbnRzIC0tPlxuICAgMTAzXHQgICAgICAgICAgICA8VkJveCBzcGFjaW5nPVwiMTBcIiBzdHlsZUNsYXNzPVwicmVjZW50LXNlY3Rpb25cIj5cbiAgIDEwNFx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiw4l2w6luZW1lbnRzIHLDqWNlbnRzXCIgc3R5bGVDbGFzcz1cInNlY3Rpb24tdGl0bGVcIiAvPlxuICAgMTA1XHQgICAgICAgICAgICAgICAgPFRhYmxlVmlldyBmeDppZD1cInJlY2VudEV2ZW50c1RhYmxlXCIgc3R5bGVDbGFzcz1cInJlY2VudC10YWJsZVwiID5cbiAgIDEwNlx0ICAgICAgICAgICAgICAgICAgICA8Y29sdW1ucz5cbiAgIDEwN1x0ICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIHRleHQ9XCJOb21cIiBmeDppZD1cImV2ZW50TmFtZUNvbHVtblwiIC8+XG4gICAxMDhcdCAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiB0ZXh0PVwiRGF0ZVwiIGZ4OmlkPVwiZXZlbnREYXRlQ29sdW1uXCIgLz5cbiAgIDEwOVx0ICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29sdW1uIHRleHQ9XCJQYXJ0aWNpcGFudHNcIiBmeDppZD1cInBhcnRpY2lwYW50c0NvbHVtblwiIC8+XG4gICAxMTBcdCAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiB0ZXh0PVwiU3RhdHV0XCIgZng6aWQ9XCJzdGF0dXNDb2x1bW5cIiAvPlxuICAgMTExXHQgICAgICAgICAgICAgICAgICAgIDwvY29sdW1ucz5cbiAgIDExMlx0ICAgICAgICAgICAgICAgIDwvVGFibGVWaWV3PlxuICAgMTEzXHQgICAgICAgICAgICA8L1ZCb3g+XG4gICAxMTRcdCAgICAgICAgPC9WQm94PlxuICAgMTE1XHQgICAgPC9jZW50ZXI+XG4gICAxMTZcdFxuICAgMTE3XHQgICAgPCEtLSBTdGF0dXMgQmFyIC0tPlxuICAgMTE4XHQgICAgPGJvdHRvbT5cbiAgIDExOVx0ICAgICAgICA8SEJveCBzdHlsZUNsYXNzPVwic3RhdHVzLWJhclwiIGFsaWdubWVudD1cIkNFTlRFUlwiPlxuICAgMTIwXHQgICAgICAgICAgICA8TGFiZWwgZng6aWQ9XCJzdGF0dXNMYWJlbFwiIHRleHQ9XCJTeXN0w6htZSBwcsOqdFwiIHN0eWxlQ2xhc3M9XCJzdGF0dXMtdGV4dFwiIC8+XG4gICAxMjFcdCAgICAgICAgICAgIDxSZWdpb24gSEJveC5oZ3Jvdz1cIkFMV0FZU1wiIC8+XG4gICAxMjJcdCAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiwqkgMjAyMyBFZHVFdmVudCsgLSBUb3VzIGRyb2l0cyByw6lzZXJ2w6lzXCIgc3R5bGVDbGFzcz1cImNvcHlyaWdodC10ZXh0XCIgLz5cbiAgIDEyM1x0ICAgICAgICA8L0hCb3g+XG4gICAxMjRcdCAgICA8L2JvdHRvbT5cbiAgIDEyNVx0PC9Cb3JkZXJQYW5lPlxuVG90YWwgbGluZXMgaW4gZmlsZTogMTI1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxRFBYNWtWZktGZTVVWDJqSHVOeWJrUSJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCB2w6lyaWZpb25zIGxlIGNvbnRyw7RsZXVyIEhvbWVDb250cm9sbGVyIHBvdXIgdm9pciBxdWVsbGVzIGFjdGlvbnMgc29udCBkw6lqw6AgaW1wbMOpbWVudMOpZXMgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjI5ZDFlNjJlLTFhZjctNDExNy1iOWRjLWY4NzJlNmQ0M2I4YyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFNWjN0WUtkSjZ2S2M0QWRkc1QxUTF5IiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZVBhZ2VDb250cm9sbGVyLmphdmFcIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIGNvbnRyb2xsZXJzO1xcblxcbmltcG9ydCBlbnRpdGllcy5Vc2VyO1xcbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XFxuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xcbmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7XFxuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlByb3BlcnR5VmFsdWVGYWN0b3J5O1xcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XFxuaW1wb3J0IHNlcnZpY2VzLkF1dGhTZXJ2aWNlO1xcbmltcG9ydCBzZXJ2aWNlcy5FdmVudFNlcnZpY2U7XFxuaW1wb3J0IHNlcnZpY2VzLlJlc2VydmF0aW9uU2VydmljZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcXG5cXG5wdWJsaWMgY2xhc3MgSG9tZVBhZ2VDb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgTGFiZWwgdXNlcm5hbWVMYWJlbDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBMYWJlbCBldmVudHNDb3VudExhYmVsO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIExhYmVsIGNlcnRpZmljYXRlc0NvdW50TGFiZWw7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgTGFiZWwgcGFydGljaXBhbnRzQ291bnRMYWJlbDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUYWJsZVZpZXc8RXZlbnRUYWJsZU1vZGVsPiByZWNlbnRFdmVudHNUYWJsZTtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxFdmVudFRhYmxlTW9kZWwsIFN0cmluZz4gZXZlbnROYW1lQ29sdW1uO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPEV2ZW50VGFibGVNb2RlbCwgU3RyaW5nPiBldmVudERhdGVDb2x1bW47XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48RXZlbnRUYWJsZU1vZGVsLCBJbnRlZ2VyPiBwYXJ0aWNpcGFudHNDb2x1bW47XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48RXZlbnRUYWJsZU1vZGVsLCBTdHJpbmc+IHN0YXR1c0NvbHVtbjtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBMYWJlbCBzdGF0dXNMYWJlbDtcXG5cXG4gICAgcHJpdmF0ZSBBdXRoU2VydmljZSBhdXRoU2VydmljZTtcXG4gICAgcHJpdmF0ZSBFdmVudFNlcnZpY2UgZXZlbnRTZXJ2aWNlO1xcbiAgICBwcml2YXRlIFJlc2VydmF0aW9uU2VydmljZSByZXNlcnZhdGlvblNlcnZpY2U7XFxuXFxuICAgIHB1YmxpYyBIb21lUGFnZUNvbnRyb2xsZXIoKSB7XFxuICAgICAgICAvLyBJbml0aWFsaXNlciBsZXMgc2VydmljZXNcXG4gICAgICAgIGF1dGhTZXJ2aWNlID0gQXV0aFNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcXG4gICAgICAgIGV2ZW50U2VydmljZSA9IEV2ZW50U2VydmljZS5nZXRJbnN0YW5jZSgpO1xcbiAgICAgICAgcmVzZXJ2YXRpb25TZXJ2aWNlID0gUmVzZXJ2YXRpb25TZXJ2aWNlLmdldEluc3RhbmNlKCk7XFxuICAgIH1cXG5cXG4gICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcXG4gICAgICAgIC8vIFJcXHUwMGU5Y3VwXFx1MDBlOXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5XFxuICAgICAgICBVc2VyIGN1cnJlbnRVc2VyID0gYXV0aFNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTtcXG4gICAgICAgIGlmIChjdXJyZW50VXNlciAhPSBudWxsKSB7XFxuICAgICAgICAgICAgdXNlcm5hbWVMYWJlbC5zZXRUZXh0KGN1cnJlbnRVc2VyLmdldFByZW5vbSgpICsgXFxcIiBcXFwiICsgY3VycmVudFVzZXIuZ2V0Tm9tKCkpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICB1c2VybmFtZUxhYmVsLnNldFRleHQoXFxcIlV0aWxpc2F0ZXVyIGluY29ubnVcXFwiKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vIEluaXRpYWxpc2VyIGxlcyBjb21wdGV1cnNcXG4gICAgICAgIGluaXRpYWxpemVDb3VudGVycygpO1xcblxcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgdGFibGVhdSBkZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50cyByXFx1MDBlOWNlbnRzXFxuICAgICAgICBpbml0aWFsaXplRXZlbnRzVGFibGUoKTtcXG5cXG4gICAgICAgIC8vIE1ldHRyZSBcXHUwMGUwIGpvdXIgbGUgc3RhdHV0XFxuICAgICAgICBzdGF0dXNMYWJlbC5zZXRUZXh0KFxcXCJTeXN0XFx1MDBlOG1lIHByXFx1MDBlYXQgLSBEZXJuaVxcdTAwZThyZSBtaXNlIFxcdTAwZTAgam91cjogXFxcIiArIGphdmEudGltZS5Mb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcXFwiZGQvTU0veXl5eSBISDptbVxcXCIpKSk7XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVDb3VudGVycygpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2VzIHZhbGV1cnMgZGV2cmFpZW50IFxcdTAwZWF0cmUgclxcdTAwZTljdXBcXHUwMGU5clxcdTAwZTllcyBkZXB1aXMgbGVzIHNlcnZpY2VzXFxuICAgICAgICAgICAgZXZlbnRzQ291bnRMYWJlbC5zZXRUZXh0KFxcXCIwXFxcIik7XFxuICAgICAgICAgICAgY2VydGlmaWNhdGVzQ291bnRMYWJlbC5zZXRUZXh0KFxcXCIwXFxcIik7XFxuICAgICAgICAgICAgcGFydGljaXBhbnRzQ291bnRMYWJlbC5zZXRUZXh0KFxcXCIwXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXJcXFwiLCBcXFwiRXJyZXVyIGxvcnMgZGUgbCdpbml0aWFsaXNhdGlvbiBkZXMgY29tcHRldXJzOiBcXFwiICsgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVFdmVudHNUYWJsZSgpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsZXMgY29sb25uZXNcXG4gICAgICAgICAgICBldmVudE5hbWVDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcXFwibmFtZVxcXCIpKTtcXG4gICAgICAgICAgICBldmVudERhdGVDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcXFwiZGF0ZVxcXCIpKTtcXG4gICAgICAgICAgICBwYXJ0aWNpcGFudHNDb2x1bW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcXFwicGFydGljaXBhbnRzXFxcIikpO1xcbiAgICAgICAgICAgIHN0YXR1c0NvbHVtbi5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFxcXCJzdGF0dXNcXFwiKSk7XFxuXFxuICAgICAgICAgICAgLy8gQWpvdXRlciBkZXMgZG9ublxcdTAwZTllcyBkZSB0ZXN0XFxuICAgICAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8RXZlbnRUYWJsZU1vZGVsPiBldmVudHMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoXFxuICAgICAgICAgICAgICAgIG5ldyBFdmVudFRhYmxlTW9kZWwoXFxcIkZvcm1hdGlvbiBKYXZhXFxcIiwgXFxcIjAxLzA2LzIwMjVcXFwiLCAxNSwgXFxcIlxcdTAwYzAgdmVuaXJcXFwiKSxcXG4gICAgICAgICAgICAgICAgbmV3IEV2ZW50VGFibGVNb2RlbChcXFwiQXRlbGllciBQeXRob25cXFwiLCBcXFwiMTUvMDYvMjAyNVxcXCIsIDEwLCBcXFwiXFx1MDBjMCB2ZW5pclxcXCIpLFxcbiAgICAgICAgICAgICAgICBuZXcgRXZlbnRUYWJsZU1vZGVsKFxcXCJDb25mXFx1MDBlOXJlbmNlIFdlYlxcXCIsIFxcXCIzMC8wNS8yMDI1XFxcIiwgNTAsIFxcXCJUZXJtaW5cXHUwMGU5XFxcIilcXG4gICAgICAgICAgICApO1xcblxcbiAgICAgICAgICAgIHJlY2VudEV2ZW50c1RhYmxlLnNldEl0ZW1zKGV2ZW50cyk7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXJcXFwiLCBcXFwiRXJyZXVyIGxvcnMgZGUgbCdpbml0aWFsaXNhdGlvbiBkdSB0YWJsZWF1OiBcXFwiICsgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlTG9nb3V0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICAvLyBEXFx1MDBlOWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyXFxuICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcXG5cXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFxcXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXFxcIik7XFxuICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XFxuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG5cXG4gICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY1xcdTAwZThuZVxcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgdXNlcm5hbWVMYWJlbC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcXFwiQ29ubmV4aW9uXFxcIik7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cXFwiLCBcXFwiRmljaGllciBGWE1MIG5vbiB0cm91dlxcdTAwZTk6IFxcXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXFxcIiwgXFxcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvbi5cXFwiKTtcXG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHB1YmxpYyB2b2lkIGhhbmRsZUNyZWF0ZUV2ZW50KEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcXFwiSW5mb3JtYXRpb25cXFwiLCBcXFwiRm9uY3Rpb25uYWxpdFxcdTAwZTkgZGUgY3JcXHUwMGU5YXRpb24gZCdcXHUwMGU5dlxcdTAwZTluZW1lbnQgbm9uIGltcGxcXHUwMGU5bWVudFxcdTAwZTllXFxcIik7XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlR2VuZXJhdGVDZXJ0aWZpY2F0ZShBY3Rpb25FdmVudCBldmVudCkge1xcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkluZm9ybWF0aW9uXFxcIiwgXFxcIkZvbmN0aW9ubmFsaXRcXHUwMGU5IGRlIGdcXHUwMGU5blxcdTAwZTlyYXRpb24gZCdhdHRlc3RhdGlvbiBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICBwdWJsaWMgdm9pZCBoYW5kbGVFdmVudHNMaXN0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcXFwiSW5mb3JtYXRpb25cXFwiLCBcXFwiRm9uY3Rpb25uYWxpdFxcdTAwZTkgZGUgbGlzdGUgZGVzIFxcdTAwZTl2XFx1MDBlOW5lbWVudHMgbm9uIGltcGxcXHUwMGU5bWVudFxcdTAwZTllXFxcIik7XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgcHVibGljIHZvaWQgaGFuZGxlQ2VydGlmaWNhdGVIaXN0b3J5KEFjdGlvbkV2ZW50IGV2ZW50KSB7XFxuICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcXFwiSW5mb3JtYXRpb25cXFwiLCBcXFwiRm9uY3Rpb25uYWxpdFxcdTAwZTkgZCdoaXN0b3JpcXVlIGRlcyBhdHRlc3RhdGlvbnMgbm9uIGltcGxcXHUwMGU5bWVudFxcdTAwZTllXFxcIik7XFxuICAgIH1cXG5cXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7XFxuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcXG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KG1lc3NhZ2UpO1xcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcXG4gICAgfVxcblxcbiAgICAvLyBDbGFzc2UgbW9kXFx1MDBlOGxlIHBvdXIgbGUgdGFibGVhdSBkZXMgXFx1MDBlOXZcXHUwMGU5bmVtZW50c1xcbiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEV2ZW50VGFibGVNb2RlbCB7XFxuICAgICAgICBwcml2YXRlIFN0cmluZyBuYW1lO1xcbiAgICAgICAgcHJpdmF0ZSBTdHJpbmcgZGF0ZTtcXG4gICAgICAgIHByaXZhdGUgaW50IHBhcnRpY2lwYW50cztcXG4gICAgICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1cztcXG5cXG4gICAgICAgIHB1YmxpYyBFdmVudFRhYmxlTW9kZWwoU3RyaW5nIG5hbWUsIFN0cmluZyBkYXRlLCBpbnQgcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzKSB7XFxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcXG4gICAgICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xcbiAgICAgICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcHVibGljIFN0cmluZyBnZXROYW1lKCkge1xcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcHVibGljIHZvaWQgc2V0TmFtZShTdHJpbmcgbmFtZSkge1xcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBwdWJsaWMgU3RyaW5nIGdldERhdGUoKSB7XFxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBwdWJsaWMgdm9pZCBzZXREYXRlKFN0cmluZyBkYXRlKSB7XFxuICAgICAgICAgICAgdGhpcy5kYXRlID0gZGF0ZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHB1YmxpYyBpbnQgZ2V0UGFydGljaXBhbnRzKCkge1xcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBwdWJsaWMgdm9pZCBzZXRQYXJ0aWNpcGFudHMoaW50IHBhcnRpY2lwYW50cykge1xcbiAgICAgICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7XFxuICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1cyhTdHJpbmcgc3RhdHVzKSB7XFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XFxuICAgICAgICB9XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2YWlzIG1haW50ZW5hbnQgY3LDqWVyIHVuIG5vdXZlYXUgY29udHLDtGxldXIgSG9tZVBhZ2VDb250cm9sbGVyIHF1aSBjb3JyZXNwb25kIGF1IGZpY2hpZXIgSG9tZVBhZ2UuZnhtbCBldCBpbXBsw6ltZW50ZXIgdG91dGVzIGxlcyBhY3Rpb25zIG7DqWNlc3NhaXJlcyA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXIuamF2YTpcbiAgICAgMVx0cGFja2FnZSBjb250cm9sbGVycztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XG4gICAgIDVcdGltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XG4gICAgIDZcdGltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XG4gICAgIDdcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG4gICAgMTBcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgIDExXHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgIDEyXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG4gICAgMTNcdGltcG9ydCBqYXZhZnguc2NlbmUudGV4dC5UZXh0O1xuICAgIDE0XHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgIDE1XHRcbiAgICAxNlx0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxN1x0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMThcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgMTlcdGltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7XG4gICAgMjBcdFxuICAgIDIxXHRwdWJsaWMgY2xhc3MgSG9tZUNvbnRyb2xsZXIgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHtcbiAgICAyMlx0XG4gICAgMjNcdCAgICBARlhNTFxuICAgIDI0XHQgICAgcHJpdmF0ZSBUZXh0IHdlbGNvbWVUZXh0O1xuICAgIDI1XHRcbiAgICAyNlx0ICAgIHByaXZhdGUgQXV0aFNlcnZpY2UgYXV0aFNlcnZpY2U7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgcHVibGljIEhvbWVDb250cm9sbGVyKCkge1xuICAgIDI5XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxlIHNlcnZpY2UgZCdhdXRoZW50aWZpY2F0aW9uXG4gICAgMzBcdCAgICAgICAgYXV0aFNlcnZpY2UgPSBBdXRoU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIEBPdmVycmlkZVxuICAgIDM0XHQgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgIDM1XHQgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpXG4gICAgMzZcdCAgICAgICAgVXNlciBjdXJyZW50VXNlciA9IGF1dGhTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7XG4gICAgMzdcdCAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcbiAgICAzOFx0ICAgICAgICAgICAgd2VsY29tZVRleHQuc2V0VGV4dChcIlZvdXMgw6p0ZXMgY29ubmVjdMOpIGVuIHRhbnQgcXVlIFwiICsgY3VycmVudFVzZXIuZ2V0UHJlbm9tKCkgKyBcIiBcIiArIGN1cnJlbnRVc2VyLmdldE5vbSgpKTtcbiAgICAzOVx0ICAgICAgICB9IGVsc2Uge1xuICAgIDQwXHQgICAgICAgICAgICB3ZWxjb21lVGV4dC5zZXRUZXh0KFwiQXVjdW4gdXRpbGlzYXRldXIgY29ubmVjdMOpXCIpO1xuICAgIDQxXHQgICAgICAgIH1cbiAgICA0Mlx0ICAgIH1cbiAgICA0M1x0XG4gICAgNDRcdCAgICBARlhNTFxuICAgIDQ1XHQgICAgcHVibGljIHZvaWQgaGFuZGxlTG9nb3V0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDZcdCAgICAgICAgLy8gRMOpY29ubmVjdGVyIGwndXRpbGlzYXRldXJcbiAgICA0N1x0ICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcbiAgICA0OFx0XG4gICAgNDlcdCAgICAgICAgdHJ5IHtcbiAgICA1MFx0ICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxuICAgIDUxXHQgICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0xvZ2luLmZ4bWxcIik7XG4gICAgNTJcdCAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgNTNcdCAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAgNTRcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAgNTVcdCAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgNTZcdFxuICAgIDU3XHQgICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgICA1OFx0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSB3ZWxjb21lVGV4dC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgIDU5XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgNjBcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgNjFcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkNvbm5leGlvblwiKTtcbiAgICA2Mlx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICA2M1x0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgICA2NFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgNjVcdCAgICAgICAgICAgIH1cbiAgICA2Nlx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgNjdcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb24uXCIpO1xuICAgIDY4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDY5XHQgICAgICAgIH1cbiAgICA3MFx0ICAgIH1cbiAgICA3MVx0XG4gICAgNzJcdCAgICBARlhNTFxuICAgIDczXHQgICAgcHVibGljIHZvaWQgaGFuZGxlRXhpdChBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDc0XHQgICAgICAgIC8vIFF1aXR0ZXIgbCdhcHBsaWNhdGlvblxuICAgIDc1XHQgICAgICAgIFBsYXRmb3JtLmV4aXQoKTtcbiAgICA3Nlx0ICAgIH1cbiAgICA3N1x0XG4gICAgNzhcdCAgICBARlhNTFxuICAgIDc5XHQgICAgcHVibGljIHZvaWQgaGFuZGxlRXZlbnRzKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgODBcdCAgICAgICAgLy8gTmF2aWd1ZXIgdmVycyBsYSBwYWdlIGRlcyDDqXbDqW5lbWVudHNcbiAgICA4MVx0ICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIk5hdmlnYXRpb25cIiwgXCJGb25jdGlvbm5hbGl0w6kgbm9uIGltcGzDqW1lbnTDqWVcIik7XG4gICAgODJcdCAgICB9XG4gICAgODNcdFxuICAgIDg0XHQgICAgQEZYTUxcbiAgICA4NVx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZVByb2ZpbGUoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICA4Nlx0ICAgICAgICAvLyBOYXZpZ3VlciB2ZXJzIGxhIHBhZ2UgZGUgcHJvZmlsXG4gICAgODdcdCAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJOYXZpZ2F0aW9uXCIsIFwiRm9uY3Rpb25uYWxpdMOpIG5vbiBpbXBsw6ltZW50w6llXCIpO1xuICAgIDg4XHQgICAgfVxuICAgIDg5XHRcbiAgICA5MFx0ICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgbWVzc2FnZSkge1xuICAgIDkxXHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgOTJcdCAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgIDkzXHQgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgOTRcdCAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobWVzc2FnZSk7XG4gICAgOTVcdCAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICA5Nlx0ICAgIH1cbiAgICA5N1x0fVxuICAgIDk4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDk4XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxTGFOYXlMV01KY3ZlUUQ1NVhjeUVGaSJ9fV0sInJlc3BvbnNlX3RleHQiOiJKZSB2YWlzIG1haW50ZW5hbnQgY3LDqWVyIHVuIG5vdXZlYXUgY29udHLDtGxldXIgSG9tZVBhZ2VDb250cm9sbGVyIHF1aSBjb3JyZXNwb25kIGF1IGZpY2hpZXIgSG9tZVBhZ2UuZnhtbCBldCBpbXBsw6ltZW50ZXIgdG91dGVzIGxlcyBhY3Rpb25zIG7DqWNlc3NhaXJlcyA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI4YjdkZTUyYy03Nzk0LTRkNDctOGQwYy0yYjUzMGI4MTlkOTQiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjMyZTUzM2I0LWYwYjgtNDgwNy1iY2ZkLWZhMTlkNThkNjk3MiIsInJlcXVlc3RfbWVzc2FnZSI6ImNvbXBsZXRlciB0cmF2YWlsbGUgc3ZwIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImNvbXBsZXRlciB0cmF2YWlsbGUgc3ZwIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVXE1QnhoN2M3N2t3MTl2eHI4TlVvMiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvSG9tZVBhZ2UuZnhtbFwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCI8Qm9yZGVyUGFuZSB4bWxucz1cXFwiaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE2XFxcIiB4bWxuczpmeD1cXFwiaHR0cDovL2phdmFmeC5jb20vZnhtbC8xXFxcIiBmeDpjb250cm9sbGVyPVxcXCJjb250cm9sbGVycy5Ib21lQ29udHJvbGxlclxcXCI+XCIsIFwibmV3X3N0clwiOiBcIjxCb3JkZXJQYW5lIHhtbG5zPVxcXCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTZcXFwiIHhtbG5zOmZ4PVxcXCJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzFcXFwiIGZ4OmNvbnRyb2xsZXI9XFxcImNvbnRyb2xsZXJzLkhvbWVQYWdlQ29udHJvbGxlclxcXCI+XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxMX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSmUgdmFpcyBjb21wbMOpdGVyIGxlIHRyYXZhaWwgZW4gbWV0dGFudCDDoCBqb3VyIGxlIGZpY2hpZXIgSG9tZVBhZ2UuZnhtbCBwb3VyIGFqb3V0ZXIgbGVzIGFjdGlvbnMgbWFucXVhbnRlcyBldCBjcsOpZXIgdW4gY29udHLDtGxldXIgSG9tZVBhZ2VDb250cm9sbGVyIGNvcnJlc3BvbmRhbnQuXG5cbkNvbW1lbsOnb25zIHBhciBtZXR0cmUgw6Agam91ciBsZSBmaWNoaWVyIEhvbWVQYWdlLmZ4bWwgcG91ciBham91dGVyIGxlcyBhY3Rpb25zIG1hbnF1YW50ZXMgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IkplIHZhaXMgY29tcGzDqXRlciBsZSB0cmF2YWlsIGVuIG1ldHRhbnQgw6Agam91ciBsZSBmaWNoaWVyIEhvbWVQYWdlLmZ4bWwgcG91ciBham91dGVyIGxlcyBhY3Rpb25zIG1hbnF1YW50ZXMgZXQgY3LDqWVyIHVuIGNvbnRyw7RsZXVyIEhvbWVQYWdlQ29udHJvbGxlciBjb3JyZXNwb25kYW50LlxuXG5Db21tZW7Dp29ucyBwYXIgbWV0dHJlIMOgIGpvdXIgbGUgZmljaGllciBIb21lUGFnZS5meG1sIHBvdXIgYWpvdXRlciBsZXMgYWN0aW9ucyBtYW5xdWFudGVzIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoiY2FuY2VsbGVkIiwicmVxdWVzdF9pZCI6InRlbXAtZmUtNzdmNmY2ZGMtODljZS00ZmU2LTkyNTQtOThmNGFjNmZlMWMyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Ib21lUGFnZS5meG1sLiBTZWUgYmVsb3cgZm9yIGRldGFpbHMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5ObyByZXBsYWNlbWVudCB3YXMgcGVyZm9ybWVkLCBvbGRTdHIgZGlkIG5vdCBhcHBlYXIgdmVyYmF0aW0gaW4gc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvSG9tZVBhZ2UuZnhtbC5cblRoZSBjb250ZW50IGluIHRoZSBzcGVjaWZpZWQgcmVnaW9uIGlzOlxuICAgICA3XHQ8P2ltcG9ydCBqYXZhZnguZ2VvbWV0cnkuKj8+XG4gICAgIDhcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5zaGFwZS4qPz5cbiAgICAgOVx0XG4gICAgMTBcdDw/aW1wb3J0IGphdmEubmV0LlVSTD8+XG4gICAgMTFcdDxCb3JkZXJQYW5lIHhtbG5zPVwiaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE2XCIgeG1sbnM6Zng9XCJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzFcIiBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuSG9tZVBhZ2VDb250cm9sbGVyXCI+XG4gICAgMTJcdCAgICA8IS0tIFN0eWxlIENTUyAtLT5cbiAgICAxM1x0ICAgIDxzdHlsZXNoZWV0cz5cbiAgICAxNFx0ICAgICAgICA8VVJMIHZhbHVlPVwiQC4uL3N0eWxlcy9ob21lLmNzc1wiIC8+XG4gICAgMTVcdCAgICA8L3N0eWxlc2hlZXRzPlxuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtMSwxICsxLDEgQEBcbi08Qm9yZGVyUGFuZSB4bWxucz1cImh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNlwiIHhtbG5zOmZ4PVwiaHR0cDovL2phdmFmeC5jb20vZnhtbC8xXCIgZng6Y29udHJvbGxlcj1cImNvbnRyb2xsZXJzLkhvbWVDb250cm9sbGVyXCI+XG4rPEJvcmRlclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTZcIiB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMVwiIGZ4OmNvbnRyb2xsZXI9XCJjb250cm9sbGVycy5Ib21lUGFnZUNvbnRyb2xsZXJcIj5cblxuXG5GaXggZmFpbGVkIHN0cl9yZXBsYWNlX2VudHJpZXMgYWNjb3JkaW5nbHkgYW5kIHRyeSBhZ2Fpbi5cbiIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVVxNUJ4aDdjNzdrdzE5dnhyOE5VbzIifX1dfSx7InJlcXVlc3RfaWQiOiI1MTFiYmExNi1iYTVhLTQ5NTEtYThiYy0xNmVhNTdhNTZhZTMiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImYxYzYwM2M1LWQzYWEtNGY0ZS05Nzk1LTI1NWVmNzc3ZjE0MSIsInJlcXVlc3RfbWVzc2FnZSI6IiBhbGFpZGUgZGUgVXNlclNlc3Npb24uamF2YSBldCB1c2VyLmphdmEgamUgdmV1eCByZWN1cGVyZXIgbGUgdXNlciBjb25lY3TDqSBhcHJlIGxvZ2luIGV0IG1tZWV0cmUgc2VzIGluZm9ybWF0aW9uIGRhbnMgbGVzIGlucHV0IGRlIHBhZ2UgcHJvZmlsZXVzZXIuZnhtbCAiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiIGFsYWlkZSBkZSBVc2VyU2Vzc2lvbi5qYXZhIGV0IHVzZXIuamF2YSBqZSB2ZXV4IHJlY3VwZXJlciBsZSB1c2VyIGNvbmVjdMOpIGFwcmUgbG9naW4gZXQgbW1lZXRyZSBzZXMgaW5mb3JtYXRpb24gZGFucyBsZXMgaW5wdXQgZGUgcGFnZSBwcm9maWxldXNlci5meG1sICJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVNOTHJSeUE4eVl2UlBuVGM4OGNSdWMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2YWlzIHZvdXMgYWlkZXIgw6AgcsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0w6kgYXByw6hzIGxlIGxvZ2luIGV0IMOgIGFmZmljaGVyIHNlcyBpbmZvcm1hdGlvbnMgZGFucyBsYSBwYWdlIHByb2ZpbGV1c2VyLmZ4bWwuXG5cbkNvbW1lbsOnb25zIHBhciBleGFtaW5lciBsZXMgZmljaGllcnMgVXNlclNlc3Npb24uamF2YSBldCBVc2VyLmphdmEgcG91ciBjb21wcmVuZHJlIGNvbW1lbnQgcsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0w6kgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwicmVzcG9uc2VfdGV4dCI6IkplIHZhaXMgdm91cyBhaWRlciDDoCByw6ljdXDDqXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqSBhcHLDqHMgbGUgbG9naW4gZXQgw6AgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucyBkYW5zIGxhIHBhZ2UgcHJvZmlsZXVzZXIuZnhtbC5cblxuQ29tbWVuw6dvbnMgcGFyIGV4YW1pbmVyIGxlcyBmaWNoaWVycyBVc2VyU2Vzc2lvbi5qYXZhIGV0IFVzZXIuamF2YSBwb3VyIGNvbXByZW5kcmUgY29tbWVudCByw6ljdXDDqXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMzU5ZTVmYzQtNmM3ZS00YTYxLWFjNzYtNGI1Mzk1Mjg3Y2M5IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMU5xMjl6SGNKNEp3a05FNVh6OXhrVlIiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9lbnRpdGllcy9Vc2VyLmphdmFcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9lbnRpdGllcy9Vc2VyU2Vzc2lvbi5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGVudGl0aWVzO1xuICAgICAyXHRcbiAgICAgM1x0LyoqXG4gICAgIDRcdCAqIENsYXNzZSBzaW5nbGV0b24gcG91ciBnw6lyZXIgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgICA1XHQgKi9cbiAgICAgNlx0cHVibGljIGNsYXNzIFVzZXJTZXNzaW9uIHtcbiAgICAgN1x0ICAgIHByaXZhdGUgc3RhdGljIFVzZXJTZXNzaW9uIGluc3RhbmNlO1xuICAgICA4XHQgICAgcHJpdmF0ZSBVc2VyIGN1cnJlbnRVc2VyO1xuICAgICA5XHRcbiAgICAxMFx0ICAgIC8vIENvbnN0cnVjdGV1ciBwcml2w6kgcG91ciBlbXDDqmNoZXIgbCdpbnN0YW5jaWF0aW9uIGRpcmVjdGVcbiAgICAxMVx0ICAgIHByaXZhdGUgVXNlclNlc3Npb24oKSB7XG4gICAgMTJcdCAgICB9XG4gICAgMTNcdFxuICAgIDE0XHQgICAgLyoqXG4gICAgMTVcdCAgICAgKiBPYnRpZW50IGwnaW5zdGFuY2UgdW5pcXVlIGRlIFVzZXJTZXNzaW9uXG4gICAgMTZcdCAgICAgKiBAcmV0dXJuIEwnaW5zdGFuY2UgZGUgVXNlclNlc3Npb25cbiAgICAxN1x0ICAgICAqL1xuICAgIDE4XHQgICAgcHVibGljIHN0YXRpYyBVc2VyU2Vzc2lvbiBnZXRJbnN0YW5jZSgpIHtcbiAgICAxOVx0ICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgIDIwXHQgICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBVc2VyU2Vzc2lvbigpO1xuICAgIDIxXHQgICAgICAgIH1cbiAgICAyMlx0ICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgMjNcdCAgICB9XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLyoqXG4gICAgMjZcdCAgICAgKiBEw6lmaW5pdCBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0w6lcbiAgICAyN1x0ICAgICAqIEBwYXJhbSB1c2VyIEwndXRpbGlzYXRldXIgY29ubmVjdMOpXG4gICAgMjhcdCAgICAgKi9cbiAgICAyOVx0ICAgIHB1YmxpYyB2b2lkIHNldEN1cnJlbnRVc2VyKFVzZXIgdXNlcikge1xuICAgIDMwXHQgICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB1c2VyO1xuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIC8qKlxuICAgIDM0XHQgICAgICogT2J0aWVudCBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0w6lcbiAgICAzNVx0ICAgICAqIEByZXR1cm4gTCd1dGlsaXNhdGV1ciBjb25uZWN0w6lcbiAgICAzNlx0ICAgICAqL1xuICAgIDM3XHQgICAgcHVibGljIFVzZXIgZ2V0Q3VycmVudFVzZXIoKSB7XG4gICAgMzhcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xuICAgIDM5XHQgICAgfVxuICAgIDQwXHRcbiAgICA0MVx0ICAgIC8qKlxuICAgIDQyXHQgICAgICogRMOpY29ubmVjdGUgbCd1dGlsaXNhdGV1ciBhY3R1ZWxcbiAgICA0M1x0ICAgICAqL1xuICAgIDQ0XHQgICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xuICAgIDQ1XHQgICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBudWxsO1xuICAgIDQ2XHQgICAgfVxuICAgIDQ3XHRcbiAgICA0OFx0ICAgIC8qKlxuICAgIDQ5XHQgICAgICogVsOpcmlmaWUgc2kgdW4gdXRpbGlzYXRldXIgZXN0IGNvbm5lY3TDqVxuICAgIDUwXHQgICAgICogQHJldHVybiB0cnVlIHNpIHVuIHV0aWxpc2F0ZXVyIGVzdCBjb25uZWN0w6ksIGZhbHNlIHNpbm9uXG4gICAgNTFcdCAgICAgKi9cbiAgICA1Mlx0ICAgIHB1YmxpYyBib29sZWFuIGlzTG9nZ2VkSW4oKSB7XG4gICAgNTNcdCAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyICE9IG51bGw7XG4gICAgNTRcdCAgICB9XG4gICAgNTVcdH1cbiAgICA1Nlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVNOTHJSeUE4eVl2UlBuVGM4OGNSdWMifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFkZDdiOWFjLWM4YTctNDZmYS1iMTllLTVkMzM4ZTg5NDhkZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFDM3RDZHNIRTl3SEJWbktaSDF3QTJ4IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWxcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIHbDqXJpZmlvbnMgc2kgbGUgZmljaGllciBwcm9maWxldXNlci5meG1sIGV4aXN0ZSBkw6lqw6AgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1VzZXIuamF2YTpcbiAgICAgMVx0cGFja2FnZSBlbnRpdGllcztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG4gICAgIDRcdGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuICAgICA1XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDZcdFxuICAgICA3XHRwdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgIDhcdCAgICBwcml2YXRlIGludCBpZDtcbiAgICAgOVx0ICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICAxMFx0ICAgIHByaXZhdGUgU3RyaW5nIGVtYWlsO1xuICAgIDExXHQgICAgcHJpdmF0ZSBTdHJpbmcgcHJlbm9tO1xuICAgIDEyXHQgICAgcHJpdmF0ZSBTdHJpbmcgYWRyZXNzZTtcbiAgICAxM1x0ICAgIHByaXZhdGUgU3RyaW5nIHRlbGVwaG9uZTtcbiAgICAxNFx0ICAgIHByaXZhdGUgYm9vbGVhbiBpc1ZlcmlmaWVkO1xuICAgIDE1XHQgICAgcHJpdmF0ZSBUaW1lc3RhbXAgY3JlYXRlZF9hdDtcbiAgICAxNlx0ICAgIHByaXZhdGUgTGlzdDxTdHJpbmc+IHJvbGU7XG4gICAgMTdcdCAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICAxOFx0ICAgIHByaXZhdGUgU3RyaW5nIGltYWdlVXJsO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgIC8vIENvbnN0cnVjdGV1ciBwYXIgZMOpZmF1dFxuICAgIDIxXHQgICAgcHVibGljIFVzZXIoKSB7XG4gICAgMjJcdCAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgMjNcdCAgICB9XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy8gQ29uc3RydWN0ZXVyIGF2ZWMgdG91cyBsZXMgcGFyYW3DqHRyZXNcbiAgICAyNlx0ICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBUaW1lc3RhbXAgY3JlYXRlZF9hdCwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAyN1x0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgMjhcdCAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgMjlcdCAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgIDMwXHQgICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIDMxXHQgICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgMzJcdCAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgMzNcdCAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAzNFx0ICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xuICAgIDM1XHQgICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAzNlx0ICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgMzdcdCAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgMzhcdCAgICB9XG4gICAgMzlcdFxuICAgIDQwXHQgICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXG4gICAgNDFcdCAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgIDQyXHQgICAgICAgIHJldHVybiBpZDtcbiAgICA0M1x0ICAgIH1cbiAgICA0NFx0XG4gICAgNDVcdCAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHtcbiAgICA0Nlx0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgNDdcdCAgICB9XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgcHVibGljIFN0cmluZyBnZXROb20oKSB7XG4gICAgNTBcdCAgICAgICAgcmV0dXJuIG5vbTtcbiAgICA1MVx0ICAgIH1cbiAgICA1Mlx0XG4gICAgNTNcdCAgICBwdWJsaWMgdm9pZCBzZXROb20oU3RyaW5nIG5vbSkge1xuICAgIDU0XHQgICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIDU1XHQgICAgfVxuICAgIDU2XHRcbiAgICA1N1x0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWwoKSB7XG4gICAgNThcdCAgICAgICAgcmV0dXJuIGVtYWlsO1xuICAgIDU5XHQgICAgfVxuICAgIDYwXHRcbiAgICA2MVx0ICAgIHB1YmxpYyB2b2lkIHNldEVtYWlsKFN0cmluZyBlbWFpbCkge1xuICAgIDYyXHQgICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICA2M1x0ICAgIH1cbiAgICA2NFx0XG4gICAgNjVcdCAgICBwdWJsaWMgU3RyaW5nIGdldFByZW5vbSgpIHtcbiAgICA2Nlx0ICAgICAgICByZXR1cm4gcHJlbm9tO1xuICAgIDY3XHQgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgIHB1YmxpYyB2b2lkIHNldFByZW5vbShTdHJpbmcgcHJlbm9tKSB7XG4gICAgNzBcdCAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgNzFcdCAgICB9XG4gICAgNzJcdFxuICAgIDczXHQgICAgcHVibGljIFN0cmluZyBnZXRBZHJlc3NlKCkge1xuICAgIDc0XHQgICAgICAgIHJldHVybiBhZHJlc3NlO1xuICAgIDc1XHQgICAgfVxuICAgIDc2XHRcbiAgICA3N1x0ICAgIHB1YmxpYyB2b2lkIHNldEFkcmVzc2UoU3RyaW5nIGFkcmVzc2UpIHtcbiAgICA3OFx0ICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgIDc5XHQgICAgfVxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGVsZXBob25lKCkge1xuICAgIDgyXHQgICAgICAgIHJldHVybiB0ZWxlcGhvbmU7XG4gICAgODNcdCAgICB9XG4gICAgODRcdFxuICAgIDg1XHQgICAgcHVibGljIHZvaWQgc2V0VGVsZXBob25lKFN0cmluZyB0ZWxlcGhvbmUpIHtcbiAgICA4Nlx0ICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICA4N1x0ICAgIH1cbiAgICA4OFx0XG4gICAgODlcdCAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcmlmaWVkKCkge1xuICAgIDkwXHQgICAgICAgIHJldHVybiBpc1ZlcmlmaWVkO1xuICAgIDkxXHQgICAgfVxuICAgIDkyXHRcbiAgICA5M1x0ICAgIHB1YmxpYyB2b2lkIHNldFZlcmlmaWVkKGJvb2xlYW4gdmVyaWZpZWQpIHtcbiAgICA5NFx0ICAgICAgICBpc1ZlcmlmaWVkID0gdmVyaWZpZWQ7XG4gICAgOTVcdCAgICB9XG4gICAgOTZcdFxuICAgIDk3XHQgICAgcHVibGljIFRpbWVzdGFtcCBnZXRDcmVhdGVkX2F0KCkge1xuICAgIDk4XHQgICAgICAgIHJldHVybiBjcmVhdGVkX2F0O1xuICAgIDk5XHQgICAgfVxuICAgMTAwXHRcbiAgIDEwMVx0ICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZWRfYXQoVGltZXN0YW1wIGNyZWF0ZWRfYXQpIHtcbiAgIDEwMlx0ICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xuICAgMTAzXHQgICAgfVxuICAgMTA0XHRcbiAgIDEwNVx0ICAgIHB1YmxpYyBMaXN0PFN0cmluZz4gZ2V0Um9sZSgpIHtcbiAgIDEwNlx0ICAgICAgICByZXR1cm4gcm9sZTtcbiAgIDEwN1x0ICAgIH1cbiAgIDEwOFx0XG4gICAxMDlcdCAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKExpc3Q8U3RyaW5nPiByb2xlKSB7XG4gICAxMTBcdCAgICAgICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgIDExMVx0ICAgIH1cbiAgIDExMlx0XG4gICAxMTNcdCAgICBwdWJsaWMgU3RyaW5nIGdldFBhc3N3b3JkKCkge1xuICAgMTE0XHQgICAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgIDExNVx0ICAgIH1cbiAgIDExNlx0XG4gICAxMTdcdCAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgIDExOFx0ICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAxMTlcdCAgICB9XG4gICAxMjBcdFxuICAgMTIxXHQgICAgcHVibGljIFN0cmluZyBnZXRJbWFnZVVybCgpIHtcbiAgIDEyMlx0ICAgICAgICByZXR1cm4gaW1hZ2VVcmw7XG4gICAxMjNcdCAgICB9XG4gICAxMjRcdFxuICAgMTI1XHQgICAgcHVibGljIHZvaWQgc2V0SW1hZ2VVcmwoU3RyaW5nIGltYWdlVXJsKSB7XG4gICAxMjZcdCAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgMTI3XHQgICAgfVxuICAgMTI4XHRcbiAgIDEyOVx0ICAgIEBPdmVycmlkZVxuICAgMTMwXHQgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgIDEzMVx0ICAgICAgICByZXR1cm4gXCJVc2Vye1wiICtcbiAgIDEzMlx0ICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAxMzNcdCAgICAgICAgICAgICAgICBcIiwgbm9tPSdcIiArIG5vbSArICdcXCcnICtcbiAgIDEzNFx0ICAgICAgICAgICAgICAgIFwiLCBlbWFpbD0nXCIgKyBlbWFpbCArICdcXCcnICtcbiAgIDEzNVx0ICAgICAgICAgICAgICAgIFwiLCBwcmVub209J1wiICsgcHJlbm9tICsgJ1xcJycgK1xuICAgMTM2XHQgICAgICAgICAgICAgICAgXCIsIGFkcmVzc2U9J1wiICsgYWRyZXNzZSArICdcXCcnICtcbiAgIDEzN1x0ICAgICAgICAgICAgICAgIFwiLCB0ZWxlcGhvbmU9J1wiICsgdGVsZXBob25lICsgJ1xcJycgK1xuICAgMTM4XHQgICAgICAgICAgICAgICAgXCIsIGlzVmVyaWZpZWQ9XCIgKyBpc1ZlcmlmaWVkICtcbiAgIDEzOVx0ICAgICAgICAgICAgICAgIFwiLCBjcmVhdGVkX2F0PVwiICsgY3JlYXRlZF9hdCArXG4gICAxNDBcdCAgICAgICAgICAgICAgICBcIiwgcm9sZT1cIiArIHJvbGUgK1xuICAgMTQxXHQgICAgICAgICAgICAgICAgXCIsIGltYWdlVXJsPSdcIiArIGltYWdlVXJsICsgJ1xcJycgK1xuICAgMTQyXHQgICAgICAgICAgICAgICAgJ30nO1xuICAgMTQzXHQgICAgfVxuICAgMTQ0XHR9XG4gICAxNDVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTQ1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxTnEyOXpIY0o0SndrTkU1WHo5eGtWUiJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCB2w6lyaWZpb25zIHNpIGxlIGZpY2hpZXIgcHJvZmlsZXVzZXIuZnhtbCBleGlzdGUgZMOpasOgIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyNjdiNWU3My00MmNlLTQxNmYtOTc0My1mYjQ4ODg0YmM2MDUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxOGk1UkQxM0cyZ3FVWG94b2VRVUFoWiIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBjb250cm9sbGVycztcXG5cXG5pbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgZW50aXRpZXMuVXNlclNlc3Npb247XFxuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XFxuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkFsZXJ0O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b247XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkRhdGVQaWNrZXI7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRleHRGaWVsZDtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlO1xcbmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xcbmltcG9ydCBqYXZhZnguc3RhZ2UuRmlsZUNob29zZXI7XFxuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcXG5cXG5pbXBvcnQgamF2YS5pby5GaWxlO1xcbmltcG9ydCBqYXZhLm5ldC5VUkw7XFxuaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGU7XFxuaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcXG5cXG5wdWJsaWMgY2xhc3MgUHJvZmlsZVVzZXJDb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IHByb2ZpbGVJbWFnZTtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgbGFzdE5hbWVGaWVsZDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgZmlyc3ROYW1lRmllbGQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIGVtYWlsRmllbGQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIHBob25lRmllbGQ7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgRGF0ZVBpY2tlciBiaXJ0aERhdGVQaWNrZXI7XFxuXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIGFkZHJlc3NGaWVsZDtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBCdXR0b24gc2F2ZUJ1dHRvbjtcXG5cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSBCdXR0b24gY2FuY2VsQnV0dG9uO1xcblxcbiAgICBARlhNTFxcbiAgICBwcml2YXRlIEJ1dHRvbiBjaGFuZ2VQYXNzd29yZEJ1dHRvbjtcXG5cXG4gICAgcHJpdmF0ZSBVc2VyIGN1cnJlbnRVc2VyO1xcblxcbiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xcbiAgICAgICAgLy8gUlxcdTAwZTljdXBcXHUwMGU5cmVyIGwndXRpbGlzYXRldXIgY29ubmVjdFxcdTAwZTkgZGVwdWlzIFVzZXJTZXNzaW9uXFxuICAgICAgICBjdXJyZW50VXNlciA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuZ2V0Q3VycmVudFVzZXIoKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcXG4gICAgICAgICAgICAvLyBSZW1wbGlyIGxlcyBjaGFtcHMgYXZlYyBsZXMgaW5mb3JtYXRpb25zIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICAgICAgICBsb2FkVXNlckRhdGEoKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1clxcXCIsIFxcXCJBdWN1biB1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICAvLyBDb25maWd1cmVyIGxlcyBhY3Rpb25zIGRlcyBib3V0b25zXFxuICAgICAgICBzZXR1cEJ1dHRvbkFjdGlvbnMoKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIENoYXJnZSBsZXMgZG9ublxcdTAwZTllcyBkZSBsJ3V0aWxpc2F0ZXVyIGRhbnMgbGVzIGNoYW1wcyBkdSBmb3JtdWxhaXJlXFxuICAgICAqL1xcbiAgICBwcml2YXRlIHZvaWQgbG9hZFVzZXJEYXRhKCkge1xcbiAgICAgICAgLy8gUmVtcGxpciBsZXMgY2hhbXBzIGRlIHRleHRlXFxuICAgICAgICBsYXN0TmFtZUZpZWxkLnNldFRleHQoY3VycmVudFVzZXIuZ2V0Tm9tKCkpO1xcbiAgICAgICAgZmlyc3ROYW1lRmllbGQuc2V0VGV4dChjdXJyZW50VXNlci5nZXRQcmVub20oKSk7XFxuICAgICAgICBlbWFpbEZpZWxkLnNldFRleHQoY3VycmVudFVzZXIuZ2V0RW1haWwoKSk7XFxuICAgICAgICBwaG9uZUZpZWxkLnNldFRleHQoY3VycmVudFVzZXIuZ2V0VGVsZXBob25lKCkpO1xcbiAgICAgICAgYWRkcmVzc0ZpZWxkLnNldFRleHQoY3VycmVudFVzZXIuZ2V0QWRyZXNzZSgpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ2hhcmdlciBsJ2ltYWdlIGRlIHByb2ZpbCBzaSBkaXNwb25pYmxlXFxuICAgICAgICBpZiAoY3VycmVudFVzZXIuZ2V0SW1hZ2VVcmwoKSAhPSBudWxsICYmICFjdXJyZW50VXNlci5nZXRJbWFnZVVybCgpLmlzRW1wdHkoKSkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIEZpbGUgaW1hZ2VGaWxlID0gbmV3IEZpbGUoY3VycmVudFVzZXIuZ2V0SW1hZ2VVcmwoKSk7XFxuICAgICAgICAgICAgICAgIGlmIChpbWFnZUZpbGUuZXhpc3RzKCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIEltYWdlIGltYWdlID0gbmV3IEltYWdlKGltYWdlRmlsZS50b1VSSSgpLnRvU3RyaW5nKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZUltYWdlLnNldEltYWdlKGltYWdlKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgIC8vIENoYXJnZXIgdW5lIGltYWdlIHBhciBkXFx1MDBlOWZhdXRcXG4gICAgICAgICAgICAgICAgICAgIGxvYWREZWZhdWx0UHJvZmlsZUltYWdlKCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXFxcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGUgbCdpbWFnZTogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICAgICAgbG9hZERlZmF1bHRQcm9maWxlSW1hZ2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIC8vIENoYXJnZXIgdW5lIGltYWdlIHBhciBkXFx1MDBlOWZhdXRcXG4gICAgICAgICAgICBsb2FkRGVmYXVsdFByb2ZpbGVJbWFnZSgpO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICAvLyBOb3RlOiBMYSBkYXRlIGRlIG5haXNzYW5jZSBuJ2VzdCBwYXMgZGFucyBsZSBtb2RcXHUwMGU4bGUgVXNlciBhY3R1ZWxcXG4gICAgICAgIC8vIFNpIHZvdXMgYWpvdXRleiBjZSBjaGFtcCBwbHVzIHRhcmQsIHZvdXMgcG91cnJleiBsZSByZW1wbGlyIGljaVxcbiAgICAgICAgLy8gYmlydGhEYXRlUGlja2VyLnNldFZhbHVlKGN1cnJlbnRVc2VyLmdldEJpcnRoRGF0ZSgpKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIENoYXJnZSB1bmUgaW1hZ2UgZGUgcHJvZmlsIHBhciBkXFx1MDBlOWZhdXRcXG4gICAgICovXFxuICAgIHByaXZhdGUgdm9pZCBsb2FkRGVmYXVsdFByb2ZpbGVJbWFnZSgpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gQ2hhcmdlciB1bmUgaW1hZ2UgcGFyIGRcXHUwMGU5ZmF1dCBkZXB1aXMgbGVzIHJlc3NvdXJjZXNcXG4gICAgICAgICAgICBVUkwgZGVmYXVsdEltYWdlVXJsID0gZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcXFwiL2ltYWdlcy9kZWZhdWx0LXByb2ZpbGUucG5nXFxcIik7XFxuICAgICAgICAgICAgaWYgKGRlZmF1bHRJbWFnZVVybCAhPSBudWxsKSB7XFxuICAgICAgICAgICAgICAgIEltYWdlIGRlZmF1bHRJbWFnZSA9IG5ldyBJbWFnZShkZWZhdWx0SW1hZ2VVcmwudG9TdHJpbmcoKSk7XFxuICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZS5zZXRJbWFnZShkZWZhdWx0SW1hZ2UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFxcXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlIGwnaW1hZ2UgcGFyIGRcXHUwMGU5ZmF1dDogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIENvbmZpZ3VyZSBsZXMgYWN0aW9ucyBkZXMgYm91dG9uc1xcbiAgICAgKi9cXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQnV0dG9uQWN0aW9ucygpIHtcXG4gICAgICAgIC8vIEFjdGlvbiBkdSBib3V0b24gRW5yZWdpc3RyZXJcXG4gICAgICAgIHNhdmVCdXR0b24uc2V0T25BY3Rpb24oZXZlbnQgLT4gaGFuZGxlU2F2ZSgpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQWN0aW9uIGR1IGJvdXRvbiBBbm51bGVyXFxuICAgICAgICBjYW5jZWxCdXR0b24uc2V0T25BY3Rpb24oZXZlbnQgLT4gaGFuZGxlQ2FuY2VsKCkpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBY3Rpb24gZHUgYm91dG9uIE1vZGlmaWVyIG1vdCBkZSBwYXNzZVxcbiAgICAgICAgY2hhbmdlUGFzc3dvcmRCdXR0b24uc2V0T25BY3Rpb24oZXZlbnQgLT4gaGFuZGxlQ2hhbmdlUGFzc3dvcmQoKSk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIEFjdGlvbiBwb3VyIGNoYW5nZXIgbCdpbWFnZSBkZSBwcm9maWxcXG4gICAgICAgIHByb2ZpbGVJbWFnZS5zZXRPbk1vdXNlQ2xpY2tlZChldmVudCAtPiBoYW5kbGVDaGFuZ2VQcm9maWxlSW1hZ2UoKSk7XFxuICAgIH1cXG4gICAgXFxuICAgIC8qKlxcbiAgICAgKiBHXFx1MDBlOHJlIGwnYWN0aW9uIGR1IGJvdXRvbiBFbnJlZ2lzdHJlclxcbiAgICAgKi9cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVNhdmUoKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIE1ldHRyZSBcXHUwMGUwIGpvdXIgbGVzIGluZm9ybWF0aW9ucyBkZSBsJ3V0aWxpc2F0ZXVyXFxuICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0Tm9tKGxhc3ROYW1lRmllbGQuZ2V0VGV4dCgpKTtcXG4gICAgICAgICAgICBjdXJyZW50VXNlci5zZXRQcmVub20oZmlyc3ROYW1lRmllbGQuZ2V0VGV4dCgpKTtcXG4gICAgICAgICAgICBjdXJyZW50VXNlci5zZXRFbWFpbChlbWFpbEZpZWxkLmdldFRleHQoKSk7XFxuICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0VGVsZXBob25lKHBob25lRmllbGQuZ2V0VGV4dCgpKTtcXG4gICAgICAgICAgICBjdXJyZW50VXNlci5zZXRBZHJlc3NlKGFkZHJlc3NGaWVsZC5nZXRUZXh0KCkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIEVucmVnaXN0cmVyIGxlcyBtb2RpZmljYXRpb25zIGRhbnMgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgLy8gVm91cyBkZXZyZXogaW1wbFxcdTAwZTltZW50ZXIgY2V0dGUgcGFydGllIGF2ZWMgdm90cmUgc2VydmljZSB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgIC8vIHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoY3VycmVudFVzZXIpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJTdWNjXFx1MDBlOHNcXFwiLCBcXFwiUHJvZmlsIG1pcyBcXHUwMGUwIGpvdXIgYXZlYyBzdWNjXFx1MDBlOHNcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1clxcXCIsIFxcXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFxcdTAwZTAgam91ciBkdSBwcm9maWw6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEdcXHUwMGU4cmUgbCdhY3Rpb24gZHUgYm91dG9uIEFubnVsZXJcXG4gICAgICovXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDYW5jZWwoKSB7XFxuICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIGRvbm5cXHUwMGU5ZXMgb3JpZ2luYWxlc1xcbiAgICAgICAgbG9hZFVzZXJEYXRhKCk7XFxuICAgIH1cXG4gICAgXFxuICAgIC8qKlxcbiAgICAgKiBHXFx1MDBlOHJlIGwnYWN0aW9uIGR1IGJvdXRvbiBNb2RpZmllciBtb3QgZGUgcGFzc2VcXG4gICAgICovXFxuICAgIEBGWE1MXFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDaGFuZ2VQYXNzd29yZCgpIHtcXG4gICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFxcXCJJbmZvcm1hdGlvblxcXCIsIFxcXCJGb25jdGlvbm5hbGl0XFx1MDBlOSBkZSBjaGFuZ2VtZW50IGRlIG1vdCBkZSBwYXNzZSBub24gaW1wbFxcdTAwZTltZW50XFx1MDBlOWVcXFwiKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEdcXHUwMGU4cmUgbCdhY3Rpb24gZGUgY2hhbmdlbWVudCBkJ2ltYWdlIGRlIHByb2ZpbFxcbiAgICAgKi9cXG4gICAgQEZYTUxcXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNoYW5nZVByb2ZpbGVJbWFnZSgpIHtcXG4gICAgICAgIEZpbGVDaG9vc2VyIGZpbGVDaG9vc2VyID0gbmV3IEZpbGVDaG9vc2VyKCk7XFxuICAgICAgICBmaWxlQ2hvb3Nlci5zZXRUaXRsZShcXFwiU1xcdTAwZTlsZWN0aW9ubmVyIHVuZSBpbWFnZSBkZSBwcm9maWxcXFwiKTtcXG4gICAgICAgIGZpbGVDaG9vc2VyLmdldEV4dGVuc2lvbkZpbHRlcnMoKS5hZGRBbGwoXFxuICAgICAgICAgICAgbmV3IEZpbGVDaG9vc2VyLkV4dGVuc2lvbkZpbHRlcihcXFwiSW1hZ2VzXFxcIiwgXFxcIioucG5nXFxcIiwgXFxcIiouanBnXFxcIiwgXFxcIiouanBlZ1xcXCIsIFxcXCIqLmdpZlxcXCIpXFxuICAgICAgICApO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBBZmZpY2hlciBsYSBib1xcdTAwZWV0ZSBkZSBkaWFsb2d1ZSBkZSBzXFx1MDBlOWxlY3Rpb24gZGUgZmljaGllclxcbiAgICAgICAgRmlsZSBzZWxlY3RlZEZpbGUgPSBmaWxlQ2hvb3Nlci5zaG93T3BlbkRpYWxvZyhwcm9maWxlSW1hZ2UuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKSk7XFxuICAgICAgICBcXG4gICAgICAgIGlmIChzZWxlY3RlZEZpbGUgIT0gbnVsbCkge1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIC8vIENoYXJnZXIgbCdpbWFnZSBzXFx1MDBlOWxlY3Rpb25uXFx1MDBlOWVcXG4gICAgICAgICAgICAgICAgSW1hZ2UgaW1hZ2UgPSBuZXcgSW1hZ2Uoc2VsZWN0ZWRGaWxlLnRvVVJJKCkudG9TdHJpbmcoKSk7XFxuICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZS5zZXRJbWFnZShpbWFnZSk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBNZXR0cmUgXFx1MDBlMCBqb3VyIGxlIGNoZW1pbiBkZSBsJ2ltYWdlIGRhbnMgbCdvYmpldCB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRJbWFnZVVybChzZWxlY3RlZEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVm91cyBkZXZyZXogaW1wbFxcdTAwZTltZW50ZXIgbGEgbG9naXF1ZSBwb3VyIGVucmVnaXN0cmVyIGwnaW1hZ2VcXG4gICAgICAgICAgICAgICAgLy8gZGFucyB1biBkb3NzaWVyIGFwcHJvcHJpXFx1MDBlOSBldCBtZXR0cmUgXFx1MDBlMCBqb3VyIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXJcXFwiLCBcXFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZSBsJ2ltYWdlOiBcXFwiICsgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBcXG4gICAgLyoqXFxuICAgICAqIEFmZmljaGUgdW5lIGFsZXJ0ZVxcbiAgICAgKi9cXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7XFxuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcXG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KG1lc3NhZ2UpO1xcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcXG4gICAgfVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGplIHZhaXMgY3LDqWVyIHVuIGNvbnRyw7RsZXVyIHBvdXIgbGEgcGFnZSBkZSBwcm9maWwgdXRpbGlzYXRldXIgcXVpIHLDqWN1cMOpcmVyYSBsZXMgaW5mb3JtYXRpb25zIGRlIGwndXRpbGlzYXRldXIgY29ubmVjdMOpIHZpYSBVc2VyU2Vzc2lvbiA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWw6XG4gICAgIDFcdDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuICAgICAyXHRcbiAgICAgM1x0PD9pbXBvcnQgamF2YS5sYW5nLio/PlxuICAgICA0XHQ8P2ltcG9ydCBqYXZhLnV0aWwuKj8+XG4gICAgIDVcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS4qPz5cbiAgICAgNlx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKj8+XG4gICAgIDdcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuKj8+XG4gICAgIDhcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS4qPz5cbiAgICAgOVx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLnNoYXBlLio/PlxuICAgIDEwXHQ8P2ltcG9ydCBqYXZhZnguZ2VvbWV0cnkuKj8+XG4gICAgMTFcdFxuICAgIDEyXHQ8QW5jaG9yUGFuZSB4bWxucz1cImh0dHA6Ly9qYXZhZnguY29tL2phdmFmeFwiXG4gICAgMTNcdCAgICAgICAgICAgIHhtbG5zOmZ4PVwiaHR0cDovL2phdmFmeC5jb20vZnhtbFwiXG4gICAgMTRcdCAgICAgICAgICAgIGZ4OmNvbnRyb2xsZXI9XCJjb250cm9sbGVycy5wcm9maWxldXNlclwiXG4gICAgMTVcdCAgICAgICAgICAgIHByZWZIZWlnaHQ9XCI2MDAuMFwiIHByZWZXaWR0aD1cIjgwMC4wXCJcbiAgICAxNlx0ICAgICAgICAgICAgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcIj5cbiAgICAxN1x0XG4gICAgMThcdCAgICA8IS0tIENvbnRlbmV1ciBwcmluY2lwYWwgLS0+XG4gICAgMTlcdCAgICA8VkJveCBhbGlnbm1lbnQ9XCJUT1BfQ0VOVEVSXCIgc3BhY2luZz1cIjIwXCIgQW5jaG9yUGFuZS50b3BBbmNob3I9XCIyMFwiIEFuY2hvclBhbmUuYm90dG9tQW5jaG9yPVwiMjBcIiBBbmNob3JQYW5lLmxlZnRBbmNob3I9XCIyMFwiIEFuY2hvclBhbmUucmlnaHRBbmNob3I9XCIyMFwiPlxuICAgIDIwXHQgICAgICAgIDwhLS0gVGl0cmUgLS0+XG4gICAgMjFcdCAgICAgICAgPExhYmVsIHRleHQ9XCJQcm9maWwgVXRpbGlzYXRldXJcIiBzdHlsZT1cIi1meC1mb250LXNpemU6IDI0cHg7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXRleHQtZmlsbDogIzMzMztcIi8+XG4gICAgMjJcdFxuICAgIDIzXHQgICAgICAgIDwhLS0gQ29udGVuZXVyIHBvdXIgcGhvdG8gZXQgaW5mb3JtYXRpb25zIC0tPlxuICAgIDI0XHQgICAgICAgIDxIQm94IHNwYWNpbmc9XCI0MFwiIGFsaWdubWVudD1cIkNFTlRFUl9MRUZUXCI+XG4gICAgMjVcdCAgICAgICAgICAgIDwhLS0gWm9uZSBwaG90byBkZSBwcm9maWwgLS0+XG4gICAgMjZcdCAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9XCIxMFwiIGFsaWdubWVudD1cIkNFTlRFUlwiPlxuICAgIDI3XHQgICAgICAgICAgICAgICAgPCEtLSBDYWRyZSBwb3VyIGwnaW1hZ2UgLS0+XG4gICAgMjhcdCAgICAgICAgICAgICAgICA8U3RhY2tQYW5lPlxuICAgIDI5XHQgICAgICAgICAgICAgICAgICAgIDwhLS0gQ2VyY2xlIHBvdXIgbCdpbWFnZSByb25kZSAtLT5cbiAgICAzMFx0ICAgICAgICAgICAgICAgICAgICA8Q2lyY2xlIHJhZGl1cz1cIjgwXCIgZmlsbD1cIndoaXRlXCIgc3Ryb2tlPVwiI2RkZFwiIHN0cm9rZVdpZHRoPVwiMlwiLz5cbiAgICAzMVx0XG4gICAgMzJcdCAgICAgICAgICAgICAgICAgICAgPCEtLSBJbWFnZSBkZSBwcm9maWwgLS0+XG4gICAgMzNcdCAgICAgICAgICAgICAgICAgICAgPEltYWdlVmlldyBmeDppZD1cInByb2ZpbGVJbWFnZVwiIGZpdEhlaWdodD1cIjE1MFwiIGZpdFdpZHRoPVwiMTUwXCIgcHJlc2VydmVSYXRpbz1cInRydWVcIj5cbiAgICAzNFx0XG4gICAgMzVcdCAgICAgICAgICAgICAgICAgICAgPC9JbWFnZVZpZXc+XG4gICAgMzZcdFxuICAgIDM3XHQgICAgICAgICAgICAgICAgICAgIDwhLS0gQm91dG9uIHBvdXIgY2hhbmdlciBsJ2ltYWdlIC0tPlxuICAgIDM4XHQgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkNoYW5nZXJcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtc2l6ZTogMTJweDtcIlxuICAgIDM5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tQYW5lLmFsaWdubWVudD1cIkJPVFRPTV9SSUdIVFwiPlxuICAgIDQwXHQgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tQYW5lLm1hcmdpbj5cbiAgICA0MVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnNldHMgcmlnaHQ9XCIxMFwiIGJvdHRvbT1cIjEwXCIvPlxuICAgIDQyXHQgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrUGFuZS5tYXJnaW4+XG4gICAgNDNcdCAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgNDRcdCAgICAgICAgICAgICAgICA8L1N0YWNrUGFuZT5cbiAgICA0NVx0XG4gICAgNDZcdCAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIlRhaWxsZSBtYXg6IDJNQlwiIHN0eWxlPVwiLWZ4LWZvbnQtc2l6ZTogMTBweDsgLWZ4LXRleHQtZmlsbDogIzc3NztcIi8+XG4gICAgNDdcdCAgICAgICAgICAgIDwvVkJveD5cbiAgICA0OFx0XG4gICAgNDlcdCAgICAgICAgICAgIDwhLS0gRm9ybXVsYWlyZSBkJ2luZm9ybWF0aW9ucyAtLT5cbiAgICA1MFx0ICAgICAgICAgICAgPEdyaWRQYW5lIGhnYXA9XCIxMFwiIHZnYXA9XCIxNVwiPlxuICAgIDUxXHQgICAgICAgICAgICAgICAgPGNvbHVtbkNvbnN0cmFpbnRzPlxuICAgIDUyXHQgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoYWxpZ25tZW50PVwiUklHSFRcIiBoZ3Jvdz1cIk5FVkVSXCIvPlxuICAgIDUzXHQgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoYWxpZ25tZW50PVwiTEVGVFwiIGhncm93PVwiQUxXQVlTXCIvPlxuICAgIDU0XHQgICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz5cbiAgICA1NVx0XG4gICAgNTZcdCAgICAgICAgICAgICAgICA8IS0tIExpZ25lIDE6IE5vbSAtLT5cbiAgICA1N1x0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiTm9tOlwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMFwiIHN0eWxlPVwiLWZ4LWZvbnQtd2VpZ2h0OiBib2xkO1wiLz5cbiAgICA1OFx0ICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XCJsYXN0TmFtZUZpZWxkXCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIxXCIgcHJlZldpZHRoPVwiMjUwXCIvPlxuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAgICAgICAgIDwhLS0gTGlnbmUgMjogUHLDqW5vbSAtLT5cbiAgICA2MVx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiUHLDqW5vbTpcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjFcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIiBzdHlsZT1cIi1meC1mb250LXdlaWdodDogYm9sZDtcIi8+XG4gICAgNjJcdCAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVwiZmlyc3ROYW1lRmllbGRcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjFcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjFcIi8+XG4gICAgNjNcdFxuICAgIDY0XHQgICAgICAgICAgICAgICAgPCEtLSBMaWduZSAzOiBFbWFpbCAtLT5cbiAgICA2NVx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiRW1haWw6XCIgR3JpZFBhbmUucm93SW5kZXg9XCIyXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIwXCIgc3R5bGU9XCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7XCIvPlxuICAgIDY2XHQgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD1cImVtYWlsRmllbGRcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjJcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjFcIi8+XG4gICAgNjdcdFxuICAgIDY4XHQgICAgICAgICAgICAgICAgPCEtLSBMaWduZSA0OiBUw6lsw6lwaG9uZSAtLT5cbiAgICA2OVx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiVMOpbMOpcGhvbmU6XCIgR3JpZFBhbmUucm93SW5kZXg9XCIzXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIwXCIgc3R5bGU9XCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7XCIvPlxuICAgIDcwXHQgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD1cInBob25lRmllbGRcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjNcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjFcIi8+XG4gICAgNzFcdFxuICAgIDcyXHQgICAgICAgICAgICAgICAgPCEtLSBMaWduZSA1OiBEYXRlIGRlIG5haXNzYW5jZSAtLT5cbiAgICA3M1x0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiRGF0ZSBkZSBuYWlzc2FuY2U6XCIgR3JpZFBhbmUucm93SW5kZXg9XCI0XCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIwXCIgc3R5bGU9XCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7XCIvPlxuICAgIDc0XHQgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgZng6aWQ9XCJiaXJ0aERhdGVQaWNrZXJcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjRcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjFcIi8+XG4gICAgNzVcdCAgICAgICAgICAgIDwvR3JpZFBhbmU+XG4gICAgNzZcdCAgICAgICAgPC9IQm94PlxuICAgIDc3XHRcbiAgICA3OFx0ICAgICAgICA8IS0tIFpvbmUgZCdhZHJlc3NlIC0tPlxuICAgIDc5XHQgICAgICAgIDxWQm94IHNwYWNpbmc9XCIxMFwiIGFsaWdubWVudD1cIlRPUF9MRUZUXCIgc3R5bGU9XCItZngtcGFkZGluZzogMCAwIDAgMTgwO1wiPlxuICAgIDgwXHQgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIkFkcmVzc2U6XCIgc3R5bGU9XCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1mb250LXNpemU6IDE0cHg7XCIvPlxuICAgIDgxXHQgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVwiYWRkcmVzc0ZpZWxkXCIgcHJlZldpZHRoPVwiNDAwXCIgcHJvbXB0VGV4dD1cIkFkcmVzc2UgY29tcGzDqHRlXCIvPlxuICAgIDgyXHQgICAgICAgIDwvVkJveD5cbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgPCEtLSBCb3V0b25zIGQnYWN0aW9uIC0tPlxuICAgIDg1XHQgICAgICAgIDxIQm94IHNwYWNpbmc9XCIyMFwiIGFsaWdubWVudD1cIkNFTlRFUlwiPlxuICAgIDg2XHQgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XCJFbnJlZ2lzdHJlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgODdcdCAgICAgICAgICAgICAgICAgICAvPlxuICAgIDg4XHQgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XCJBbm51bGVyXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA4OVx0ICAgICAgICAgICAgICAgICAgIC8+XG4gICAgOTBcdCAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIk1vZGlmaWVyIG1vdCBkZSBwYXNzZVwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgOTFcdCAgICAgICAgICAgICAgICAgICAvPlxuICAgIDkyXHQgICAgICAgIDwvSEJveD5cbiAgICA5M1x0ICAgIDwvVkJveD5cbiAgICA5NFx0PC9BbmNob3JQYW5lPlxuVG90YWwgbGluZXMgaW4gZmlsZTogOTRcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFDM3RDZHNIRTl3SEJWbktaSDF3QTJ4In19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIGplIHZhaXMgY3LDqWVyIHVuIGNvbnRyw7RsZXVyIHBvdXIgbGEgcGFnZSBkZSBwcm9maWwgdXRpbGlzYXRldXIgcXVpIHLDqWN1cMOpcmVyYSBsZXMgaW5mb3JtYXRpb25zIGRlIGwndXRpbGlzYXRldXIgY29ubmVjdMOpIHZpYSBVc2VyU2Vzc2lvbiA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzc2Zjc3ZTgtNjRlOC00NWU2LTk1M2ItMmFhZDE3NzU4NGNjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVI5V0tlcVhud2p3cGt5NlgxVnJaRHYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWxcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgICAgICAgICAgZng6Y29udHJvbGxlcj1cXFwiY29udHJvbGxlcnMucHJvZmlsZXVzZXJcXFwiXCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgICAgIGZ4OmNvbnRyb2xsZXI9XFxcImNvbnRyb2xsZXJzLlByb2ZpbGVVc2VyQ29udHJvbGxlclxcXCJcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDE0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE0fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBqZSB2YWlzIG1ldHRyZSDDoCBqb3VyIGxlIGZpY2hpZXIgcHJvZmlsZXVzZXIuZnhtbCBwb3VyIGNvcnJpZ2VyIGxlIG5vbSBkdSBjb250csO0bGV1ciBldCBham91dGVyIGxlcyBhY3Rpb25zIG1hbnF1YW50ZXMgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMThpNVJEMTNHMmdxVVhveG9lUVVBaFoifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgamUgdmFpcyBtZXR0cmUgw6Agam91ciBsZSBmaWNoaWVyIHByb2ZpbGV1c2VyLmZ4bWwgcG91ciBjb3JyaWdlciBsZSBub20gZHUgY29udHLDtGxldXIgZXQgYWpvdXRlciBsZXMgYWN0aW9ucyBtYW5xdWFudGVzIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6ImUyNmQ3MDM5LTQxYjQtNDczYi1hN2IyLWQzMmI3MzliYTZlYiIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMGZhZTRkZWEtMDQ1ZC00MmE2LWE2YjEtODcwMDVjMzU0Njc4IiwicmVxdWVzdF9tZXNzYWdlIjoiY29tcGx0ZXIgdHJhdmFpbGxlIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImNvbXBsdGVyIHRyYXZhaWxsZSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVZBUUFxNVA5RU1QYWJuaDNCNDhtekYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWxcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiZng6Y29udHJvbGxlcj1cXFwiY29udHJvbGxlcnMucHJvZmlsZXVzZXJcXFwiXCIsIFwibmV3X3N0clwiOiBcImZ4OmNvbnRyb2xsZXI9XFxcImNvbnRyb2xsZXJzLlByb2ZpbGVVc2VyQ29udHJvbGxlclxcXCJcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDE0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE0fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2YWlzIGNvbXBsw6l0ZXIgbGUgdHJhdmFpbCBwb3VyIHLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpIHZpYSBVc2VyU2Vzc2lvbiBldCBhZmZpY2hlciBzZXMgaW5mb3JtYXRpb25zIGRhbnMgbGEgcGFnZSBwcm9maWxldXNlci5meG1sLlxuXG5Db21tZW7Dp29ucyBwYXIgbWV0dHJlIMOgIGpvdXIgbGUgZmljaGllciBwcm9maWxldXNlci5meG1sIHBvdXIgY29ycmlnZXIgbGUgbm9tIGR1IGNvbnRyw7RsZXVyIGV0IGFqb3V0ZXIgbGVzIGFjdGlvbnMgbWFucXVhbnRlcyA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJyZXNwb25zZV90ZXh0IjoiSmUgdmFpcyBjb21wbMOpdGVyIGxlIHRyYXZhaWwgcG91ciByw6ljdXDDqXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqSB2aWEgVXNlclNlc3Npb24gZXQgYWZmaWNoZXIgc2VzIGluZm9ybWF0aW9ucyBkYW5zIGxhIHBhZ2UgcHJvZmlsZXVzZXIuZnhtbC5cblxuQ29tbWVuw6dvbnMgcGFyIG1ldHRyZSDDoCBqb3VyIGxlIGZpY2hpZXIgcHJvZmlsZXVzZXIuZnhtbCBwb3VyIGNvcnJpZ2VyIGxlIG5vbSBkdSBjb250csO0bGV1ciBldCBham91dGVyIGxlcyBhY3Rpb25zIG1hbnF1YW50ZXMgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImYzYWVkMDVhLTEyODktNGIxNy04MTllLTIzNjI0NTIzYmVhYyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE5YWhGVFdZR2syQm9rQldGUTh2cFFNIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgICAgICAgICAgICAgPCEtLSBCb3V0b24gcG91ciBjaGFuZ2VyIGwnaW1hZ2UgLS0+XFxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XFxcIkNoYW5nZXJcXFwiIHN0eWxlPVxcXCItZngtYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXNpemU6IDEycHg7XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja1BhbmUuYWxpZ25tZW50PVxcXCJCT1RUT01fUklHSFRcXFwiPlwiLCBcIm5ld19zdHJcIjogXCIgICAgICAgICAgICAgICAgICAgIDwhLS0gQm91dG9uIHBvdXIgY2hhbmdlciBsJ2ltYWdlIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVxcXCJDaGFuZ2VyXFxcIiBzdHlsZT1cXFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC1zaXplOiAxMnB4O1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tQYW5lLmFsaWdubWVudD1cXFwiQk9UVE9NX1JJR0hUXFxcIiBvbkFjdGlvbj1cXFwiI2hhbmRsZUNoYW5nZVByb2ZpbGVJbWFnZVxcXCI+XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAzNywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAzOX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSWwgc2VtYmxlIHF1ZSBsZSBjb250csO0bGV1ciBhIGTDqWrDoCDDqXTDqSBtaXMgw6Agam91ci4gTWFpbnRlbmFudCwgYWpvdXRvbnMgbGVzIGFjdGlvbnMgYXV4IGJvdXRvbnMgZGFucyBsZSBmaWNoaWVyIHByb2ZpbGV1c2VyLmZ4bWwgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmFpbGVkIHRvIGVkaXQgdGhlIGZpbGUgc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvcHJvZmlsZXVzZXIuZnhtbC4gU2VlIGJlbG93IGZvciBkZXRhaWxzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuTm8gcmVwbGFjZW1lbnQgd2FzIHBlcmZvcm1lZCwgb2xkU3RyIGRpZCBub3QgYXBwZWFyIHZlcmJhdGltIGluIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5UaGUgY29udGVudCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbiAgICAxMFx0PD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lio/PlxuICAgIDExXHRcbiAgICAxMlx0PEFuY2hvclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcIlxuICAgIDEzXHQgICAgICAgICAgICB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcIlxuICAgIDE0XHQgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuUHJvZmlsZVVzZXJDb250cm9sbGVyXCJcbiAgICAxNVx0ICAgICAgICAgICAgcHJlZkhlaWdodD1cIjYwMC4wXCIgcHJlZldpZHRoPVwiODAwLjBcIlxuICAgIDE2XHQgICAgICAgICAgICBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1wiPlxuICAgIDE3XHRcbiAgICAxOFx0ICAgIDwhLS0gQ29udGVuZXVyIHByaW5jaXBhbCAtLT5cblxuRGlmZiBiZXR3ZWVuIG9sZFN0ciBhbmQgdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4tLS0gb2xkU3RyXG4rKysgcmVnaW9uQ29udGVudFxuQEAgLTEsMSArMSwxIEBAXG4tZng6Y29udHJvbGxlcj1cImNvbnRyb2xsZXJzLnByb2ZpbGV1c2VyXCJcbisgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuUHJvZmlsZVVzZXJDb250cm9sbGVyXCJcblxuXG5GaXggZmFpbGVkIHN0cl9yZXBsYWNlX2VudHJpZXMgYWNjb3JkaW5nbHkgYW5kIHRyeSBhZ2Fpbi5cbiIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVZBUUFxNVA5RU1QYWJuaDNCNDhtekYifX1dLCJyZXNwb25zZV90ZXh0IjoiSWwgc2VtYmxlIHF1ZSBsZSBjb250csO0bGV1ciBhIGTDqWrDoCDDqXTDqSBtaXMgw6Agam91ci4gTWFpbnRlbmFudCwgYWpvdXRvbnMgbGVzIGFjdGlvbnMgYXV4IGJvdXRvbnMgZGFucyBsZSBmaWNoaWVyIHByb2ZpbGV1c2VyLmZ4bWwgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijk0MzE1YjczLTFiYWYtNDk1OS1hZmU2LTc0OTgxOTljMTAzMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFIZnVRdTFqRlhBa000eWpFZEdvMU1VIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cXFwiRW5yZWdpc3RyZXJcXFwiIHN0eWxlPVxcXCItZngtYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XFxcIlxcbiAgICAgICAgICAgICAgICAgICAvPlwiLCBcIm5ld19zdHJcIjogXCIgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVxcXCJzYXZlQnV0dG9uXFxcIiB0ZXh0PVxcXCJFbnJlZ2lzdHJlclxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcXFwiXFxuICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cXFwiI2hhbmRsZVNhdmVcXFwiLz5cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDg2LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDg3fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAzM1x0ICAgICAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZ4OmlkPVwicHJvZmlsZUltYWdlXCIgZml0SGVpZ2h0PVwiMTUwXCIgZml0V2lkdGg9XCIxNTBcIiBwcmVzZXJ2ZVJhdGlvPVwidHJ1ZVwiPlxuICAgIDM0XHRcbiAgICAzNVx0ICAgICAgICAgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgPCEtLSBCb3V0b24gcG91ciBjaGFuZ2VyIGwnaW1hZ2UgLS0+XG4gICAgMzhcdCAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiQ2hhbmdlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC1zaXplOiAxMnB4O1wiXG4gICAgMzlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja1BhbmUuYWxpZ25tZW50PVwiQk9UVE9NX1JJR0hUXCIgb25BY3Rpb249XCIjaGFuZGxlQ2hhbmdlUHJvZmlsZUltYWdlXCI+XG4gICAgNDBcdCAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja1BhbmUubWFyZ2luPlxuICAgIDQxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyByaWdodD1cIjEwXCIgYm90dG9tPVwiMTBcIi8+XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tQYW5lLm1hcmdpbj5cbiAgICA0M1x0ICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMTlhaEZUV1lHazJCb2tCV0ZROHZwUU0ifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjFmZmM2ODQyLWQzY2MtNDFhZS05NGJlLWY1N2E0YTk5M2RmOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFUQmJGQTd5dlBUWnp6RkRBQmVoRDdpIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cXFwiQW5udWxlclxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjQ0MzM2OyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcXFwiXFxuICAgICAgICAgICAgICAgICAgIC8+XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9XFxcImNhbmNlbEJ1dHRvblxcXCIgdGV4dD1cXFwiQW5udWxlclxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjQ0MzM2OyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcXFwiXFxuICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cXFwiI2hhbmRsZUNhbmNlbFxcXCIvPlwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogODgsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogODl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvcHJvZmlsZXVzZXIuZnhtbC5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDgyXHQgICAgICAgIDwvVkJveD5cbiAgICA4M1x0XG4gICAgODRcdCAgICAgICAgPCEtLSBCb3V0b25zIGQnYWN0aW9uIC0tPlxuICAgIDg1XHQgICAgICAgIDxIQm94IHNwYWNpbmc9XCIyMFwiIGFsaWdubWVudD1cIkNFTlRFUlwiPlxuICAgIDg2XHQgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVwic2F2ZUJ1dHRvblwiIHRleHQ9XCJFbnJlZ2lzdHJlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgODdcdCAgICAgICAgICAgICAgICAgICAgb25BY3Rpb249XCIjaGFuZGxlU2F2ZVwiLz5cbiAgICA4OFx0ICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiQW5udWxlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICNmNDQzMzY7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgODlcdCAgICAgICAgICAgICAgICAgICAvPlxuICAgIDkwXHQgICAgICAgICAgICA8QnV0dG9uIHRleHQ9XCJNb2RpZmllciBtb3QgZGUgcGFzc2VcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjMjE5NkYzOyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcIlxuICAgIDkxXHQgICAgICAgICAgICAgICAgICAgLz5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUhmdVF1MWpGWEFrTTR5akVkR28xTVUifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImY5YzAzNDI3LTA3YTYtNDFhNy04MGYyLTU3NGY4N2FhZDE3OSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFZYmprQXlic3FYOFlVYVFhaFJCVVpTIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cXFwiTW9kaWZpZXIgbW90IGRlIHBhc3NlXFxcIiBzdHlsZT1cXFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1xcXCJcXG4gICAgICAgICAgICAgICAgICAgLz5cIiwgXCJuZXdfc3RyXCI6IFwiICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD1cXFwiY2hhbmdlUGFzc3dvcmRCdXR0b25cXFwiIHRleHQ9XFxcIk1vZGlmaWVyIG1vdCBkZSBwYXNzZVxcXCIgc3R5bGU9XFxcIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjMjE5NkYzOyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcXFwiXFxuICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cXFwiI2hhbmRsZUNoYW5nZVBhc3N3b3JkXFxcIi8+XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5MCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA5MX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgODRcdCAgICAgICAgPCEtLSBCb3V0b25zIGQnYWN0aW9uIC0tPlxuICAgIDg1XHQgICAgICAgIDxIQm94IHNwYWNpbmc9XCIyMFwiIGFsaWdubWVudD1cIkNFTlRFUlwiPlxuICAgIDg2XHQgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVwic2F2ZUJ1dHRvblwiIHRleHQ9XCJFbnJlZ2lzdHJlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgODdcdCAgICAgICAgICAgICAgICAgICAgb25BY3Rpb249XCIjaGFuZGxlU2F2ZVwiLz5cbiAgICA4OFx0ICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD1cImNhbmNlbEJ1dHRvblwiIHRleHQ9XCJBbm51bGVyXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA4OVx0ICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cIiNoYW5kbGVDYW5jZWxcIi8+XG4gICAgOTBcdCAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIk1vZGlmaWVyIG1vdCBkZSBwYXNzZVwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgOTFcdCAgICAgICAgICAgICAgICAgICAvPlxuICAgIDkyXHQgICAgICAgIDwvSEJveD5cbiAgICA5M1x0ICAgIDwvVkJveD5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVRCYkZBN3l2UFRaenpGREFCZWhEN2kifX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImExOGNhYzhiLWFjYmYtNDVmNC04NmIyLTA4MmQxZTdlMjA2NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDFUYk1aWTRINlZVRGs0NlBFREFkSnMyIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInNyYy9tYWluL2phdmEvc2VydmljZXMvVXNlclNlcnZpY2UuamF2YVwiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2Ugc2VydmljZXM7XFxuXFxuaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XFxuXFxuaW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XFxuaW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XFxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcXG5pbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDtcXG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XFxuXFxuLyoqXFxuICogU2VydmljZSBwb3VyIGdcXHUwMGU5cmVyIGxlcyBvcFxcdTAwZTlyYXRpb25zIGxpXFx1MDBlOWVzIGF1eCB1dGlsaXNhdGV1cnNcXG4gKi9cXG5wdWJsaWMgY2xhc3MgVXNlclNlcnZpY2Uge1xcbiAgICBwcml2YXRlIHN0YXRpYyBVc2VyU2VydmljZSBpbnN0YW5jZTtcXG4gICAgcHJpdmF0ZSBmaW5hbCBDb25uZWN0aW9uIGNvbm5lY3Rpb247XFxuXFxuICAgIC8qKlxcbiAgICAgKiBDb25zdHJ1Y3RldXIgcHJpdlxcdTAwZTkgcG91ciBsZSBwYXR0ZXJuIFNpbmdsZXRvblxcbiAgICAgKi9cXG4gICAgcHJpdmF0ZSBVc2VyU2VydmljZSgpIHtcXG4gICAgICAgIGNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBPYnRlbmlyIGwnaW5zdGFuY2UgdW5pcXVlIGR1IHNlcnZpY2VcXG4gICAgICogQHJldHVybiBMJ2luc3RhbmNlIGR1IHNlcnZpY2VcXG4gICAgICovXFxuICAgIHB1YmxpYyBzdGF0aWMgVXNlclNlcnZpY2UgZ2V0SW5zdGFuY2UoKSB7XFxuICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkge1xcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IFVzZXJTZXJ2aWNlKCk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFJcXHUwMGU5Y3VwXFx1MDBlOXJlciB1biB1dGlsaXNhdGV1ciBwYXIgc29uIElEXFxuICAgICAqIEBwYXJhbSB1c2VySWQgTCdJRCBkZSBsJ3V0aWxpc2F0ZXVyXFxuICAgICAqIEByZXR1cm4gTCd1dGlsaXNhdGV1ciBvdSBudWxsIHMnaWwgbidleGlzdGUgcGFzXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBVc2VyIGdldFVzZXJCeUlkKGludCB1c2VySWQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlNFTEVDVCAqIEZST00gdXNlciBXSEVSRSBpZCA9ID9cXFwiO1xcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgxLCB1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJlc3VsdFNldCA9IHN0YXRlbWVudC5leGVjdXRlUXVlcnkoKSkge1xcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0U2V0Lm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVVzZXJGcm9tUmVzdWx0U2V0KHJlc3VsdFNldCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiBudWxsO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgdW4gdXRpbGlzYXRldXIgcGFyIHNvbiBlbWFpbFxcbiAgICAgKiBAcGFyYW0gZW1haWwgTCdlbWFpbCBkZSBsJ3V0aWxpc2F0ZXVyXFxuICAgICAqIEByZXR1cm4gTCd1dGlsaXNhdGV1ciBvdSBudWxsIHMnaWwgbidleGlzdGUgcGFzXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBVc2VyIGdldFVzZXJCeUVtYWlsKFN0cmluZyBlbWFpbCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gP1xcXCI7XFxuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB0cnkgKFJlc3VsdFNldCByZXN1bHRTZXQgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KCkpIHtcXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFNldC5uZXh0KCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVVc2VyRnJvbVJlc3VsdFNldChyZXN1bHRTZXQpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogTWV0dHJlIFxcdTAwZTAgam91ciBsZXMgaW5mb3JtYXRpb25zIGQndW4gdXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHVzZXIgTCd1dGlsaXNhdGV1ciBcXHUwMGUwIG1ldHRyZSBcXHUwMGUwIGpvdXJcXG4gICAgICogQHRocm93cyBTUUxFeGNlcHRpb24gRW4gY2FzIGQnZXJyZXVyIFNRTFxcbiAgICAgKi9cXG4gICAgcHVibGljIHZvaWQgdXBkYXRlVXNlcihVc2VyIHVzZXIpIHRocm93cyBTUUxFeGNlcHRpb24ge1xcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXFxcIlVQREFURSB1c2VyIFNFVCBub20gPSA/LCBwcmVub20gPSA/LCBlbWFpbCA9ID8sIGFkcmVzc2UgPSA/LCB0ZWxlcGhvbmUgPSA/LCBpbWFnZVVybCA9ID8gV0hFUkUgaWQgPSA/XFxcIjtcXG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KSkge1xcbiAgICAgICAgICAgIHN0YXRlbWVudC5zZXRTdHJpbmcoMSwgdXNlci5nZXROb20oKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygyLCB1c2VyLmdldFByZW5vbSgpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDMsIHVzZXIuZ2V0RW1haWwoKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZyg0LCB1c2VyLmdldEFkcmVzc2UoKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZyg1LCB1c2VyLmdldFRlbGVwaG9uZSgpKTtcXG4gICAgICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDYsIHVzZXIuZ2V0SW1hZ2VVcmwoKSk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCg3LCB1c2VyLmdldElkKCkpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIE1ldHRyZSBcXHUwMGUwIGpvdXIgbGUgbW90IGRlIHBhc3NlIGQndW4gdXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIHVzZXJJZCBMJ0lEIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICogQHBhcmFtIG5ld1Bhc3N3b3JkIExlIG5vdXZlYXUgbW90IGRlIHBhc3NlXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyB2b2lkIHVwZGF0ZVBhc3N3b3JkKGludCB1c2VySWQsIFN0cmluZyBuZXdQYXNzd29yZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiVVBEQVRFIHVzZXIgU0VUIHBhc3N3b3JkID0gPyBXSEVSRSBpZCA9ID9cXFwiO1xcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygxLCBuZXdQYXNzd29yZCk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgyLCB1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFZcXHUwMGU5cmlmaWVyIHNpIHVuIGVtYWlsIGV4aXN0ZSBkXFx1MDBlOWpcXHUwMGUwIChwb3VyIHVuIGF1dHJlIHV0aWxpc2F0ZXVyKVxcbiAgICAgKiBAcGFyYW0gZW1haWwgTCdlbWFpbCBcXHUwMGUwIHZcXHUwMGU5cmlmaWVyXFxuICAgICAqIEBwYXJhbSB1c2VySWQgTCdJRCBkZSBsJ3V0aWxpc2F0ZXVyIGFjdHVlbCAocG91ciBleGNsdXJlIGRlIGxhIHZcXHUwMGU5cmlmaWNhdGlvbilcXG4gICAgICogQHJldHVybiB0cnVlIHNpIGwnZW1haWwgZXhpc3RlIHBvdXIgdW4gYXV0cmUgdXRpbGlzYXRldXIsIGZhbHNlIHNpbm9uXFxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcXG4gICAgICovXFxuICAgIHB1YmxpYyBib29sZWFuIGVtYWlsRXhpc3RzRm9yT3RoZXJVc2VyKFN0cmluZyBlbWFpbCwgaW50IHVzZXJJZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcXFwiU0VMRUNUIENPVU5UKCopIEZST00gdXNlciBXSEVSRSBlbWFpbCA9ID8gQU5EIGlkICE9ID9cXFwiO1xcbiAgICAgICAgdHJ5IChQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldFN0cmluZygxLCBlbWFpbCk7XFxuICAgICAgICAgICAgc3RhdGVtZW50LnNldEludCgyLCB1c2VySWQpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHRyeSAoUmVzdWx0U2V0IHJlc3VsdFNldCA9IHN0YXRlbWVudC5leGVjdXRlUXVlcnkoKSkge1xcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0U2V0Lm5leHQoKSkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFNldC5nZXRJbnQoMSkgPiAwO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENyXFx1MDBlOWVyIHVuIG9iamV0IFVzZXIgXFx1MDBlMCBwYXJ0aXIgZCd1biBSZXN1bHRTZXRcXG4gICAgICogQHBhcmFtIHJlc3VsdFNldCBMZSBSZXN1bHRTZXQgY29udGVuYW50IGxlcyBkb25uXFx1MDBlOWVzIGRlIGwndXRpbGlzYXRldXJcXG4gICAgICogQHJldHVybiBMJ29iamV0IFVzZXIgY3JcXHUwMGU5XFx1MDBlOVxcbiAgICAgKiBAdGhyb3dzIFNRTEV4Y2VwdGlvbiBFbiBjYXMgZCdlcnJldXIgU1FMXFxuICAgICAqL1xcbiAgICBwcml2YXRlIFVzZXIgY3JlYXRlVXNlckZyb21SZXN1bHRTZXQoUmVzdWx0U2V0IHJlc3VsdFNldCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XFxuICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xcbiAgICAgICAgdXNlci5zZXRJZChyZXN1bHRTZXQuZ2V0SW50KFxcXCJpZFxcXCIpKTtcXG4gICAgICAgIHVzZXIuc2V0Tm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcIm5vbVxcXCIpKTtcXG4gICAgICAgIHVzZXIuc2V0UHJlbm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInByZW5vbVxcXCIpKTtcXG4gICAgICAgIHVzZXIuc2V0RW1haWwocmVzdWx0U2V0LmdldFN0cmluZyhcXFwiZW1haWxcXFwiKSk7XFxuICAgICAgICB1c2VyLnNldEFkcmVzc2UocmVzdWx0U2V0LmdldFN0cmluZyhcXFwiYWRyZXNzZVxcXCIpKTtcXG4gICAgICAgIHVzZXIuc2V0VGVsZXBob25lKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInRlbGVwaG9uZVxcXCIpKTtcXG4gICAgICAgIHVzZXIuc2V0VmVyaWZpZWQocmVzdWx0U2V0LmdldEJvb2xlYW4oXFxcImlzX3ZlcmlmaWVkXFxcIikpO1xcbiAgICAgICAgdXNlci5zZXRDcmVhdGVkX2F0KHJlc3VsdFNldC5nZXRUaW1lc3RhbXAoXFxcImNyZWF0ZWRfYXRcXFwiKSk7XFxuICAgICAgICB1c2VyLnNldFBhc3N3b3JkKHJlc3VsdFNldC5nZXRTdHJpbmcoXFxcInBhc3N3b3JkXFxcIikpO1xcbiAgICAgICAgdXNlci5zZXRJbWFnZVVybChyZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJpbWFnZVVybFxcXCIpKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gUlxcdTAwZTljdXBcXHUwMGU5cmVyIGxlcyByXFx1MDBmNGxlc1xcbiAgICAgICAgU3RyaW5nIHJvbGVTdHJpbmcgPSByZXN1bHRTZXQuZ2V0U3RyaW5nKFxcXCJyb2xlXFxcIik7XFxuICAgICAgICBpZiAocm9sZVN0cmluZyAhPSBudWxsICYmICFyb2xlU3RyaW5nLmlzRW1wdHkoKSkge1xcbiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiByb2xlcyA9IG5ldyBBcnJheUxpc3Q8PigpO1xcbiAgICAgICAgICAgIGZvciAoU3RyaW5nIHJvbGUgOiByb2xlU3RyaW5nLnNwbGl0KFxcXCIsXFxcIikpIHtcXG4gICAgICAgICAgICAgICAgcm9sZXMuYWRkKHJvbGUudHJpbSgpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgdXNlci5zZXRSb2xlKHJvbGVzKTtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgcmV0dXJuIHVzZXI7XFxuICAgIH1cXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBjcsOpb25zIHVuIHNlcnZpY2UgdXRpbGlzYXRldXIgcG91ciBnw6lyZXIgbGVzIG9ww6lyYXRpb25zIGRlIG1pc2Ugw6Agam91ciBkdSBwcm9maWwgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgODZcdCAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9XCJzYXZlQnV0dG9uXCIgdGV4dD1cIkVucmVnaXN0cmVyXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA4N1x0ICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cIiNoYW5kbGVTYXZlXCIvPlxuICAgIDg4XHQgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVwiY2FuY2VsQnV0dG9uXCIgdGV4dD1cIkFubnVsZXJcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjQ0MzM2OyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcIlxuICAgIDg5XHQgICAgICAgICAgICAgICAgICAgIG9uQWN0aW9uPVwiI2hhbmRsZUNhbmNlbFwiLz5cbiAgICA5MFx0ICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD1cImNoYW5nZVBhc3N3b3JkQnV0dG9uXCIgdGV4dD1cIk1vZGlmaWVyIG1vdCBkZSBwYXNzZVwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgOTFcdCAgICAgICAgICAgICAgICAgICAgb25BY3Rpb249XCIjaGFuZGxlQ2hhbmdlUGFzc3dvcmRcIi8+XG4gICAgOTJcdCAgICAgICAgPC9IQm94PlxuICAgIDkzXHQgICAgPC9WQm94PlxuICAgIDk0XHQ8L0FuY2hvclBhbmU+XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFZYmprQXlic3FYOFlVYVFhaFJCVVpTIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIGNyw6lvbnMgdW4gc2VydmljZSB1dGlsaXNhdGV1ciBwb3VyIGfDqXJlciBsZXMgb3DDqXJhdGlvbnMgZGUgbWlzZSDDoCBqb3VyIGR1IHByb2ZpbCA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMDEzMGYxYzYtNWVjOS00MzVkLThlZDYtZjUyNTIyZmJiNTVmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVhOd2thbll6SGpRelI0eVZDZk42SDgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IGVudGl0aWVzLlVzZXI7XFxuaW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1wiLCBcIm5ld19zdHJcIjogXCJpbXBvcnQgZW50aXRpZXMuVXNlcjtcXG5pbXBvcnQgZW50aXRpZXMuVXNlclNlc3Npb247XFxuaW1wb3J0IHNlcnZpY2VzLlVzZXJTZXJ2aWNlO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBtZXR0b25zIMOgIGpvdXIgbGUgY29udHLDtGxldXIgUHJvZmlsZVVzZXJDb250cm9sbGVyIHBvdXIgdXRpbGlzZXIgbGUgc2VydmljZSBVc2VyU2VydmljZSA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxVGJNWlk0SDZWVURrNDZQRURBZEpzMiJ9fV0sInJlc3BvbnNlX3RleHQiOiJNYWludGVuYW50LCBtZXR0b25zIMOgIGpvdXIgbGUgY29udHLDtGxldXIgUHJvZmlsZVVzZXJDb250cm9sbGVyIHBvdXIgdXRpbGlzZXIgbGUgc2VydmljZSBVc2VyU2VydmljZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOWNmYzA0YmYtYWRkMi00NzY4LWE2NjMtZGUyZGQ1MjQxNzI2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMURVd1daYVpOd2pUZk1Ia0c4NURRTUQiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgVXNlciBjdXJyZW50VXNlcjtcIiwgXCJuZXdfc3RyXCI6IFwiICAgIHByaXZhdGUgVXNlciBjdXJyZW50VXNlcjtcXG4gICAgcHJpdmF0ZSBVc2VyU2VydmljZSB1c2VyU2VydmljZTtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDQzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDQzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSBjb250cm9sbGVycztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgZW50aXRpZXMuVXNlclNlc3Npb247XG4gICAgIDVcdGltcG9ydCBzZXJ2aWNlcy5Vc2VyU2VydmljZTtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG4gICAgIDdcdGltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG4gICAgIDlcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b247XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFYTndrYW5ZekhqUXpSNHlWQ2ZONkg4In19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjMTI2MjgxNS02MjI1LTQyZDYtOWU0OC1jNGJmYWQzZDEyYTciLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxOTROSDlFYm5nTmFLVzNqa0hzWVJDTCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgQE92ZXJyaWRlXFxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcXG4gICAgICAgIC8vIFJcXHUwMGU5Y3VwXFx1MDBlOXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3RcXHUwMGU5IGRlcHVpcyBVc2VyU2Vzc2lvblxcbiAgICAgICAgY3VycmVudFVzZXIgPSBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmdldEN1cnJlbnRVc2VyKCk7XCIsIFwibmV3X3N0clwiOiBcIiAgICBAT3ZlcnJpZGVcXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xcbiAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSB1dGlsaXNhdGV1clxcbiAgICAgICAgdXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5nZXRJbnN0YW5jZSgpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBSXFx1MDBlOWN1cFxcdTAwZTlyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0XFx1MDBlOSBkZXB1aXMgVXNlclNlc3Npb25cXG4gICAgICAgIGN1cnJlbnRVc2VyID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50VXNlcigpO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNDUsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDh9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDUwXHRcbiAgICA1MVx0ICAgIEBGWE1MXG4gICAgNTJcdCAgICBwcml2YXRlIEJ1dHRvbiBjaGFuZ2VQYXNzd29yZEJ1dHRvbjtcbiAgICA1M1x0XG4gICAgNTRcdCAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XG4gICAgNTVcdCAgICBwcml2YXRlIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlO1xuICAgIDU2XHRcbiAgICA1N1x0ICAgIEBPdmVycmlkZVxuICAgIDU4XHQgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgIDU5XHQgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpIGRlcHVpcyBVc2VyU2Vzc2lvblxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxRFV3V1phWk53alRmTUhrRzg1RFFNRCJ9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiN2NjYzU4MTAtYTVlNS00NTk3LWIzOTItYTJhZTFkNjJhMDQzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVBEWTQzZzFVZ3AxcXZVc3Z4UFg1V2YiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbGVzIG1vZGlmaWNhdGlvbnMgZGFucyBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgICAgICAvLyBWb3VzIGRldnJleiBpbXBsXFx1MDBlOW1lbnRlciBjZXR0ZSBwYXJ0aWUgYXZlYyB2b3RyZSBzZXJ2aWNlIHV0aWxpc2F0ZXVyXFxuICAgICAgICAgICAgLy8gdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgICAgIC8vIFZcXHUwMGU5cmlmaWVyIHNpIGwnZW1haWwgZXhpc3RlIGRcXHUwMGU5alxcdTAwZTAgcG91ciB1biBhdXRyZSB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgIGlmICh1c2VyU2VydmljZS5lbWFpbEV4aXN0c0Zvck90aGVyVXNlcihlbWFpbEZpZWxkLmdldFRleHQoKSwgY3VycmVudFVzZXIuZ2V0SWQoKSkpIHtcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1clxcXCIsIFxcXCJDZXQgZW1haWwgZXN0IGRcXHUwMGU5alxcdTAwZTAgdXRpbGlzXFx1MDBlOSBwYXIgdW4gYXV0cmUgdXRpbGlzYXRldXJcXFwiKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBFbnJlZ2lzdHJlciBsZXMgbW9kaWZpY2F0aW9ucyBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoY3VycmVudFVzZXIpO1wiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTc3LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE3OX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgNTNcdFxuICAgIDU0XHQgICAgcHJpdmF0ZSBVc2VyIGN1cnJlbnRVc2VyO1xuICAgIDU1XHQgICAgcHJpdmF0ZSBVc2VyU2VydmljZSB1c2VyU2VydmljZTtcbiAgICA1Nlx0XG4gICAgNTdcdCAgICBAT3ZlcnJpZGVcbiAgICA1OFx0ICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICA1OVx0ICAgICAgICAvLyBJbml0aWFsaXNlciBsZSBzZXJ2aWNlIHV0aWxpc2F0ZXVyXG4gICAgNjBcdCAgICAgICAgdXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgIDYxXHRcbiAgICA2Mlx0ICAgICAgICAvLyBSw6ljdXDDqXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqSBkZXB1aXMgVXNlclNlc3Npb25cbiAgICA2M1x0ICAgICAgICBjdXJyZW50VXNlciA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICA2NFx0XG4gICAgNjVcdCAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcbiAgICA2Nlx0ICAgICAgICAgICAgLy8gUmVtcGxpciBsZXMgY2hhbXBzIGF2ZWMgbGVzIGluZm9ybWF0aW9ucyBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgNjdcdCAgICAgICAgICAgIGxvYWRVc2VyRGF0YSgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxOTROSDlFYm5nTmFLVzNqa0hzWVJDTCJ9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJkZGFlMzNhYi1jZTE4LTRhZGMtODBmNC00Yzg4ZjYxOWM4NDQiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjBlMjcxMzhkLWQ5ZmItNDRmOS1iYzBkLTkxZTM5MDg5MWU0YiIsInJlcXVlc3RfbWVzc2FnZSI6ImNvbXBsdGVyIHRyYXZhaWxsZSAiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiY29tcGx0ZXIgdHJhdmFpbGxlICJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMVAyeVhKWTYyQUhjVXhkNFRrYzNBNmgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbGVzIG1vZGlmaWNhdGlvbnMgZGFucyBsYSBiYXNlIGRlIGRvbm5cXHUwMGU5ZXNcXG4gICAgICAgICAgICAvLyBWb3VzIGRldnJleiBpbXBsXFx1MDBlOW1lbnRlciBjZXR0ZSBwYXJ0aWUgYXZlYyB2b3RyZSBzZXJ2aWNlIHV0aWxpc2F0ZXVyXFxuICAgICAgICAgICAgLy8gdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XCIsIFwibmV3X3N0clwiOiBcIiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIC8vIFZcXHUwMGU5cmlmaWVyIHNpIGwnZW1haWwgZXhpc3RlIGRcXHUwMGU5alxcdTAwZTAgcG91ciB1biBhdXRyZSB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgICAgICBpZiAodXNlclNlcnZpY2UuZW1haWxFeGlzdHNGb3JPdGhlclVzZXIoZW1haWxGaWVsZC5nZXRUZXh0KCksIGN1cnJlbnRVc2VyLmdldElkKCkpKSB7XFxuICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyXFxcIiwgXFxcIkNldCBlbWFpbCBlc3QgZFxcdTAwZTlqXFx1MDBlMCB1dGlsaXNcXHUwMGU5IHBhciB1biBhdXRyZSB1dGlsaXNhdGV1clxcXCIpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBFbnJlZ2lzdHJlciBsZXMgbW9kaWZpY2F0aW9ucyBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgICAgICB1c2VyU2VydmljZS51cGRhdGVVc2VyKGN1cnJlbnRVc2VyKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIC8vIE1ldHRyZSBcXHUwMGUwIGpvdXIgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIHNlc3Npb25cXG4gICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcihjdXJyZW50VXNlcik7XFxuICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1clxcXCIsIFxcXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFxcdTAwZTAgam91ciBkdSBwcm9maWw6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxNzcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTc5fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2YWlzIGNvbXBsw6l0ZXIgbGUgdHJhdmFpbCBlbiBtZXR0YW50IMOgIGpvdXIgbGUgY29udHLDtGxldXIgUHJvZmlsZVVzZXJDb250cm9sbGVyIHBvdXIgdXRpbGlzZXIgbGUgc2VydmljZSBVc2VyU2VydmljZSBldCBnw6lyZXIgY29ycmVjdGVtZW50IGxhIG1pc2Ugw6Agam91ciBkdSBwcm9maWwgdXRpbGlzYXRldXIuXG5cblZvaWNpIGxlcyBtb2RpZmljYXRpb25zIMOgIGFwcG9ydGVyIGF1IGNvbnRyw7RsZXVyIFByb2ZpbGVVc2VyQ29udHJvbGxlciA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJyZXNwb25zZV90ZXh0IjoiSmUgdmFpcyBjb21wbMOpdGVyIGxlIHRyYXZhaWwgZW4gbWV0dGFudCDDoCBqb3VyIGxlIGNvbnRyw7RsZXVyIFByb2ZpbGVVc2VyQ29udHJvbGxlciBwb3VyIHV0aWxpc2VyIGxlIHNlcnZpY2UgVXNlclNlcnZpY2UgZXQgZ8OpcmVyIGNvcnJlY3RlbWVudCBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsIHV0aWxpc2F0ZXVyLlxuXG5Wb2ljaSBsZXMgbW9kaWZpY2F0aW9ucyDDoCBhcHBvcnRlciBhdSBjb250csO0bGV1ciBQcm9maWxlVXNlckNvbnRyb2xsZXIgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjQxOGQzNjA5LWYzMTItNDY1ZS1hNjllLThmZjZmOWI0ZTA5ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE2VEw0OExBZmk4MlBHWVBLakF0cGdjIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsxNzAsIDE5MF19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJKZSB2YWlzIGQnYWJvcmQgZXhhbWluZXIgbGUgY29udGVudSBjb21wbGV0IGRlIGxhIG3DqXRob2RlIGhhbmRsZVNhdmUoKSBwb3VyIGNvbXByZW5kcmUgc2Egc3RydWN0dXJlIGFjdHVlbGxlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZhaWxlZCB0byBlZGl0IHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmEuIFNlZSBiZWxvdyBmb3IgZGV0YWlscy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcbk5vIHJlcGxhY2VtZW50IHdhcyBwZXJmb3JtZWQsIG9sZFN0ciBkaWQgbm90IGFwcGVhciB2ZXJiYXRpbSBpbiBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhLlxuVGhlIGNvbnRlbnQgaW4gdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG4gICAxNzNcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAxNzRcdCAgICAgICAgICAgIH1cbiAgIDE3NVx0XG4gICAxNzZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIlByb2ZpbCBtaXMgw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG4gICAxNzdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDE3OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDE3OVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDE4MFx0ICAgICAgICB9XG4gICAxODFcdCAgICB9XG4gICAxODJcdFxuICAgMTgzXHQgICAgLyoqXG5cbkRpZmYgYmV0d2VlbiBvbGRTdHIgYW5kIHRoZSBzcGVjaWZpZWQgcmVnaW9uIGlzOlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLS0tIG9sZFN0clxuKysrIHJlZ2lvbkNvbnRlbnRcbkBAIC0xLDMgKzEsMyBAQFxuLSAgICAgICAgICAgIC8vIEVucmVnaXN0cmVyIGxlcyBtb2RpZmljYXRpb25zIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc1xuLSAgICAgICAgICAgIC8vIFZvdXMgZGV2cmV6IGltcGzDqW1lbnRlciBjZXR0ZSBwYXJ0aWUgYXZlYyB2b3RyZSBzZXJ2aWNlIHV0aWxpc2F0ZXVyXG4tICAgICAgICAgICAgLy8gdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XG4rICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuKyAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGR1IHByb2ZpbDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4rICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcblxuXG5GaXggZmFpbGVkIHN0cl9yZXBsYWNlX2VudHJpZXMgYWNjb3JkaW5nbHkgYW5kIHRyeSBhZ2Fpbi5cbiIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMVAyeVhKWTYyQUhjVXhkNFRrYzNBNmgifX1dLCJyZXNwb25zZV90ZXh0IjoiSmUgdmFpcyBkJ2Fib3JkIGV4YW1pbmVyIGxlIGNvbnRlbnUgY29tcGxldCBkZSBsYSBtw6l0aG9kZSBoYW5kbGVTYXZlKCkgcG91ciBjb21wcmVuZHJlIHNhIHN0cnVjdHVyZSBhY3R1ZWxsZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZmM4ZmJlM2MtNDMxZS00ZDgzLTg1ZGEtMjdlNmVmN2Y5NjIzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUZWUVJMVXh3emIyQWh0ZjlDZHF5eVYiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzE1MCwgMTgwXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlZveW9ucyBsYSBtw6l0aG9kZSBoYW5kbGVTYXZlKCkgY29tcGzDqHRlIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YTpcbiAgIDE3MFx0ICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgIDE3MVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGR1IHByb2ZpbDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAxNzJcdCAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTczXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMTc0XHQgICAgICAgICAgICB9XG4gICAxNzVcdFxuICAgMTc2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlN1Y2PDqHNcIiwgXCJQcm9maWwgbWlzIMOgIGpvdXIgYXZlYyBzdWNjw6hzXCIpO1xuICAgMTc3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxNzhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGR1IHByb2ZpbDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAxNzlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxODBcdCAgICAgICAgfVxuICAgMTgxXHQgICAgfVxuICAgMTgyXHRcbiAgIDE4M1x0ICAgIC8qKlxuICAgMTg0XHQgICAgICogR8OocmUgbCdhY3Rpb24gZHUgYm91dG9uIEFubnVsZXJcbiAgIDE4NVx0ICAgICAqL1xuICAgMTg2XHQgICAgQEZYTUxcbiAgIDE4N1x0ICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDYW5jZWwoKSB7XG4gICAxODhcdCAgICAgICAgLy8gUmVjaGFyZ2VyIGxlcyBkb25uw6llcyBvcmlnaW5hbGVzXG4gICAxODlcdCAgICAgICAgbG9hZFVzZXJEYXRhKCk7XG4gICAxOTBcdCAgICB9XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyNDNcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDE2VEw0OExBZmk4MlBHWVBLakF0cGdjIn19XSwicmVzcG9uc2VfdGV4dCI6IlZveW9ucyBsYSBtw6l0aG9kZSBoYW5kbGVTYXZlKCkgY29tcGzDqHRlIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwNWIzMzFjZC1mOGE2LTRlNzgtOGJmNi04NmJlNjJkYzAwNjkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxQTRyQUExenZaUnpzYkU0ZEJvczNCSyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbMTkwLCAyMTBdfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSmUgdm9pcyBxdWUgbGEgbcOpdGhvZGUgaGFuZGxlU2F2ZSgpIGVzdCBkw6lqw6AgY29ycmVjdGVtZW50IGltcGzDqW1lbnTDqWUgYXZlYyBsJ3V0aWxpc2F0aW9uIGR1IHNlcnZpY2UgVXNlclNlcnZpY2UuIFbDqXJpZmlvbnMgbWFpbnRlbmFudCBsYSBtw6l0aG9kZSBoYW5kbGVDaGFuZ2VQYXNzd29yZCgpIDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YTpcbiAgIDE1MFx0ICAgICAgICB0cnkge1xuICAgMTUxXHQgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsZXMgaW5mb3JtYXRpb25zIGRlIGwndXRpbGlzYXRldXJcbiAgIDE1Mlx0ICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0Tm9tKGxhc3ROYW1lRmllbGQuZ2V0VGV4dCgpKTtcbiAgIDE1M1x0ICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0UHJlbm9tKGZpcnN0TmFtZUZpZWxkLmdldFRleHQoKSk7XG4gICAxNTRcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldEVtYWlsKGVtYWlsRmllbGQuZ2V0VGV4dCgpKTtcbiAgIDE1NVx0ICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0VGVsZXBob25lKHBob25lRmllbGQuZ2V0VGV4dCgpKTtcbiAgIDE1Nlx0ICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0QWRyZXNzZShhZGRyZXNzRmllbGQuZ2V0VGV4dCgpKTtcbiAgIDE1N1x0XG4gICAxNThcdCAgICAgICAgICAgIHRyeSB7XG4gICAxNTlcdCAgICAgICAgICAgICAgICAvLyBWw6lyaWZpZXIgc2kgbCdlbWFpbCBleGlzdGUgZMOpasOgIHBvdXIgdW4gYXV0cmUgdXRpbGlzYXRldXJcbiAgIDE2MFx0ICAgICAgICAgICAgICAgIGlmICh1c2VyU2VydmljZS5lbWFpbEV4aXN0c0Zvck90aGVyVXNlcihlbWFpbEZpZWxkLmdldFRleHQoKSwgY3VycmVudFVzZXIuZ2V0SWQoKSkpIHtcbiAgIDE2MVx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIkNldCBlbWFpbCBlc3QgZMOpasOgIHV0aWxpc8OpIHBhciB1biBhdXRyZSB1dGlsaXNhdGV1clwiKTtcbiAgIDE2Mlx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAxNjNcdCAgICAgICAgICAgICAgICB9XG4gICAxNjRcdFxuICAgMTY1XHQgICAgICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbGVzIG1vZGlmaWNhdGlvbnMgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAxNjZcdCAgICAgICAgICAgICAgICB1c2VyU2VydmljZS51cGRhdGVVc2VyKGN1cnJlbnRVc2VyKTtcbiAgIDE2N1x0XG4gICAxNjhcdCAgICAgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsJ3V0aWxpc2F0ZXVyIGRhbnMgbGEgc2Vzc2lvblxuICAgMTY5XHQgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcihjdXJyZW50VXNlcik7XG4gICAxNzBcdCAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAxNzFcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIkVycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkdSBwcm9maWw6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMTcyXHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDE3M1x0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDE3NFx0ICAgICAgICAgICAgfVxuICAgMTc1XHRcbiAgIDE3Nlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJTdWNjw6hzXCIsIFwiUHJvZmlsIG1pcyDDoCBqb3VyIGF2ZWMgc3VjY8Ooc1wiKTtcbiAgIDE3N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMTc4XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIkVycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkdSBwcm9maWw6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMTc5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTgwXHQgICAgICAgIH1cblRvdGFsIGxpbmVzIGluIGZpbGU6IDI0M1xuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUZWUVJMVXh3emIyQWh0ZjlDZHF5eVYifX1dLCJyZXNwb25zZV90ZXh0IjoiSmUgdm9pcyBxdWUgbGEgbcOpdGhvZGUgaGFuZGxlU2F2ZSgpIGVzdCBkw6lqw6AgY29ycmVjdGVtZW50IGltcGzDqW1lbnTDqWUgYXZlYyBsJ3V0aWxpc2F0aW9uIGR1IHNlcnZpY2UgVXNlclNlcnZpY2UuIFbDqXJpZmlvbnMgbWFpbnRlbmFudCBsYSBtw6l0aG9kZSBoYW5kbGVDaGFuZ2VQYXNzd29yZCgpIDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3NDAxZTE4ZC02NGQ0LTRhMDktODNlNi1kMTE0NGUzMjNlMDQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1XzAxRjNNRzZZYjFEQVFMTVVTR3hGeHNrMyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgQEZYTUxcXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNoYW5nZVBhc3N3b3JkKCkge1xcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIkluZm9ybWF0aW9uXFxcIiwgXFxcIkZvbmN0aW9ubmFsaXRcXHUwMGU5IGRlIGNoYW5nZW1lbnQgZGUgbW90IGRlIHBhc3NlIG5vbiBpbXBsXFx1MDBlOW1lbnRcXHUwMGU5ZVxcXCIpO1xcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBARlhNTFxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2hhbmdlUGFzc3dvcmQoKSB7XFxuICAgICAgICAvLyBDclxcdTAwZTllciB1bmUgYm9cXHUwMGVldGUgZGUgZGlhbG9ndWUgcG91ciBsZSBjaGFuZ2VtZW50IGRlIG1vdCBkZSBwYXNzZVxcbiAgICAgICAgRGlhbG9nPEJ1dHRvblR5cGU+IGRpYWxvZyA9IG5ldyBEaWFsb2c8PigpO1xcbiAgICAgICAgZGlhbG9nLnNldFRpdGxlKFxcXCJNb2RpZmllciBsZSBtb3QgZGUgcGFzc2VcXFwiKTtcXG4gICAgICAgIGRpYWxvZy5zZXRIZWFkZXJUZXh0KFxcXCJWZXVpbGxleiBlbnRyZXIgdm90cmUgbW90IGRlIHBhc3NlIGFjdHVlbCBldCB2b3RyZSBub3V2ZWF1IG1vdCBkZSBwYXNzZVxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBDb25maWd1cmVyIGxlcyBib3V0b25zXFxuICAgICAgICBkaWFsb2cuZ2V0RGlhbG9nUGFuZSgpLmdldEJ1dHRvblR5cGVzKCkuYWRkQWxsKEJ1dHRvblR5cGUuT0ssIEJ1dHRvblR5cGUuQ0FOQ0VMKTtcXG4gICAgICAgIFxcbiAgICAgICAgLy8gQ3JcXHUwMGU5ZXIgbGVzIGNoYW1wcyBkZSBzYWlzaWVcXG4gICAgICAgIFBhc3N3b3JkRmllbGQgY3VycmVudFBhc3N3b3JkRmllbGQgPSBuZXcgUGFzc3dvcmRGaWVsZCgpO1xcbiAgICAgICAgY3VycmVudFBhc3N3b3JkRmllbGQuc2V0UHJvbXB0VGV4dChcXFwiTW90IGRlIHBhc3NlIGFjdHVlbFxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICBQYXNzd29yZEZpZWxkIG5ld1Bhc3N3b3JkRmllbGQgPSBuZXcgUGFzc3dvcmRGaWVsZCgpO1xcbiAgICAgICAgbmV3UGFzc3dvcmRGaWVsZC5zZXRQcm9tcHRUZXh0KFxcXCJOb3V2ZWF1IG1vdCBkZSBwYXNzZVxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICBQYXNzd29yZEZpZWxkIGNvbmZpcm1QYXNzd29yZEZpZWxkID0gbmV3IFBhc3N3b3JkRmllbGQoKTtcXG4gICAgICAgIGNvbmZpcm1QYXNzd29yZEZpZWxkLnNldFByb21wdFRleHQoXFxcIkNvbmZpcm1lciBsZSBub3V2ZWF1IG1vdCBkZSBwYXNzZVxcXCIpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBDclxcdTAwZTllciBsYSBtaXNlIGVuIHBhZ2VcXG4gICAgICAgIEdyaWRQYW5lIGdyaWQgPSBuZXcgR3JpZFBhbmUoKTtcXG4gICAgICAgIGdyaWQuc2V0SGdhcCgxMCk7XFxuICAgICAgICBncmlkLnNldFZnYXAoMTApO1xcbiAgICAgICAgZ3JpZC5zZXRQYWRkaW5nKG5ldyBJbnNldHMoMjAsIDE1MCwgMTAsIDEwKSk7XFxuICAgICAgICBcXG4gICAgICAgIGdyaWQuYWRkKG5ldyBMYWJlbChcXFwiTW90IGRlIHBhc3NlIGFjdHVlbDpcXFwiKSwgMCwgMCk7XFxuICAgICAgICBncmlkLmFkZChjdXJyZW50UGFzc3dvcmRGaWVsZCwgMSwgMCk7XFxuICAgICAgICBncmlkLmFkZChuZXcgTGFiZWwoXFxcIk5vdXZlYXUgbW90IGRlIHBhc3NlOlxcXCIpLCAwLCAxKTtcXG4gICAgICAgIGdyaWQuYWRkKG5ld1Bhc3N3b3JkRmllbGQsIDEsIDEpO1xcbiAgICAgICAgZ3JpZC5hZGQobmV3IExhYmVsKFxcXCJDb25maXJtZXIgbGUgbW90IGRlIHBhc3NlOlxcXCIpLCAwLCAyKTtcXG4gICAgICAgIGdyaWQuYWRkKGNvbmZpcm1QYXNzd29yZEZpZWxkLCAxLCAyKTtcXG4gICAgICAgIFxcbiAgICAgICAgZGlhbG9nLmdldERpYWxvZ1BhbmUoKS5zZXRDb250ZW50KGdyaWQpO1xcbiAgICAgICAgXFxuICAgICAgICAvLyBEb25uZXIgbGUgZm9jdXMgYXUgcHJlbWllciBjaGFtcFxcbiAgICAgICAgUGxhdGZvcm0ucnVuTGF0ZXIoY3VycmVudFBhc3N3b3JkRmllbGQ6OnJlcXVlc3RGb2N1cyk7XFxuICAgICAgICBcXG4gICAgICAgIC8vIEF0dGVuZHJlIGxhIHJcXHUwMGU5cG9uc2UgZGUgbCd1dGlsaXNhdGV1clxcbiAgICAgICAgT3B0aW9uYWw8QnV0dG9uVHlwZT4gcmVzdWx0ID0gZGlhbG9nLnNob3dBbmRXYWl0KCk7XFxuICAgICAgICBcXG4gICAgICAgIGlmIChyZXN1bHQuaXNQcmVzZW50KCkgJiYgcmVzdWx0LmdldCgpID09IEJ1dHRvblR5cGUuT0spIHtcXG4gICAgICAgICAgICBTdHJpbmcgY3VycmVudFBhc3N3b3JkID0gY3VycmVudFBhc3N3b3JkRmllbGQuZ2V0VGV4dCgpO1xcbiAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IG5ld1Bhc3N3b3JkRmllbGQuZ2V0VGV4dCgpO1xcbiAgICAgICAgICAgIFN0cmluZyBjb25maXJtUGFzc3dvcmQgPSBjb25maXJtUGFzc3dvcmRGaWVsZC5nZXRUZXh0KCk7XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgLy8gVlxcdTAwZTlyaWZpZXIgcXVlIHRvdXMgbGVzIGNoYW1wcyBzb250IHJlbXBsaXNcXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhc3N3b3JkLmlzRW1wdHkoKSB8fCBuZXdQYXNzd29yZC5pc0VtcHR5KCkgfHwgY29uZmlybVBhc3N3b3JkLmlzRW1wdHkoKSkge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyXFxcIiwgXFxcIlRvdXMgbGVzIGNoYW1wcyBkb2l2ZW50IFxcdTAwZWF0cmUgcmVtcGxpc1xcXCIpO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIC8vIFZcXHUwMGU5cmlmaWVyIHF1ZSBsZSBub3V2ZWF1IG1vdCBkZSBwYXNzZSBldCBsYSBjb25maXJtYXRpb24gY29ycmVzcG9uZGVudFxcbiAgICAgICAgICAgIGlmICghbmV3UGFzc3dvcmQuZXF1YWxzKGNvbmZpcm1QYXNzd29yZCkpIHtcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1clxcXCIsIFxcXCJMZSBub3V2ZWF1IG1vdCBkZSBwYXNzZSBldCBzYSBjb25maXJtYXRpb24gbmUgY29ycmVzcG9uZGVudCBwYXNcXFwiKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAvLyBWXFx1MDBlOXJpZmllciBxdWUgbGUgbW90IGRlIHBhc3NlIGFjdHVlbCBlc3QgY29ycmVjdFxcbiAgICAgICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkLmVxdWFscyhjdXJyZW50VXNlci5nZXRQYXNzd29yZCgpKSkge1xcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcXFwiRXJyZXVyXFxcIiwgXFxcIkxlIG1vdCBkZSBwYXNzZSBhY3R1ZWwgZXN0IGluY29ycmVjdFxcXCIpO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIC8vIE1ldHRyZSBcXHUwMGUwIGpvdXIgbGUgbW90IGRlIHBhc3NlIGRhbnMgbGEgYmFzZSBkZSBkb25uXFx1MDBlOWVzXFxuICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnVwZGF0ZVBhc3N3b3JkKGN1cnJlbnRVc2VyLmdldElkKCksIG5ld1Bhc3N3b3JkKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIC8vIE1ldHRyZSBcXHUwMGUwIGpvdXIgbGUgbW90IGRlIHBhc3NlIGRhbnMgbCdvYmpldCB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRQYXNzd29yZChuZXdQYXNzd29yZCk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAvLyBNZXR0cmUgXFx1MDBlMCBqb3VyIGwndXRpbGlzYXRldXIgZGFucyBsYSBzZXNzaW9uXFxuICAgICAgICAgICAgICAgIFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuc2V0Q3VycmVudFVzZXIoY3VycmVudFVzZXIpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXFxcIlN1Y2NcXHUwMGU4c1xcXCIsIFxcXCJWb3RyZSBtb3QgZGUgcGFzc2UgYSBcXHUwMGU5dFxcdTAwZTkgbW9kaWZpXFx1MDBlOSBhdmVjIHN1Y2NcXHUwMGU4c1xcXCIpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFxcXCJFcnJldXJcXFwiLCBcXFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSBcXHUwMGUwIGpvdXIgZHUgbW90IGRlIHBhc3NlOiBcXFwiICsgZS5nZXRNZXNzYWdlKCkpO1xcbiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTk1LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE5OH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSW1wbMOpbWVudG9ucyBsYSBmb25jdGlvbm5hbGl0w6kgZGUgY2hhbmdlbWVudCBkZSBtb3QgZGUgcGFzc2UgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhOlxuICAgMTkwXHQgICAgfVxuICAgMTkxXHRcbiAgIDE5Mlx0ICAgIC8qKlxuICAgMTkzXHQgICAgICogR8OocmUgbCdhY3Rpb24gZHUgYm91dG9uIE1vZGlmaWVyIG1vdCBkZSBwYXNzZVxuICAgMTk0XHQgICAgICovXG4gICAxOTVcdCAgICBARlhNTFxuICAgMTk2XHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNoYW5nZVBhc3N3b3JkKCkge1xuICAgMTk3XHQgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiSW5mb3JtYXRpb25cIiwgXCJGb25jdGlvbm5hbGl0w6kgZGUgY2hhbmdlbWVudCBkZSBtb3QgZGUgcGFzc2Ugbm9uIGltcGzDqW1lbnTDqWVcIik7XG4gICAxOThcdCAgICB9XG4gICAxOTlcdFxuICAgMjAwXHQgICAgLyoqXG4gICAyMDFcdCAgICAgKiBHw6hyZSBsJ2FjdGlvbiBkZSBjaGFuZ2VtZW50IGQnaW1hZ2UgZGUgcHJvZmlsXG4gICAyMDJcdCAgICAgKi9cbiAgIDIwM1x0ICAgIEBGWE1MXG4gICAyMDRcdCAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2hhbmdlUHJvZmlsZUltYWdlKCkge1xuICAgMjA1XHQgICAgICAgIEZpbGVDaG9vc2VyIGZpbGVDaG9vc2VyID0gbmV3IEZpbGVDaG9vc2VyKCk7XG4gICAyMDZcdCAgICAgICAgZmlsZUNob29zZXIuc2V0VGl0bGUoXCJTw6lsZWN0aW9ubmVyIHVuZSBpbWFnZSBkZSBwcm9maWxcIik7XG4gICAyMDdcdCAgICAgICAgZmlsZUNob29zZXIuZ2V0RXh0ZW5zaW9uRmlsdGVycygpLmFkZEFsbChcbiAgIDIwOFx0ICAgICAgICAgICAgbmV3IEZpbGVDaG9vc2VyLkV4dGVuc2lvbkZpbHRlcihcIkltYWdlc1wiLCBcIioucG5nXCIsIFwiKi5qcGdcIiwgXCIqLmpwZWdcIiwgXCIqLmdpZlwiKVxuICAgMjA5XHQgICAgICAgICk7XG4gICAyMTBcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMjQzXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxQTRyQUExenZaUnpzYkU0ZEJvczNCSyJ9fV0sInJlc3BvbnNlX3RleHQiOiJJbXBsw6ltZW50b25zIGxhIGZvbmN0aW9ubmFsaXTDqSBkZSBjaGFuZ2VtZW50IGRlIG1vdCBkZSBwYXNzZSA6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNGFjY2E2YzItYTYxNi00MzBlLTllYjgtZDdiNzQ2NGMyNzBjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV8wMUgxSHFjY25rWjIzTVA2aEp0WjZxWHMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XFxuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkFsZXJ0O1xcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b247XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkRhdGVQaWNrZXI7XFxuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRleHRGaWVsZDtcIiwgXCJuZXdfc3RyXCI6IFwiaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybTtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcXG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcXG5pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cztcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcXG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5HcmlkUGFuZTtcXG5pbXBvcnQgamF2YS51dGlsLk9wdGlvbmFsO1xcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA2LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDExfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJNYWludGVuYW50LCBham91dG9ucyBsZXMgaW1wb3J0cyBuw6ljZXNzYWlyZXMgcG91ciBsZXMgbm91dmVsbGVzIGNsYXNzZXMgdXRpbGlzw6llcyA6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgIDE5MVx0XG4gICAxOTJcdCAgICAvKipcbiAgIDE5M1x0ICAgICAqIEfDqHJlIGwnYWN0aW9uIGR1IGJvdXRvbiBNb2RpZmllciBtb3QgZGUgcGFzc2VcbiAgIDE5NFx0ICAgICAqL1xuICAgMTk1XHQgICAgQEZYTUxcbiAgIDE5Nlx0ICAgIHByaXZhdGUgdm9pZCBoYW5kbGVDaGFuZ2VQYXNzd29yZCgpIHtcbiAgIDE5N1x0ICAgICAgICAvLyBDcsOpZXIgdW5lIGJvw650ZSBkZSBkaWFsb2d1ZSBwb3VyIGxlIGNoYW5nZW1lbnQgZGUgbW90IGRlIHBhc3NlXG4gICAxOThcdCAgICAgICAgRGlhbG9nPEJ1dHRvblR5cGU+IGRpYWxvZyA9IG5ldyBEaWFsb2c8PigpO1xuICAgMTk5XHQgICAgICAgIGRpYWxvZy5zZXRUaXRsZShcIk1vZGlmaWVyIGxlIG1vdCBkZSBwYXNzZVwiKTtcbiAgIDIwMFx0ICAgICAgICBkaWFsb2cuc2V0SGVhZGVyVGV4dChcIlZldWlsbGV6IGVudHJlciB2b3RyZSBtb3QgZGUgcGFzc2UgYWN0dWVsIGV0IHZvdHJlIG5vdXZlYXUgbW90IGRlIHBhc3NlXCIpO1xuICAgMjAxXHRcbiAgIDIwMlx0ICAgICAgICAvLyBDb25maWd1cmVyIGxlcyBib3V0b25zXG4gICAyMDNcdCAgICAgICAgZGlhbG9nLmdldERpYWxvZ1BhbmUoKS5nZXRCdXR0b25UeXBlcygpLmFkZEFsbChCdXR0b25UeXBlLk9LLCBCdXR0b25UeXBlLkNBTkNFTCk7XG4gICAyMDRcdFxuICAgMjA1XHQgICAgICAgIC8vIENyw6llciBsZXMgY2hhbXBzIGRlIHNhaXNpZVxuICAgMjA2XHQgICAgICAgIFBhc3N3b3JkRmllbGQgY3VycmVudFBhc3N3b3JkRmllbGQgPSBuZXcgUGFzc3dvcmRGaWVsZCgpO1xuICAgMjA3XHQgICAgICAgIGN1cnJlbnRQYXNzd29yZEZpZWxkLnNldFByb21wdFRleHQoXCJNb3QgZGUgcGFzc2UgYWN0dWVsXCIpO1xuICAgMjA4XHRcbiAgIDIwOVx0ICAgICAgICBQYXNzd29yZEZpZWxkIG5ld1Bhc3N3b3JkRmllbGQgPSBuZXcgUGFzc3dvcmRGaWVsZCgpO1xuICAgMjEwXHQgICAgICAgIG5ld1Bhc3N3b3JkRmllbGQuc2V0UHJvbXB0VGV4dChcIk5vdXZlYXUgbW90IGRlIHBhc3NlXCIpO1xuICAgMjExXHRcbiAgIDIxMlx0ICAgICAgICBQYXNzd29yZEZpZWxkIGNvbmZpcm1QYXNzd29yZEZpZWxkID0gbmV3IFBhc3N3b3JkRmllbGQoKTtcbiAgIDIxM1x0ICAgICAgICBjb25maXJtUGFzc3dvcmRGaWVsZC5zZXRQcm9tcHRUZXh0KFwiQ29uZmlybWVyIGxlIG5vdXZlYXUgbW90IGRlIHBhc3NlXCIpO1xuICAgMjE0XHRcbiAgIDIxNVx0ICAgICAgICAvLyBDcsOpZXIgbGEgbWlzZSBlbiBwYWdlXG4gICAyMTZcdCAgICAgICAgR3JpZFBhbmUgZ3JpZCA9IG5ldyBHcmlkUGFuZSgpO1xuICAgMjE3XHQgICAgICAgIGdyaWQuc2V0SGdhcCgxMCk7XG4gICAyMThcdCAgICAgICAgZ3JpZC5zZXRWZ2FwKDEwKTtcbiAgIDIxOVx0ICAgICAgICBncmlkLnNldFBhZGRpbmcobmV3IEluc2V0cygyMCwgMTUwLCAxMCwgMTApKTtcbiAgIDIyMFx0XG4gICAyMjFcdCAgICAgICAgZ3JpZC5hZGQobmV3IExhYmVsKFwiTW90IGRlIHBhc3NlIGFjdHVlbDpcIiksIDAsIDApO1xuICAgMjIyXHQgICAgICAgIGdyaWQuYWRkKGN1cnJlbnRQYXNzd29yZEZpZWxkLCAxLCAwKTtcbiAgIDIyM1x0ICAgICAgICBncmlkLmFkZChuZXcgTGFiZWwoXCJOb3V2ZWF1IG1vdCBkZSBwYXNzZTpcIiksIDAsIDEpO1xuICAgMjI0XHQgICAgICAgIGdyaWQuYWRkKG5ld1Bhc3N3b3JkRmllbGQsIDEsIDEpO1xuICAgMjI1XHQgICAgICAgIGdyaWQuYWRkKG5ldyBMYWJlbChcIkNvbmZpcm1lciBsZSBtb3QgZGUgcGFzc2U6XCIpLCAwLCAyKTtcbiAgIDIyNlx0ICAgICAgICBncmlkLmFkZChjb25maXJtUGFzc3dvcmRGaWVsZCwgMSwgMik7XG4gICAyMjdcdFxuICAgMjI4XHQgICAgICAgIGRpYWxvZy5nZXREaWFsb2dQYW5lKCkuc2V0Q29udGVudChncmlkKTtcbiAgIDIyOVx0XG4gICAyMzBcdCAgICAgICAgLy8gRG9ubmVyIGxlIGZvY3VzIGF1IHByZW1pZXIgY2hhbXBcbiAgIDIzMVx0ICAgICAgICBQbGF0Zm9ybS5ydW5MYXRlcihjdXJyZW50UGFzc3dvcmRGaWVsZDo6cmVxdWVzdEZvY3VzKTtcbiAgIDIzMlx0XG4gICAyMzNcdCAgICAgICAgLy8gQXR0ZW5kcmUgbGEgcsOpcG9uc2UgZGUgbCd1dGlsaXNhdGV1clxuICAgMjM0XHQgICAgICAgIE9wdGlvbmFsPEJ1dHRvblR5cGU+IHJlc3VsdCA9IGRpYWxvZy5zaG93QW5kV2FpdCgpO1xuICAgMjM1XHRcbiAgIDIzNlx0ICAgICAgICBpZiAocmVzdWx0LmlzUHJlc2VudCgpICYmIHJlc3VsdC5nZXQoKSA9PSBCdXR0b25UeXBlLk9LKSB7XG4gICAyMzdcdCAgICAgICAgICAgIFN0cmluZyBjdXJyZW50UGFzc3dvcmQgPSBjdXJyZW50UGFzc3dvcmRGaWVsZC5nZXRUZXh0KCk7XG4gICAyMzhcdCAgICAgICAgICAgIFN0cmluZyBuZXdQYXNzd29yZCA9IG5ld1Bhc3N3b3JkRmllbGQuZ2V0VGV4dCgpO1xuICAgMjM5XHQgICAgICAgICAgICBTdHJpbmcgY29uZmlybVBhc3N3b3JkID0gY29uZmlybVBhc3N3b3JkRmllbGQuZ2V0VGV4dCgpO1xuICAgMjQwXHRcbiAgIDI0MVx0ICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHF1ZSB0b3VzIGxlcyBjaGFtcHMgc29udCByZW1wbGlzXG4gICAyNDJcdCAgICAgICAgICAgIGlmIChjdXJyZW50UGFzc3dvcmQuaXNFbXB0eSgpIHx8IG5ld1Bhc3N3b3JkLmlzRW1wdHkoKSB8fCBjb25maXJtUGFzc3dvcmQuaXNFbXB0eSgpKSB7XG4gICAyNDNcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIlRvdXMgbGVzIGNoYW1wcyBkb2l2ZW50IMOqdHJlIHJlbXBsaXNcIik7XG4gICAyNDRcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAyNDVcdCAgICAgICAgICAgIH1cbiAgIDI0Nlx0XG4gICAyNDdcdCAgICAgICAgICAgIC8vIFbDqXJpZmllciBxdWUgbGUgbm91dmVhdSBtb3QgZGUgcGFzc2UgZXQgbGEgY29uZmlybWF0aW9uIGNvcnJlc3BvbmRlbnRcbiAgIDI0OFx0ICAgICAgICAgICAgaWYgKCFuZXdQYXNzd29yZC5lcXVhbHMoY29uZmlybVBhc3N3b3JkKSkge1xuICAgMjQ5XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJMZSBub3V2ZWF1IG1vdCBkZSBwYXNzZSBldCBzYSBjb25maXJtYXRpb24gbmUgY29ycmVzcG9uZGVudCBwYXNcIik7XG4gICAyNTBcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAyNTFcdCAgICAgICAgICAgIH1cbiAgIDI1Mlx0XG4gICAyNTNcdCAgICAgICAgICAgIC8vIFbDqXJpZmllciBxdWUgbGUgbW90IGRlIHBhc3NlIGFjdHVlbCBlc3QgY29ycmVjdFxuICAgMjU0XHQgICAgICAgICAgICBpZiAoIWN1cnJlbnRQYXNzd29yZC5lcXVhbHMoY3VycmVudFVzZXIuZ2V0UGFzc3dvcmQoKSkpIHtcbiAgIDI1NVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiTGUgbW90IGRlIHBhc3NlIGFjdHVlbCBlc3QgaW5jb3JyZWN0XCIpO1xuICAgMjU2XHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMjU3XHQgICAgICAgICAgICB9XG4gICAyNThcdFxuICAgMjU5XHQgICAgICAgICAgICB0cnkge1xuICAgMjYwXHQgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgbW90IGRlIHBhc3NlIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgMjYxXHQgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UudXBkYXRlUGFzc3dvcmQoY3VycmVudFVzZXIuZ2V0SWQoKSwgbmV3UGFzc3dvcmQpO1xuICAgMjYyXHRcbiAgIDI2M1x0ICAgICAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGxlIG1vdCBkZSBwYXNzZSBkYW5zIGwnb2JqZXQgdXRpbGlzYXRldXJcbiAgIDI2NFx0ICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldFBhc3N3b3JkKG5ld1Bhc3N3b3JkKTtcbiAgIDI2NVx0XG4gICAyNjZcdCAgICAgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsJ3V0aWxpc2F0ZXVyIGRhbnMgbGEgc2Vzc2lvblxuICAgMjY3XHQgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcihjdXJyZW50VXNlcik7XG4gICAyNjhcdFxuICAgMjY5XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJTdWNjw6hzXCIsIFwiVm90cmUgbW90IGRlIHBhc3NlIGEgw6l0w6kgbW9kaWZpw6kgYXZlYyBzdWNjw6hzXCIpO1xuICAgMjcwXHQgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMjcxXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgbW90IGRlIHBhc3NlOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDI3Mlx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAyNzNcdCAgICAgICAgICAgIH1cbiAgIDI3NFx0ICAgICAgICB9XG4gICAyNzVcdCAgICB9XG4gICAyNzZcdFxuICAgMjc3XHQgICAgLyoqXG4gICAyNzhcdCAgICAgKiBHw6hyZSBsJ2FjdGlvbiBkZSBjaGFuZ2VtZW50IGQnaW1hZ2UgZGUgcHJvZmlsXG4gICAyNzlcdCAgICAgKi9cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV8wMUYzTUc2WWIxREFRTE1VU0d4RnhzazMifX1dLCJyZXNwb25zZV90ZXh0IjoiTWFpbnRlbmFudCwgYWpvdXRvbnMgbGVzIGltcG9ydHMgbsOpY2Vzc2FpcmVzIHBvdXIgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIHV0aWxpc8OpZXMgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjJjZmI3MmE2LWMzYjYtNDNhYi05N2UxLTQ4MzFlOTgxNzA3MiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfMDE3aEY2eExTSFlpRzVLblpQV1NZSExoIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICAgICAgICAgICAgICAvLyBNZXR0cmUgXFx1MDBlMCBqb3VyIGxlIGNoZW1pbiBkZSBsJ2ltYWdlIGRhbnMgbCdvYmpldCB1dGlsaXNhdGV1clxcbiAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRJbWFnZVVybChzZWxlY3RlZEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVm91cyBkZXZyZXogaW1wbFxcdTAwZTltZW50ZXIgbGEgbG9naXF1ZSBwb3VyIGVucmVnaXN0cmVyIGwnaW1hZ2VcXG4gICAgICAgICAgICAgICAgLy8gZGFucyB1biBkb3NzaWVyIGFwcHJvcHJpXFx1MDBlOSBldCBtZXR0cmUgXFx1MDBlMCBqb3VyIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1wiLCBcIm5ld19zdHJcIjogXCIgICAgICAgICAgICAgICAgLy8gTWV0dHJlIFxcdTAwZTAgam91ciBsZSBjaGVtaW4gZGUgbCdpbWFnZSBkYW5zIGwnb2JqZXQgdXRpbGlzYXRldXJcXG4gICAgICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0SW1hZ2VVcmwoc2VsZWN0ZWRGaWxlLmdldEFic29sdXRlUGF0aCgpKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgICAgICAvLyBFbnJlZ2lzdHJlciBsZSBjaGVtaW4gZGUgbCdpbWFnZSBkYW5zIGxhIGJhc2UgZGUgZG9ublxcdTAwZTllc1xcbiAgICAgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XFxuICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIC8vIE1ldHRyZSBcXHUwMGUwIGpvdXIgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIHNlc3Npb25cXG4gICAgICAgICAgICAgICAgICAgIFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuc2V0Q3VycmVudFVzZXIoY3VycmVudFVzZXIpO1xcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcXFwiU3VjY1xcdTAwZThzXFxcIiwgXFxcIlZvdHJlIGltYWdlIGRlIHByb2ZpbCBhIFxcdTAwZTl0XFx1MDBlOSBtaXNlIFxcdTAwZTAgam91ciBhdmVjIHN1Y2NcXHUwMGU4c1xcXCIpO1xcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXFxcIkVycmV1clxcXCIsIFxcXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIFxcdTAwZTAgam91ciBkZSBsJ2ltYWdlIGRlIHByb2ZpbDogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIyMywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyMjd9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik1haW50ZW5hbnQsIGFtw6lsaW9yb25zIGxhIG3DqXRob2RlIGhhbmRsZUNoYW5nZVByb2ZpbGVJbWFnZSgpIHBvdXIgc2F1dmVnYXJkZXIgbCdpbWFnZSBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMgOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xuICAgICA1XHRpbXBvcnQgc2VydmljZXMuVXNlclNlcnZpY2U7XG4gICAgIDZcdGltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XG4gICAgIDdcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5nZW9tZXRyeS5JbnNldHM7XG4gICAgMTBcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuICAgIDExXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5HcmlkUGFuZTtcbiAgICAxMlx0aW1wb3J0IGphdmEudXRpbC5PcHRpb25hbDtcbiAgICAxM1x0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxNFx0aW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZTtcbiAgICAxNVx0aW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZVZpZXc7XG4gICAgMTZcdGltcG9ydCBqYXZhZnguc3RhZ2UuRmlsZUNob29zZXI7XG4gICAgMTdcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfMDFIMUhxY2Nua1oyM01QNmhKdFo2cVhzIn19XSwicmVzcG9uc2VfdGV4dCI6Ik1haW50ZW5hbnQsIGFtw6lsaW9yb25zIGxhIG3DqXRob2RlIGhhbmRsZUNoYW5nZVByb2ZpbGVJbWFnZSgpIHBvdXIgc2F1dmVnYXJkZXIgbCdpbWFnZSBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMgOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjZkODVjMTBkLTUwMjgtNDg5Zi04MzEyLWI3YzdjNGM0YmFiNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlBhcmZhaXQgISBKJ2FpIGNvbXBsw6l0w6kgbGUgdHJhdmFpbCBlbiA6XG5cbjEuICoqSW1wbMOpbWVudGFudCBsYSBmb25jdGlvbm5hbGl0w6kgZGUgY2hhbmdlbWVudCBkZSBtb3QgZGUgcGFzc2UqKiA6XG4gICAtIENyw6lhdGlvbiBkJ3VuZSBib8OudGUgZGUgZGlhbG9ndWUgYXZlYyBkZXMgY2hhbXBzIHBvdXIgbGUgbW90IGRlIHBhc3NlIGFjdHVlbCwgbGUgbm91dmVhdSBtb3QgZGUgcGFzc2UgZXQgbGEgY29uZmlybWF0aW9uXG4gICAtIFZhbGlkYXRpb24gZGVzIGVudHLDqWVzIChjaGFtcHMgbm9uIHZpZGVzLCBjb3JyZXNwb25kYW5jZSBkZXMgbW90cyBkZSBwYXNzZSlcbiAgIC0gTWlzZSDDoCBqb3VyIGR1IG1vdCBkZSBwYXNzZSBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMgdmlhIGxlIHNlcnZpY2UgVXNlclNlcnZpY2VcbiAgIC0gTWlzZSDDoCBqb3VyIGRlIGwndXRpbGlzYXRldXIgZGFucyBsYSBzZXNzaW9uXG5cbjIuICoqQW3DqWxpb3JhbnQgbGEgZm9uY3Rpb25uYWxpdMOpIGRlIGNoYW5nZW1lbnQgZCdpbWFnZSBkZSBwcm9maWwqKiA6XG4gICAtIFNhdXZlZ2FyZGUgZHUgY2hlbWluIGRlIGwnaW1hZ2UgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzIHZpYSBsZSBzZXJ2aWNlIFVzZXJTZXJ2aWNlXG4gICAtIE1pc2Ugw6Agam91ciBkZSBsJ3V0aWxpc2F0ZXVyIGRhbnMgbGEgc2Vzc2lvblxuICAgLSBBZmZpY2hhZ2UgZGUgbWVzc2FnZXMgZGUgc3VjY8OocyBvdSBkJ2VycmV1clxuXG4zLiAqKkFqb3V0YW50IGxlcyBpbXBvcnRzIG7DqWNlc3NhaXJlcyoqIHBvdXIgbGVzIG5vdXZlbGxlcyBjbGFzc2VzIHV0aWxpc8OpZXNcblxuTWFpbnRlbmFudCwgbG9yc3F1J3VuIHV0aWxpc2F0ZXVyIHNlIGNvbm5lY3RlLCBzZXMgaW5mb3JtYXRpb25zIHNvbnQgcsOpY3Vww6lyw6llcyB2aWEgVXNlclNlc3Npb24gZXQgYWZmaWNow6llcyBkYW5zIGxhIHBhZ2UgZGUgcHJvZmlsLiBMJ3V0aWxpc2F0ZXVyIHBldXQgOlxuLSBNb2RpZmllciBzZXMgaW5mb3JtYXRpb25zIHBlcnNvbm5lbGxlcyAobm9tLCBwcsOpbm9tLCBlbWFpbCwgdMOpbMOpcGhvbmUsIGFkcmVzc2UpXG4tIENoYW5nZXIgc29uIG1vdCBkZSBwYXNzZVxuLSBNZXR0cmUgw6Agam91ciBzb24gaW1hZ2UgZGUgcHJvZmlsXG5cblRvdXRlcyBjZXMgbW9kaWZpY2F0aW9ucyBzb250IHNhdXZlZ2FyZMOpZXMgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzIGV0IGwndXRpbGlzYXRldXIgY29ubmVjdMOpIGVzdCBtaXMgw6Agam91ciBkYW5zIGxhIHNlc3Npb24uXG5cblBvdXIgdGVzdGVyIGNldHRlIGZvbmN0aW9ubmFsaXTDqSwgdm91cyBwb3V2ZXogOlxuMS4gVm91cyBjb25uZWN0ZXIgYXZlYyB1biBjb21wdGUgdXRpbGlzYXRldXJcbjIuIE5hdmlndWVyIHZlcnMgbGEgcGFnZSBkZSBwcm9maWxcbjMuIE1vZGlmaWVyIGxlcyBpbmZvcm1hdGlvbnMgZXQgdsOpcmlmaWVyIHF1J2VsbGVzIHNvbnQgYmllbiBzYXV2ZWdhcmTDqWVzXG40LiBDaGFuZ2VyIGxlIG1vdCBkZSBwYXNzZSBldCB2w6lyaWZpZXIgcXVlIHZvdXMgcG91dmV6IHZvdXMgcmVjb25uZWN0ZXIgYXZlYyBsZSBub3V2ZWF1IG1vdCBkZSBwYXNzZVxuNS4gQ2hhbmdlciBsJ2ltYWdlIGRlIHByb2ZpbCBldCB2w6lyaWZpZXIgcXUnZWxsZSBlc3QgYmllbiBhZmZpY2jDqWVcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMjk1XHQgICAgICAgICAgICAgICAgLy8gQ2hhcmdlciBsJ2ltYWdlIHPDqWxlY3Rpb25uw6llXG4gICAyOTZcdCAgICAgICAgICAgICAgICBJbWFnZSBpbWFnZSA9IG5ldyBJbWFnZShzZWxlY3RlZEZpbGUudG9VUkkoKS50b1N0cmluZygpKTtcbiAgIDI5N1x0ICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZS5zZXRJbWFnZShpbWFnZSk7XG4gICAyOThcdFxuICAgMjk5XHQgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgY2hlbWluIGRlIGwnaW1hZ2UgZGFucyBsJ29iamV0IHV0aWxpc2F0ZXVyXG4gICAzMDBcdCAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRJbWFnZVVybChzZWxlY3RlZEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgMzAxXHRcbiAgIDMwMlx0ICAgICAgICAgICAgICAgIHRyeSB7XG4gICAzMDNcdCAgICAgICAgICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbGUgY2hlbWluIGRlIGwnaW1hZ2UgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAzMDRcdCAgICAgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XG4gICAzMDVcdFxuICAgMzA2XHQgICAgICAgICAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwndXRpbGlzYXRldXIgZGFucyBsYSBzZXNzaW9uXG4gICAzMDdcdCAgICAgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcihjdXJyZW50VXNlcik7XG4gICAzMDhcdFxuICAgMzA5XHQgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIlZvdHJlIGltYWdlIGRlIHByb2ZpbCBhIMOpdMOpIG1pc2Ugw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG4gICAzMTBcdCAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMzExXHQgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGRlIGwnaW1hZ2UgZGUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDMxMlx0ICAgICAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMzEzXHQgICAgICAgICAgICAgICAgfVxuICAgMzE0XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMzE1XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlIGwnaW1hZ2U6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMzE2XHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDMxN1x0ICAgICAgICAgICAgfVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1XzAxN2hGNnhMU0hZaUc1S25aUFdTWUhMaCJ9fV0sInJlc3BvbnNlX3RleHQiOiJQYXJmYWl0ICEgSidhaSBjb21wbMOpdMOpIGxlIHRyYXZhaWwgZW4gOlxuXG4xLiAqKkltcGzDqW1lbnRhbnQgbGEgZm9uY3Rpb25uYWxpdMOpIGRlIGNoYW5nZW1lbnQgZGUgbW90IGRlIHBhc3NlKiogOlxuICAgLSBDcsOpYXRpb24gZCd1bmUgYm/DrnRlIGRlIGRpYWxvZ3VlIGF2ZWMgZGVzIGNoYW1wcyBwb3VyIGxlIG1vdCBkZSBwYXNzZSBhY3R1ZWwsIGxlIG5vdXZlYXUgbW90IGRlIHBhc3NlIGV0IGxhIGNvbmZpcm1hdGlvblxuICAgLSBWYWxpZGF0aW9uIGRlcyBlbnRyw6llcyAoY2hhbXBzIG5vbiB2aWRlcywgY29ycmVzcG9uZGFuY2UgZGVzIG1vdHMgZGUgcGFzc2UpXG4gICAtIE1pc2Ugw6Agam91ciBkdSBtb3QgZGUgcGFzc2UgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzIHZpYSBsZSBzZXJ2aWNlIFVzZXJTZXJ2aWNlXG4gICAtIE1pc2Ugw6Agam91ciBkZSBsJ3V0aWxpc2F0ZXVyIGRhbnMgbGEgc2Vzc2lvblxuXG4yLiAqKkFtw6lsaW9yYW50IGxhIGZvbmN0aW9ubmFsaXTDqSBkZSBjaGFuZ2VtZW50IGQnaW1hZ2UgZGUgcHJvZmlsKiogOlxuICAgLSBTYXV2ZWdhcmRlIGR1IGNoZW1pbiBkZSBsJ2ltYWdlIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llcyB2aWEgbGUgc2VydmljZSBVc2VyU2VydmljZVxuICAgLSBNaXNlIMOgIGpvdXIgZGUgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIHNlc3Npb25cbiAgIC0gQWZmaWNoYWdlIGRlIG1lc3NhZ2VzIGRlIHN1Y2PDqHMgb3UgZCdlcnJldXJcblxuMy4gKipBam91dGFudCBsZXMgaW1wb3J0cyBuw6ljZXNzYWlyZXMqKiBwb3VyIGxlcyBub3V2ZWxsZXMgY2xhc3NlcyB1dGlsaXPDqWVzXG5cbk1haW50ZW5hbnQsIGxvcnNxdSd1biB1dGlsaXNhdGV1ciBzZSBjb25uZWN0ZSwgc2VzIGluZm9ybWF0aW9ucyBzb250IHLDqWN1cMOpcsOpZXMgdmlhIFVzZXJTZXNzaW9uIGV0IGFmZmljaMOpZXMgZGFucyBsYSBwYWdlIGRlIHByb2ZpbC4gTCd1dGlsaXNhdGV1ciBwZXV0IDpcbi0gTW9kaWZpZXIgc2VzIGluZm9ybWF0aW9ucyBwZXJzb25uZWxsZXMgKG5vbSwgcHLDqW5vbSwgZW1haWwsIHTDqWzDqXBob25lLCBhZHJlc3NlKVxuLSBDaGFuZ2VyIHNvbiBtb3QgZGUgcGFzc2Vcbi0gTWV0dHJlIMOgIGpvdXIgc29uIGltYWdlIGRlIHByb2ZpbFxuXG5Ub3V0ZXMgY2VzIG1vZGlmaWNhdGlvbnMgc29udCBzYXV2ZWdhcmTDqWVzIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llcyBldCBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqSBlc3QgbWlzIMOgIGpvdXIgZGFucyBsYSBzZXNzaW9uLlxuXG5Qb3VyIHRlc3RlciBjZXR0ZSBmb25jdGlvbm5hbGl0w6ksIHZvdXMgcG91dmV6IDpcbjEuIFZvdXMgY29ubmVjdGVyIGF2ZWMgdW4gY29tcHRlIHV0aWxpc2F0ZXVyXG4yLiBOYXZpZ3VlciB2ZXJzIGxhIHBhZ2UgZGUgcHJvZmlsXG4zLiBNb2RpZmllciBsZXMgaW5mb3JtYXRpb25zIGV0IHbDqXJpZmllciBxdSdlbGxlcyBzb250IGJpZW4gc2F1dmVnYXJkw6llc1xuNC4gQ2hhbmdlciBsZSBtb3QgZGUgcGFzc2UgZXQgdsOpcmlmaWVyIHF1ZSB2b3VzIHBvdXZleiB2b3VzIHJlY29ubmVjdGVyIGF2ZWMgbGUgbm91dmVhdSBtb3QgZGUgcGFzc2VcbjUuIENoYW5nZXIgbCdpbWFnZSBkZSBwcm9maWwgZXQgdsOpcmlmaWVyIHF1J2VsbGUgZXN0IGJpZW4gYWZmaWNow6llXG5cblxuLS0tXG5cbipZb3VyIGFjY2VzcyBleHBpcmVzIGluIDAgZGF5cy4gW1B1cmNoYXNlIGEgc3Vic2NyaXB0aW9uXShodHRwczovL2FwcC5hdWdtZW50Y29kZS5jb20vYWNjb3VudC9wbGFuKSoiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6ImZhaWxlZCIsInJlcXVlc3RfbWVzc2FnZSI6ImplIHZldXggZW5naXN0cmVyIGxlcyBpbWFnZSBkYW5zIGRvc3NpZXIgaW1hZ2UgZXQgY3JlZXIgcGF0aCBlbiBnaXN0cmVyIHBhdGggZGFucyBiYXNlIGRlIGRvbm7DqcOpZXMgdmVyaWZpZXIgZXQgZml4ZXIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiamUgdmV1eCBlbmdpc3RyZXIgbGVzIGltYWdlIGRhbnMgZG9zc2llciBpbWFnZSBldCBjcmVlciBwYXRoIGVuIGdpc3RyZXIgcGF0aCBkYW5zIGJhc2UgZGUgZG9ubsOpw6llcyB2ZXJpZmllciBldCBmaXhlciJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOltdLCJzZWVuX3N0YXRlIjoidW5zZWVuIn1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLWNkNDE3NjVkLWYwNmEtNDEzYy04ZDQzLTNlMWQyMzA1ZWU4YyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOWNjZTY4MmYtYjZjNi00MDU2LWIxMmEtYmU5MDcxN2E2NjM5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mMTBiMTMzNC00ZjliLTQ4ZDAtOGY4Ny1lM2IxZTI0ZWViY2YiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTkzZTk1NDk4LWIzOGUtNDhkYi1hM2RlLTQwYjBlMWUxNDBmMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtY2ZjNWZiMWItMDk1MC00NGU0LTljNWItMDE0OWYxMjlhYmMyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05YjNiMDEzZS04ZTQzLTRiNzgtYmU4MC1jNzU3ZWE0ODAxODMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThiODgxMTY4LTc0YmItNGM2ZS05YTUwLTQyOTI1YTVmMmM0OCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmU3MzE2NmItMzY1NS00NDY0LWEyMzMtODViZjFmYTAwMjAzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wZGM5ZGQ2My05YmQzLTRkYWUtOWI0Ni1jMDJlMWU4OGY1NTAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTE0NzE2Mzg4LWJlY2UtNDlkNC1iZmEwLTQ3MDgyZjU2NWRkZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjI1ODFmNTEtN2Y5Ni00NmE3LWFiYjMtNWM4NmY4ZjcxMzcwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05YzcyNTc3My0xNjczLTQ2ZjgtODdiMi02NjU0ZTNkOWRlNjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWNjZjI2OTY3LWZhZmUtNGIxZS04ODNkLThmYmE1MTY4NmNjNSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzg4NjgwOGEtYmRhZi00ZWZiLTg5YmMtMTI3OWI1OWZjZjFlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kNTk5NDNjMS00OWE4LTRlMmQtYmJiOS1mYjFiZGQ1Yzc0NjYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWEzZTAyMWY3LWM3ZjMtNGViNy05Zjc1LTdiMjg0YWE4MWI2NCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzYyZTdjYWItYzI5OS00NjEyLWIzNmEtMGEwMzEwMmVhOWZjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05MjZhMWNhYS03YTYzLTQ5MzUtOTQ5OC1mMjY4Y2RmYzk3ZTMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThmOTA4MDE4LTliZWUtNGU2Yy1iMzQxLTgxZDE3ZjcyYzViYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjk5ODdkMjEtNDcxNC00Y2VhLWE1MzItMGRmYWQ3MmNhZDgyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS04NTA5ZDY1Yy04OTYwLTRhMmUtYmQyOC0wYjZlNDVjMGQ3OTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQyMzZmM2I0LWRlNWEtNDkyMC04NjMyLTZjMTljYmUyNjkyNCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTFjZDllYjAtNzdlMS00NGUxLTkxNGQtNjQ1MWI3YTgxZTM3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iYThhZTBjYi00OTUyLTRhNzUtYjg2Yi0xOTRmOGI1ZTA2MmUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWExMWY0ZTNmLTc5OGUtNGE2Ny1iNmQ3LWQxMTk4OTFkOGEzOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzc1MGVjMWUtMmY2NC00YjQ2LWIwYTEtYjUyZTNhM2Y4OGQ5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mYzVhMDEwMy1iYzdhLTRmOWMtODhjMS1mMjMxZjgwZGM1NTUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWFmYmNmNzA4LTA1YzktNDliNi1iZmFlLWUzNmUxNjdmZjkwZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDk4Nzk4NDItZDgwZC00MzcxLWE4M2ItOGQ2YzgwOTNiZDVmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wMDI4ODgyNC1lZGZmLTRhYjctOTkxZi0zYzg0MTRjYjg1Y2MiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTgxMTRiOTMwLTdlMTYtNGY0ZC04NzRmLWMzMWQ3ZTMxYTdhMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYWE1OTkwZTktNjI5MC00NTcxLWE4OWMtOGVmOTQwOGVkOTdmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05Y2JjZjEzNy01OGI2LTRhZDQtODRjNi1mMDNmYTFlYzE4NzciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWVmMGMwN2QzLTQzNjgtNDlmMS1hYjMxLTQ1MmZjNDFjZjJiOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYTRlODJkMDYtOTFkOC00MDZhLTk5NTgtNGNjYzc0ZTNiZWQwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00MjUyNDNhNy02YjA5LTQ3ZGMtYTIwMC1kZWQ4ZTY3NGVjMmEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTdjNGQ3NGQxLTAwYjQtNGEwZC05NzEwLTE5OThmNjAwODY5MyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDE2YjI0NmItZTliNS00ZDllLWJkZjItNGM4ZjVkNTY0OTdjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jZDE4ODU0Zi1lN2MwLTQxYWQtOGQwOC0wNWM3MWFiMDYxMzYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWMzNjFjZTI5LWU2MmYtNGNhYS1iNmI3LTNmMGI0MjQxZDE1ZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOWQ0OWRjYzUtYzE5Ny00NDcyLThjZjctZmY1MTJlYzc4ZTUyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mNDdlNzAxNS0wYjBmLTQ4NTUtOWZmZi0wOTdmZTQwMTA2ODkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWNkNmRiZmZhLTAwNGEtNGUyNC1iNmQ5LTFlNDcyNjc0NWQ2ZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMWJjN2JmNTYtN2QxZC00ZDU3LWE0MDMtNTcyMDg1ZjBlYjhjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mMDI1YjMyYS05Nzk5LTRkM2YtOThkNy0xZDFmNTU5NGI5OTciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWEwMTkzN2I3LTI2YWYtNDRmZS05ZWFhLThhN2U2ZTA5ZGMzMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMGE1Y2VlNDYtMzZmZi00NzVjLWI2NzItNjZhYjc2MmQ0YjQxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xY2UxM2Q5OC1iMjdlLTQxMWYtOGZkOC04NGZmZTY3MDI5NmYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTZlNjZjZDY5LTg0Y2YtNGU5My05NzFiLTk2ZjRlMTc3ODcxZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYzQ1NjRmYmMtNmU1Mi00ZTdjLWFiYWMtYzI4YmY5NTllNGFiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jODdmMDI0OS1lM2IxLTQxODAtYmY1OC02NGI4YmMxMDQ4NzAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTFhZDBiZmJkLTUzYjktNDU3Mi04ZWI0LTgxZGVmZmFjNmU1YyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDNjM2NiOTMtNWFkZi00NTI2LWEwMjEtOTAyZDJhY2FhOGIyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zMDc2YzI0OC1lNGI1LTRlNDMtOGU1Ni1lMmQ4MDI4ZTMzZWUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTViMGUzMzM3LWE5YTgtNDQzNy05NjE0LTNhZWJiZjkxZDIwMSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNGY3NTY5YjEtMTJjNS00NzQ0LWI3YTctOTFjOGU3Mzg3MTRhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zMTM0ZjgyZi00MjRjLTRjZTMtYTk0My1hOGE3MGMyMWI0NjgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWIxNDQyMjljLWQ3NzgtNDUzNi1iMmQxLTZkZjg0NDQxZmVjNiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNmZmZTA3YzItZjMyYy00ZmNmLWJhYzAtMGJiZTZmOWJiNGFmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xNzdhN2RlYS03MDI2LTRiMDgtYWZmYy1jYTg2NDFkZDJmNWUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTIxODE1ODI2LTcxMGQtNGJmZi05OGY0LTc1ZjI1ZjBjODNjZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDRhM2M1ZTktNzg5Zi00MTQwLWIzMDYtNWYyOTVhMGZhMjljIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mZjQ0MDQ1Ny01ZDAxLTQxNjMtYmUwNy1mMzJlMTZjZDMxMDEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWIxMjEyMzYwLTgxYzUtNDE5Yy1iMjEyLWVjYjk3ZmU2YjdiOCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmYyYjgyODUtYmQwMy00MzFiLTgxNGQtMTk3Y2Y4OThiNmZkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05NWE5NjY1Zi00ODk5LTRjZjUtOGIwOS1mOGQyMDgyYzQ4ZDAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQyOTU0MGJmLWYxYzEtNGUzYS1hZWY2LWFlYWY0MmUyYjRlMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtY2Q4YzVjZTktZDlmZC00Mjg5LTgwOGEtNTBlMmNhY2Q2MDY3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xMzhjMDc0ZS1iODUwLTQ3N2QtODI0OC1mNmFjNWE3ZTcxMTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTE3ZjgzY2NmLTg5MGEtNDM1Zi05NzFkLTY2YzQzOWJkM2JkNyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjYzNjA2ODMtOTM4Ni00MzgwLTkxMjAtOTc4NmU0MjVmNGRkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wNjBlZWYyMS1mMWJmLTQ3MzEtOTJiMS00NTk3MWQ1Yjc2ZTEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTFhNWExMjIzLTNhZmYtNDc5Mi05NzFjLWZiY2IzMjlmNmJjMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZGUxYmI1NTEtOTI2NS00YjZkLWI1YjAtMDAyY2M4NDVkYTA0Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wY2Y5OGQ0Yy1hYzA1LTQ3NGUtYTg3Yi02NDg3NWIwN2FmOTQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWNhY2Q0NWNkLWVkN2QtNDkwYS05ODI0LTYxYTY5YTZmMmYwMSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZmUzYzFmYmMtM2E4Ni00MzYzLWI1MzctNWFlMzU1M2IzNDQzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02OGZhMzJlNS04ZWQyLTRlYjgtYTM5Yy04ZjI4ZjNiNjU1YmYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTcxOGQwYWM1LTEwOWQtNDBlNi05MTcxLWRhY2IzZTIwNTFlMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNjVjNzMzODQtZGNjZi00NzNkLTgyMTQtODkyMzcxYzU5NGI3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS01NWI5ZTA5Zi1hZjI3LTRmYTAtOTBlYi1kNGFiODYxNDZjNDkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQ4NmZiZGUzLWJmMzUtNDY0ZC05ZWEyLTc3MWEwNjVlYjJhZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDU5OWZiM2QtMGY2NS00YzljLThiOTQtNzliZGQwMjA4OTA0Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02OTQ2Mjk0YS1jYzMzLTRjNGEtOWQ3Zi1kMDljNWRlNWVjYjEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThiZjA3NzdmLTViYWYtNGFlMS1hYjUyLTNkYzllOTM5ZDZiZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtODZjN2UyZTktNmJjMC00ZmE3LTkwYWUtNjI0MzJjMjZkMWM5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zOGZkYWQzZC00NjU0LTRmZmUtYmMyYS1kOTQ2MWZkMzJiMjYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTJlODU2MjFmLTc3YTctNDcyNC05ZDVlLTczMjc4ODFmN2RmZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYWMxYTM2MDMtOTBhOC00NDhiLWI2NDUtZjU1OTNmY2QzM2YzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xOGQ5ODAzZS0xMWQwLTRjZTMtYmM1Yi1jMDVmMzM0MWNlMDciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWM2YzllNDE4LTYwYzQtNGY3Yi05MzJjLTM5MDRjYmFmNDdjZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOTRlNmVjNWEtODE1NC00ZGExLTg4MjAtMDRhY2M0YzZiM2ZkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wNDc5YTAxYi1jNDVmLTQ3N2ItYTFiZC03ODVlZDVmOTIwZjIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ5NjYxNWNhLWY4MzUtNDZjZi05ZWExLTdlNzRmMzA5YWI0MyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYzkyMjdmZTAtOWRiYi00ODIwLWIyYjUtOWE1ZjQyYTYwMTk1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1lZDEzZGNmYS0wOGY1LTRiMGMtODFjZC00ZjM1YWEyYTZhNWEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTZlYzc1ODA5LTdlNGMtNDgyYi04ZjgzLWQwYjYwZjQ0NjM3OCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMTAzMGYxZDItODJhOC00MDllLTllNjAtNDI0ZGQ1NjllNzIyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kYjdiNDRmYi1jNWMzLTRkMTMtYTNkYy03ZDM5YjYzMTFkYzgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTc3ZjZmNmRjLTg5Y2UtNGZlNi05MjU0LTk4ZjRhYzZmZTFjMiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOTBmOGE5ODYtYjlmNi00YTBlLTg1MzQtNGVlZDA3ZWExNjU4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zMGRmNTE4MS04YjFjLTRlYmQtYWU0Mi0yNzliZGQ3NDg0MWQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTUwY2E0MzE4LTBhZDYtNDhiZC1hN2FmLTI0MmRkOWNlNDQ0MSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTQxZTNjOWItYmVlNS00NGY3LWJkNGItMzFjOTRmNjNkN2Q5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yMWIyMzg0MC01ZGE3LTRjYmYtYjMwNC00NWQ5MDg1NGM2M2UiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTk0MWU5NGQxLThhZjUtNDE2MC04YjJkLTVjNWY5MmMyY2IyMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTI5MDgwN2MtMDhiOC00ZGMwLTgwNzQtYWFiMGJhNWY0MTNiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1lZTU4NjJkMy03ZjI0LTRjMmEtYWViZS0wZDI0MmM1NTE2ODIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTJkODdmZTU2LWExYjUtNGFmOS1hNGRlLTJjNjI2ZWU5YmQ5NSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTY1ZjY5ZmYtZWJlNS00YjA2LWI5NGMtNmJlOTI4MTY4NDRmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iODQ3MWI2Mi1jN2Y5LTQxMTQtOTlkNi0wZjcwODZmMjdiZGQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWU3MzM5MjljLTNmOWEtNGIyMi1iODVkLTk1YjI5MGFhZTA5MyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYTdhNTk3M2EtMTcwYi00ODgwLWI4YzQtZmVlNjg4Zjc0ZDU5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xYzQxZGEyOC05YmVhLTQwNjEtYjA3Zi0wYTY1MDA2NDEzNTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWU0NTc4Mjc1LTU1MDAtNDAxNy04ZjNiLTFhOWI4OTE1MGQzZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzBjM2ExOTAtNzUwNy00Zjk1LWI5ZGMtYmE4OWI0YTI3MDczIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03MGVlYjlmYy02NzE4LTQwMTItODBkOS04ZmEzYjIzNjJmOWQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTMxOWVlNTk3LTNlN2QtNDc2My04NDY0LWM4MjA1MGM5NjVmZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjE5NmRlZjAtOWJlMy00OTk0LWFkOTktMzBiOWU1NWViODgwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iYjcxMTJiZS0zMjA4LTRhODEtODI5Ni1jNDY1NTJjZjM0NmEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWFkOTNkYzY5LTc0YzMtNDVhOC04ZjJmLWYzMDAxMDFlZjdlMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZWUzZDdhMTktMDE1ZC00MzNjLTllYWYtZTNjOTA4MDBmOGJkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1kZjc1ODg3My1mZDE1LTQwZjAtOTQ2MS1hNDRkMGQyZTc0ZjIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWIxYjc4YjZhLTQ0N2YtNGUxNS04ZDNkLWE0MGY2MGI5MDhjZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDZmMjQzNWYtNTJmYi00MDA2LWIyZDctMzM5NWQwZTZiYjBjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05OGU0YTNmYy0zNDYwLTRhOTctYTQ3MC0xMzc2N2ZlOGFlNGQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTVlYTE4NjVmLTk2YzUtNDcxZS05MmE3LWMxMjY2OWJjNTJhMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn19LCJ0b29sVXNlU3RhdGVzIjp7IjA1MDVjZWMyLTY3YTMtNDQxYS1iYzExLWI0M2RlMmM1OGEyNTt0b29sdV92cnR4XzAxQWFRcng1QlZjajQxRjVjUGlMZEpEbiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xuICAgICA0XHRpbXBvcnQgc2VydmljZXMuU2VydmljZVBlcnNvbm5lO1xuICAgICA1XHRpbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcbiAgICAgNlx0XG4gICAgIDdcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgIDhcdFxuICAgICA5XHRwdWJsaWMgY2xhc3MgTWFpbiB7XG4gICAgMTBcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSAge1xuICAgIDExXHQgICAgICAgIFBlcnNvbm5lIHBlcnNvbm5lID0gbmV3IFBlcnNvbm5lKDEsXCJoZWxsb1wiLFwiM2E2M1wiLDE3KTtcbiAgICAxMlx0ICAgICAgICBTZXJ2aWNlUGVyc29ubmUgc2VydmljZVBlcnNvbm5lID0gbmV3IFNlcnZpY2VQZXJzb25uZSgpO1xuICAgIDEzXHQgICAgICAgIHRyeSB7XG4gICAgMTRcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihzZXJ2aWNlUGVyc29ubmUuYWZmaWNoZXIoKSk7XG4gICAgMTVcdCAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAxNlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAxN1x0ICAgICAgICB9XG4gICAgMThcdCAgICB9XG4gICAgMTlcdFxuICAgIDIwXHR9XG4gICAgMjFcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMjFcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjZkODg2MTEyLTUxODUtNGExZi1hYmVhLWZkZmQ3MzhhOTJjMjt0b29sdV92cnR4XzAxTDFKN0Iyb3c1VkVyRVlWREtzZEN5TiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YVxucGFja2FnZSB0ZXN0cztcblxuaW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xuaW1wb3J0IHNlcnZpY2VzLlNlcnZpY2VQZXJzb25uZTtcbmltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuXG5wdWJsaWMgY2xhc3MgTWFpbiB7XG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAgICAgUGVyc29ubmUgcGVyc29ubmUgPSBuZXcgUGVyc29ubmUoMSxcImhlbGxvXCIsXCIzYTYzXCIsMTcpO1xuICAgICAgICBTZXJ2aWNlUGVyc29ubmUgc2VydmljZVBlcnNvbm5lID0gbmV3IFNlcnZpY2VQZXJzb25uZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHNlcnZpY2VQZXJzb25uZS5hZmZpY2hlcigpKTtcbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9tb2R1bGUtaW5mby5qYXZhXG5tb2R1bGUgcGkyNDI1LnN3YXBweV9qYXZhZngge1xuICAgIHJlcXVpcmVzIGphdmFmeC5jb250cm9scztcbiAgICByZXF1aXJlcyBqYXZhZnguZnhtbDtcbiAgICByZXF1aXJlcyBqYXZhZngubWVkaWE7XG4gICAgcmVxdWlyZXMgamF2YWZ4LnN3aW5nO1xuICAgIHJlcXVpcmVzIGphdmEuc3FsO1xuICAgIHJlcXVpcmVzIGpiY3J5cHQ7XG4gICAgcmVxdWlyZXMgbXlzcWwuY29ubmVjdG9yLmo7XG4gICAgcmVxdWlyZXMgZGUubWthbW1lcmVyLmFyZ29uMi5ub2xpYnM7XG4gICAgcmVxdWlyZXMgb3JnLmpzb247XG4gICAgcmVxdWlyZXMgd2ViY2FtLmNhcHR1cmU7XG5cbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcyB0byBqYXZhZnguYmFzZTtcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuXG5cblxuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnRlc3RzIHRvIGphdmFmeC5meG1sO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZngudGVzdHM7XG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZnguY29udHJvbGxlcnMgdG8gamF2YWZ4LmZ4bWw7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC5jb250cm9sbGVycztcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnV0aWxzO1xuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnV0aWxzIHRvIGphdmFmeC5meG1sO1xuXG5cbn0uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvVXNlci5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuXG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuRGF0ZTtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBvcmcubWluZHJvdC5qYmNyeXB0LkJDcnlwdDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5cblxuXG5cbnB1YmxpYyBjbGFzcyBVc2VyIHtcblxuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICBwcml2YXRlIFN0cmluZyBlbWFpbDtcbiAgICBwcml2YXRlIFN0cmluZyBwcmVub207XG4gICAgcHJpdmF0ZSBTdHJpbmcgYWRyZXNzZTtcbiAgICBwcml2YXRlIFN0cmluZyB0ZWxlcGhvbmU7XG4gICAgcHJpdmF0ZSBib29sZWFuIGlzVmVyaWZpZWQ7XG4gICAgcHJpdmF0ZSBUaW1lc3RhbXAgY3JlYXRlZF9hdDtcbiAgICBwcml2YXRlIExpc3Q8U3RyaW5nPiByb2xlO1xuICAgIHByaXZhdGUgU3RyaW5nIHBhc3N3b3JkO1xuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlVXJsO1xuXG4gICAgLy8gQ29uc3RydWN0b3JcblxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZF9hdCwgIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIGltYWdlVXJsKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTsgLy8gU2V0IHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTtcbiAgICAgICAgLy8gdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKCkge1xuICAgICAgICAvLyAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoU3RyaW5nIG5vbSwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgdGVsZXBob25lLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIC8vIHRoaXMucGFzc3dvcmQgPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBmYWxzZTsgLy8gRGVmYXVsdCB2YWx1ZSBmb3IgbmV3IHVzZXJzXG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOyAvLyBTZXQgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZEF0LCBEYXRlIGxhc3RDb25uZXhpb24sIFN0cmluZyBzdG9yZWRIYXNoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkQXQgIT0gbnVsbCA/IG5ldyBUaW1lc3RhbXAoY3JlYXRlZEF0LmdldFRpbWUoKSkgOiBudWxsO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gc3RvcmVkSGFzaDtcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsOyAvLyBQYXIgZMOpZmF1dCwgcGFzIGQnaW1hZ2VcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgRGF0ZSBjcmVhdGVkQXQsIFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZEF0ICE9IG51bGwgPyBuZXcgVGltZXN0YW1wKGNyZWF0ZWRBdC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IG51bGw7IC8vIFBhciBkw6lmYXV0LCBwYXMgZCdpbWFnZVxuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgIFRpbWVzdGFtcCBjcmVhdGVkQXQsIFN0cmluZyBpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gbmV3IFRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7IC8vIFNldCB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Tm9tKCkge1xuICAgICAgICByZXR1cm4gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE5vbShTdHJpbmcgbm9tKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWwoKSB7XG4gICAgICAgIHJldHVybiBlbWFpbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJlbm9tKCkge1xuICAgICAgICByZXR1cm4gcHJlbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFByZW5vbShTdHJpbmcgcHJlbm9tKSB7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIH1cblxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZHJlc3NlKCkge1xuICAgICAgICByZXR1cm4gYWRyZXNzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRBZHJlc3NlKFN0cmluZyBhZHJlc3NlKSB7XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRUZWxlcGhvbmUoKSB7XG4gICAgICAgIHJldHVybiB0ZWxlcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VGVsZXBob25lKFN0cmluZyB0ZWxlcGhvbmUpIHtcbiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgfVxuXG4gICAgcHVibGljIGJvb2xlYW4gaXNWZXJpZmllZCgpIHtcbiAgICAgICAgcmV0dXJuIGlzVmVyaWZpZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VmVyaWZpZWQoYm9vbGVhbiB2ZXJpZmllZCkge1xuICAgICAgICBpc1ZlcmlmaWVkID0gdmVyaWZpZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFRpbWVzdGFtcCBnZXRDcmVhdGVkX2F0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlZF9hdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVkX2F0KFRpbWVzdGFtcCBjcmVhdGVkX2F0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRfYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIExpc3Q8U3RyaW5nPiBnZXRSb2xlKCkge1xuICAgICAgICByZXR1cm4gcm9sZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKExpc3Q8U3RyaW5nPiByb2xlKSB7XG4gICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgICAgICAgcmV0dXJuIHBhc3N3b3JkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgIHB1YmxpYyB2b2lkIHNldFBhc3N3b3JkKFN0cmluZyBwYXNzd29yZCkge1xuICAgICB0aGlzLnBhc3N3b3JkID0gaGFzaFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgfVxuICAgICAqL1xuXG4gICAgcHVibGljIFN0cmluZyBnZXRJbWFnZVVybCgpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEltYWdlVXJsKFN0cmluZyBpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiVXNlcntcIiArXG4gICAgICAgICAgICAgICAgXCJpZD1cIiArIGlkICtcbiAgICAgICAgICAgICAgICBcIiwgbm9tPSdcIiArIG5vbSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgZW1haWw9J1wiICsgZW1haWwgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIHByZW5vbT0nXCIgKyBwcmVub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGFkcmVzc2U9J1wiICsgYWRyZXNzZSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgdGVsZXBob25lPSdcIiArIHRlbGVwaG9uZSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgaXNWZXJpZmllZD1cIiArIGlzVmVyaWZpZWQgK1xuICAgICAgICAgICAgICAgIFwiLCBjcmVhdGVkX2F0PVwiICsgY3JlYXRlZF9hdCArXG4gICAgICAgICAgICAgICAgXCIsIHJvbGU9XCIgKyByb2xlICtcbiAgICAgICAgICAgICAgICBcIiwgcGFzc3dvcmQ9J1wiICsgcGFzc3dvcmQgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGltYWdlVXJsPSdcIiArIGltYWdlVXJsICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgICd9JztcbiAgICB9XG5cbn1cbi8qKlxuIC8vIEhhY2hhZ2UgZHUgbW90IGRlIHBhc3NlIGF2ZWMgQkNyeXB0XG4gcHJpdmF0ZSBTdHJpbmcgaGFzaFBhc3N3b3JkKFN0cmluZyBwbGFpblBhc3N3b3JkKSB7XG4gaWYgKHBsYWluUGFzc3dvcmQgPT0gbnVsbCB8fCBwbGFpblBhc3N3b3JkLnRyaW0oKS5pc0VtcHR5KCkpIHtcbiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiTGUgbW90IGRlIHBhc3NlIG5lIHBldXQgcGFzIMOqdHJlIHZpZGUgb3UgbnVsbFwiKTtcbiB9XG4gcmV0dXJuIEJDcnlwdC5oYXNocHcocGxhaW5QYXNzd29yZCwgQkNyeXB0LmdlbnNhbHQoMTIpKTtcbiB9XG5cbiAvLyBWw6lyaWZpY2F0aW9uIGR1IG1vdCBkZSBwYXNzZVxuIHB1YmxpYyBib29sZWFuIGNoZWNrUGFzc3dvcmQoU3RyaW5nIHBsYWluUGFzc3dvcmQpIHtcbiByZXR1cm4gQkNyeXB0LmNoZWNrcHcocGxhaW5QYXNzd29yZCwgdGhpcy5wYXNzd29yZCk7XG4gfVxuICovXG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvdGVzdHMvSGVsbG9BcHBsaWNhdGlvbi5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnRlc3RzO1xuXG5pbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uO1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG5pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5LlJlY3RhbmdsZTJEO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU2NyZWVuO1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5zZXJ2aWNlcy5BZG1pblNlcnZpY2U7XG5cblxuaW1wb3J0IGphdmEuaW8uRmlsZTtcbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEubmV0LlVSTDtcbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG5cbnB1YmxpYyBjbGFzcyBIZWxsb0FwcGxpY2F0aW9uIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHN0YWdlKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hhcmdlciBsZSBmaWNoaWVyIEZYTUwgZGlyZWN0ZW1lbnQgw6AgcGFydGlyIGR1IHN5c3TDqG1lIGRlIGZpY2hpZXJzXG4gICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9waTI0MjUvc3dhcHB5X2phdmFmeC9BdXRoZW50aWZpY2F0aW9uL2xvZ2luLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRmljaGllciB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGZ4bWxMb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCJTd2FwaWZ5XCIpO1xuICAgICAgICAgICAgICAgIFJlY3RhbmdsZTJEIHNjcmVlbkJvdW5kcyA9IFNjcmVlbi5nZXRQcmltYXJ5KCkuZ2V0VmlzdWFsQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0V2lkdGgoc2NyZWVuQm91bmRzLmdldFdpZHRoKCkgKiAwLjgpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldEhlaWdodChzY3JlZW5Cb3VuZHMuZ2V0SGVpZ2h0KCkgKiAwLjgpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldE1pbldpZHRoKDgwMCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0TWluSGVpZ2h0KDYwMCk7XG4gICAgICAgICAgICAgICAgc3RhZ2UuY2VudGVyT25TY3JlZW4oKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkZpY2hpZXIgbm9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IElPRXhjZXB0aW9uKFwiRmljaGllciBGWE1MIG5vbiB0cm91dsOpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkdSBmaWNoaWVyIEZYTUw6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImNvbm5lY3Rpb24gZXN0YWJsaXNoZWRcIik7XG5cbiAgICAgICAgICAgIC8vIPCflLkgQ3LDqWF0aW9uIGR1IHN1cGVyIGFkbWluaXN0cmF0ZXVyIHNpIGluZXhpc3RhbnRcbiAgICAgICAgICAgIEFkbWluU2VydmljZSBhZG1pblNlcnZpY2UgPSBuZXcgQWRtaW5TZXJ2aWNlKCk7XG4gICAgICAgICAgICBhZG1pblNlcnZpY2UuY3JlYXRlU3VwZXJBZG1pbigpO1xuXG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxhdW5jaCgpO1xuXG4gICAgfVxufS4uLlxuUGF0aDogc3JjL21haW4vamF2YS9zZXJ2aWNlcy9TZXJ2aWNlUGVyc29ubmUuamF2YVxucGFja2FnZSBzZXJ2aWNlcztcblxuaW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG5cbmltcG9ydCBqYXZhLnNxbC4qO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBjbGFzcyBTZXJ2aWNlUGVyc29ubmUgaW1wbGVtZW50cyBJU2VydmljZTxQZXJzb25uZT4ge1xuICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcbiAgICBwdWJsaWMgU2VydmljZVBlcnNvbm5lKCkge1xuICAgICAgICBjb25uZWN0aW9uPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuXG4gICAgfVxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGFqb3V0ZXIoUGVyc29ubmUgcGVyc29ubmUpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcmVxID1cIklOU0VSVCBJTlRPIHBlcnNvbm5lKG5vbSwgcHJlbm9tLCBhZ2UpIFZBTFVFUyAoJ1wiK3BlcnNvbm5lLmdldE5vbSgpK1wiJywnXCIrcGVyc29ubmUuZ2V0UHJlbm9tKCkrXCInLFwiK3BlcnNvbm5lLmdldEFnZSgpK1wiKVwiO1xuICAgICAgICBTdGF0ZW1lbnQgc3RhdGVtZW50PWNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKHJlcSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcInBlcnNvbm5lIGFqb3V0w6lcIik7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgc3VwcHJpbWVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcblxuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIG1vZGlmaWVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHJlcSA9IFwidXBkYXRlIHBlcnNvbm5lIHNldCBub209PywgcHJlbm9tPT8sIGFnZT0/IHdoZXJlIGlkPT9cIjtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHJlcGFyZWRTdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocmVxKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIHBlcnNvbm5lLmdldE5vbSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0U3RyaW5nKDIsIHBlcnNvbm5lLmdldFByZW5vbSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0SW50KDMsIHBlcnNvbm5lLmdldEFnZSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0SW50KDQsIHBlcnNvbm5lLmdldElkKCkpO1xuICAgICAgICBwcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XG5cbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgTGlzdDxQZXJzb25uZT4gYWZmaWNoZXIoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgTGlzdDxQZXJzb25uZT4gcGVyc29ubmVzID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIFN0cmluZyByZXEgPSBcInNlbGVjdCAqIGZyb20gcGVyc29ubmVcIjtcbiAgICAgICAgU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG5cbiAgICAgICBSZXN1bHRTZXQgcnMgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KHJlcSk7XG4gICAgICAgd2hpbGUgKHJzLm5leHQoKSkge1xuICAgICAgICAgICBQZXJzb25uZSBwZXJzb25uZSA9IG5ldyBQZXJzb25uZSgpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXRJZChycy5nZXRJbnQoMSkpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXROb20ocnMuZ2V0U3RyaW5nKFwibm9tXCIpKTtcbiAgICAgICAgICAgcGVyc29ubmUuc2V0UHJlbm9tKHJzLmdldFN0cmluZyhcInByZW5vbVwiKSk7XG4gICAgICAgICAgIHBlcnNvbm5lLnNldEFnZShycy5nZXRJbnQoNCkpO1xuICAgICAgICAgICBwZXJzb25uZXMuYWRkKHBlcnNvbm5lKTtcblxuICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBwZXJzb25uZXM7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL0V2ZW50LmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG5cbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcblxucHVibGljIGNsYXNzIEV2ZW50IHtcblxuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgVXNlciBvcmduaXNlcjtcbiAgICBwcml2YXRlIFN0cmluZyB0aXRsZTtcbiAgICBwcml2YXRlIFN0cmluZyBkZXNjcmlwdGlvbjtcbiAgICBwcml2YXRlIERhdGUgZGF0ZV9kZWJ1dDtcbiAgICBwcml2YXRlIERhdGUgZGF0ZV9maW47XG4gICAgcHJpdmF0ZSBpbnQgbWF4X3BhcnRpY2lwYW50cztcbiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXM7XG4gICAgcHJpdmF0ZSBTdHJpbmcgaW1hZ2U7XG5cbiAgICBwdWJsaWMgRXZlbnQoaW50IGlkLCBVc2VyIG9yZ25pc2VyLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBkZXNjcmlwdGlvbiwgRGF0ZSBkYXRlX2RlYnV0LCBEYXRlIGRhdGVfZmluLCBpbnQgbWF4X3BhcnRpY2lwYW50cywgU3RyaW5nIHN0YXR1cywgU3RyaW5nIGltYWdlKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5vcmduaXNlciA9IG9yZ25pc2VyO1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBFdmVudChVc2VyIG9yZ25pc2VyLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBkZXNjcmlwdGlvbiwgRGF0ZSBkYXRlX2RlYnV0LCBEYXRlIGRhdGVfZmluLCBpbnQgbWF4X3BhcnRpY2lwYW50cywgU3RyaW5nIHN0YXR1cywgU3RyaW5nIGltYWdlKSB7XG4gICAgICAgIHRoaXMub3JnbmlzZXIgPSBvcmduaXNlcjtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZGF0ZV9kZWJ1dCA9IGRhdGVfZGVidXQ7XG4gICAgICAgIHRoaXMuZGF0ZV9maW4gPSBkYXRlX2ZpbjtcbiAgICAgICAgdGhpcy5tYXhfcGFydGljaXBhbnRzID0gbWF4X3BhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgRXZlbnQoKSB7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIgZ2V0T3JnbmlzZXIoKSB7XG4gICAgICAgIHJldHVybiBvcmduaXNlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRPcmduaXNlcihVc2VyIG9yZ25pc2VyKSB7XG4gICAgICAgIHRoaXMub3JnbmlzZXIgPSBvcmduaXNlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VGl0bGUoU3RyaW5nIHRpdGxlKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGVzY3JpcHRpb24oU3RyaW5nIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlX2RlYnV0KCkge1xuICAgICAgICByZXR1cm4gZGF0ZV9kZWJ1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXREYXRlX2RlYnV0KERhdGUgZGF0ZV9kZWJ1dCkge1xuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xuICAgIH1cblxuICAgIHB1YmxpYyBEYXRlIGdldERhdGVfZmluKCkge1xuICAgICAgICByZXR1cm4gZGF0ZV9maW47XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9maW4oRGF0ZSBkYXRlX2Zpbikge1xuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRNYXhfcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gbWF4X3BhcnRpY2lwYW50cztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNYXhfcGFydGljaXBhbnRzKGludCBtYXhfcGFydGljaXBhbnRzKSB7XG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHVzKFN0cmluZyBzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRJbWFnZSgpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEltYWdlKFN0cmluZyBpbWFnZSkge1xuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiRXZlbnR7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG9yZ25pc2VyPVwiICsgb3JnbmlzZXIgK1xuICAgICAgICAgICAgICAgIFwiLCB0aXRsZT0nXCIgKyB0aXRsZSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgZGVzY3JpcHRpb249J1wiICsgZGVzY3JpcHRpb24gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGRhdGVfZGVidXQ9XCIgKyBkYXRlX2RlYnV0ICtcbiAgICAgICAgICAgICAgICBcIiwgZGF0ZV9maW49XCIgKyBkYXRlX2ZpbiArXG4gICAgICAgICAgICAgICAgXCIsIG1heF9wYXJ0aWNpcGFudHM9XCIgKyBtYXhfcGFydGljaXBhbnRzICtcbiAgICAgICAgICAgICAgICBcIiwgc3RhdHVzPSdcIiArIHN0YXR1cyArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgaW1hZ2U9J1wiICsgaW1hZ2UgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgJ30nO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogLmdpdGlnbm9yZVxudGFyZ2V0L1xuIS5tdm4vd3JhcHBlci9tYXZlbi13cmFwcGVyLmphclxuISoqL3NyYy9tYWluLyoqL3RhcmdldC9cbiEqKi9zcmMvdGVzdC8qKi90YXJnZXQvXG5cbiMjIyBJbnRlbGxpSiBJREVBICMjI1xuLmlkZWEvbW9kdWxlcy54bWxcbi5pZGVhL2phclJlcG9zaXRvcmllcy54bWxcbi5pZGVhL2NvbXBpbGVyLnhtbFxuLmlkZWEvbGlicmFyaWVzL1xuKi5pd3NcbiouaW1sXG4qLmlwclxuXG4jIyMgRWNsaXBzZSAjIyNcbi5hcHRfZ2VuZXJhdGVkXG4uY2xhc3NwYXRoXG4uZmFjdG9yeXBhdGhcbi5wcm9qZWN0XG4uc2V0dGluZ3Ncbi5zcHJpbmdCZWFuc1xuLnN0czQtY2FjaGVcblxuIyMjIE5ldEJlYW5zICMjI1xuL25icHJvamVjdC9wcml2YXRlL1xuL25iYnVpbGQvXG4vZGlzdC9cbi9uYmRpc3QvXG4vLm5iLWdyYWRsZS9cbmJ1aWxkL1xuISoqL3NyYy9tYWluLyoqL2J1aWxkL1xuISoqL3NyYy90ZXN0LyoqL2J1aWxkL1xuXG4jIyMgVlMgQ29kZSAjIyNcbi52c2NvZGUvXG5cbiMjIyBNYWMgT1MgIyMjXG4uRFNfU3RvcmUuLi5cblBhdGg6IHNyYy9tYWluL2phdmEvZW50aXRpZXMvUGVyc29ubmUuamF2YVxucGFja2FnZSBlbnRpdGllcztcblxucHVibGljIGNsYXNzIFBlcnNvbm5lIHtcbiAgICBwcml2YXRlIGludCBpZDtcbiAgICBwcml2YXRlIFN0cmluZyBub207XG4gICAgcHJpdmF0ZSBTdHJpbmcgcHJlbm9tO1xuICAgIHByaXZhdGUgaW50IGFnZTtcblxuICAgIHB1YmxpYyBQZXJzb25uZSgpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGVyc29ubmUoU3RyaW5nIG5vbSwgU3RyaW5nIHByZW5vbSwgaW50IGFnZSkge1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWdlID0gYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBQZXJzb25uZShpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBwcmVub20sIGludCBhZ2UpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWdlID0gYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Tm9tKCkge1xuICAgICAgICByZXR1cm4gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE5vbShTdHJpbmcgbm9tKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJlbm9tKCkge1xuICAgICAgICByZXR1cm4gcHJlbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFByZW5vbShTdHJpbmcgcHJlbm9tKSB7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0QWdlKCkge1xuICAgICAgICByZXR1cm4gYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEFnZShpbnQgYWdlKSB7XG4gICAgICAgIHRoaXMuYWdlID0gYWdlO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIlBlcnNvbm5le1wiICtcbiAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgICAgICAgICAgICAgIFwiLCBub209J1wiICsgbm9tICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBwcmVub209J1wiICsgcHJlbm9tICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBhZ2U9XCIgKyBhZ2UgK1xuICAgICAgICAgICAgICAgICd9JztcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvTG9naW5TZXJ2aWNlLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXM7XG5cbmltcG9ydCBvcmcubWluZHJvdC5qYmNyeXB0LkJDcnlwdDtcbmltcG9ydCBkZS5ta2FtbWVyZXIuYXJnb24yLkFyZ29uMjtcbmltcG9ydCBkZS5ta2FtbWVyZXIuYXJnb24yLkFyZ29uMkZhY3Rvcnk7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC51dGlscy5NeURhdGFiYXNlO1xuXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS51dGlsLkFycmF5cztcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxucHVibGljIGNsYXNzIExvZ2luU2VydmljZSB7XG4gICAgcHJpdmF0ZSBmaW5hbCBDb25uZWN0aW9uIGNvbm5lY3Rpb247XG5cbiAgICBwdWJsaWMgTG9naW5TZXJ2aWNlKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuICAgIH1cbi4uLlxuXG4gICAgICAgICAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCdVUkwgZGUgbCdpbWFnZSBzaSBkaXNwb25pYmxlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGltYWdlVXJsID0gcnMuZ2V0U3RyaW5nKFwiaW1hZ2VVcmxcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVVybCAhPSBudWxsICYmICFpbWFnZVVybC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuc2V0SW1hZ2VVcmwoaW1hZ2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGEgY29sb25uZSBpbWFnZVVybCBuJ2V4aXN0ZSBwZXV0LcOqdHJlIHBhcyBkYW5zIGxhIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkF2ZXJ0aXNzZW1lbnQ6IEltcG9zc2libGUgZGUgcsOpY3Vww6lyZXIgbCdVUkwgZGUgbCdpbWFnZTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdXNlci5zZXRSb2xlKHJvbGVzKTsgIC8vIEFzc2lnbmVyIGxlcyByw7RsZXMgw6AgbCd1dGlsaXNhdGV1clxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gVXRpbGlzYXRldXIgbm9uIHRyb3V2w6lcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyIGxvZ2luKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIHVzZXIgV0hFUkUgZW1haWwgPSA/XCI7XG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcbiAgICAgICAgICAgIFJlc3VsdFNldCBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KCk7XG4uLi5cblxuICAgICAgICAgICAgICAgIC8vIFbDqXJpZmllciBsZSBtb3QgZGUgcGFzc2UgYXZlYyBBcmdvbjJpZFxuICAgICAgICAgICAgICAgIEFyZ29uMiBhcmdvbjIgPSBBcmdvbjJGYWN0b3J5LmNyZWF0ZShBcmdvbjJGYWN0b3J5LkFyZ29uMlR5cGVzLkFSR09OMmlkKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnb24yLnZlcmlmeShzdG9yZWRQYXNzd29yZCwgcGFzc3dvcmQudG9DaGFyQXJyYXkoKSkpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyByb2xlU3RyaW5nID0gcnMuZ2V0U3RyaW5nKFwicm9sZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgTGlzdDxTdHJpbmc+IHJvbGVzID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb2xlU3RyaW5nICE9IG51bGwgJiYgIXJvbGVTdHJpbmcuaXNFbXB0eSgpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVzID0gQXJyYXlzLmFzTGlzdChyb2xlU3RyaW5nLnNwbGl0KFwiLFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXR0b3llciBsZXMgZXNwYWNlcyDDqXZlbnR1ZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlcy5yZXBsYWNlQWxsKFN0cmluZzo6dHJpbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRJbnQoXCJpZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJub21cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwiZW1haWxcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwicHJlbm9tXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcImFkcmVzc2VcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwidGVsZXBob25lXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldEJvb2xlYW4oXCJpc192ZXJpZmllZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXREYXRlKFwiY3JlYXRlZF9hdFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRQYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICApO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvUmVnaXN0cmF0aW9uL3JlZ2lzdGVyLmZ4bWxcbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuXG48P2ltcG9ydCBqYXZhZnguZ2VvbWV0cnkuSW5zZXRzPz5cbjw/aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio/PlxuPD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz5cbjw/aW1wb3J0IGphdmFmeC5zY2VuZS5wYWludC5Db2xvcj8+XG48P2ltLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZDdlOThmMzgtY2ZhOS00MTI2LTgwMDAtNjJiY2FjYTEzNTc4O3Rvb2x1X3ZydHhfMDFMbkExSzhZenV5TmM3cm93RURlU1hOIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvTG9naW5TZXJ2aWNlLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXM7XG5cbmltcG9ydCBvcmcubWluZHJvdC5qYmNyeXB0LkJDcnlwdDtcbmltcG9ydCBkZS5ta2FtbWVyZXIuYXJnb24yLkFyZ29uMjtcbmltcG9ydCBkZS5ta2FtbWVyZXIuYXJnb24yLkFyZ29uMkZhY3Rvcnk7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC51dGlscy5NeURhdGFiYXNlO1xuXG5pbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbmltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbmltcG9ydCBqYXZhLnNxbC5SZXN1bHRTZXQ7XG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS51dGlsLkFycmF5cztcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxucHVibGljIGNsYXNzIExvZ2luU2VydmljZSB7XG4gICAgcHJpdmF0ZSBmaW5hbCBDb25uZWN0aW9uIGNvbm5lY3Rpb247XG5cbiAgICBwdWJsaWMgTG9naW5TZXJ2aWNlKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuICAgIH1cbi4uLlxuXG4gICAgICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIHJvbGVTdHJpbmcgPSBycy5nZXRTdHJpbmcoXCJyb2xlXCIpO1xuICAgICAgICAgICAgICAgIExpc3Q8U3RyaW5nPiByb2xlcyA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICAgICAgICAgIGlmIChyb2xlU3RyaW5nICE9IG51bGwgJiYgIXJvbGVTdHJpbmcuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvbGVzID0gQXJyYXlzLmFzTGlzdChyb2xlU3RyaW5nLnNwbGl0KFwiLFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5ldHRveWVyIGxlcyBlc3BhY2VzIMOpdmVudHVlbHNcbiAgICAgICAgICAgICAgICAgICAgcm9sZXMucmVwbGFjZUFsbChTdHJpbmc6OnRyaW0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0SW50KFwiaWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJub21cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJlbWFpbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcInByZW5vbVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcImFkcmVzc2VcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJ0ZWxlcGhvbmVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRCb29sZWFuKFwiaXNfdmVyaWZpZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBycy5nZXREYXRlKFwiY3JlYXRlZF9hdFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwnVVJMIGRlIGwnaW1hZ2Ugc2kgZGlzcG9uaWJsZVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyBpbWFnZVVybCA9IHJzLmdldFN0cmluZyhcImltYWdlVXJsXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VVcmwgIT0gbnVsbCAmJiAhaW1hZ2VVcmwuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyLnNldEltYWdlVXJsKGltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExhIGNvbG9ubmUgaW1hZ2VVcmwgbidleGlzdGUgcGV1dC3DqnRyZSBwYXMgZGFucyBsYSB0YWJsZVxuICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJBdmVydGlzc2VtZW50OiBJbXBvc3NpYmxlIGRlIHLDqWN1cMOpcmVyIGwnVVJMIGRlIGwnaW1hZ2U6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVzZXIuc2V0Um9sZShyb2xlcyk7ICAvLyBBc3NpZ25lciBsZXMgcsO0bGVzIMOgIGwndXRpbGlzYXRldXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIFV0aWxpc2F0ZXVyIG5vbiB0cm91dsOpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlciBsb2dpbihTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gP1wiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygxLCBlbWFpbCk7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeSgpO1xuLi4uXG5cbiAgICAgICAgICAgICAgICAvLyBWw6lyaWZpZXIgbGUgbW90IGRlIHBhc3NlIGF2ZWMgQXJnb24yaWRcbiAgICAgICAgICAgICAgICBBcmdvbjIgYXJnb24yID0gQXJnb24yRmFjdG9yeS5jcmVhdGUoQXJnb24yRmFjdG9yeS5BcmdvbjJUeXBlcy5BUkdPTjJpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ29uMi52ZXJpZnkoc3RvcmVkUGFzc3dvcmQsIHBhc3N3b3JkLnRvQ2hhckFycmF5KCkpKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcgcm9sZVN0cmluZyA9IHJzLmdldFN0cmluZyhcInJvbGVcIik7XG4gICAgICAgICAgICAgICAgICAgIExpc3Q8U3RyaW5nPiByb2xlcyA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9sZVN0cmluZyAhPSBudWxsICYmICFyb2xlU3RyaW5nLmlzRW1wdHkoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlcyA9IEFycmF5cy5hc0xpc3Qocm9sZVN0cmluZy5zcGxpdChcIixcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV0dG95ZXIgbGVzIGVzcGFjZXMgw6l2ZW50dWVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZXMucmVwbGFjZUFsbChTdHJpbmc6OnRyaW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0SW50KFwiaWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0U3RyaW5nKFwibm9tXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcImVtYWlsXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcInByZW5vbVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRTdHJpbmcoXCJhZHJlc3NlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzLmdldFN0cmluZyhcInRlbGVwaG9uZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBycy5nZXRCb29sZWFuKFwiaXNfdmVyaWZpZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnMuZ2V0RGF0ZShcImNyZWF0ZWRfYXRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkUGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSw6ljdXDDqXJlciBsJ1VSTCBkZSBsJ2ltYWdlIHNpIGRpc3BvbmlibGVcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBpbWFnZVVybCA9IHJzLmdldFN0cmluZyhcImltYWdlVXJsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlVXJsICE9IG51bGwgJiYgIWltYWdlVXJsLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuc2V0SW1hZ2VVcmwoaW1hZ2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGEgY29sb25uZSBpbWFnZVVybCBuJ2V4aXN0ZSBwZXV0LcOqdHJlIHBhcyBkYW5zIGxhIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJBdmVydGlzc2VtZW50OiBJbXBvc3NpYmxlIGRlIHLDqWN1cMOpcmVyIGwnVVJMIGRlIGwnaW1hZ2U6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXIuc2V0Um9sZShyb2xlcyk7ICAvLyBBc3NpZ25lciBsZXMgcsO0bGVzIMOgIGwndXRpbGlzYXRldXJcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTUUxFeGNlcHRpb24oXCJNb3QgZGUgcGFzc2UgaW5jb3JyZWN0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNRTEV4Y2VwdGlvbihcIlV0aWxpc2F0ZXVyIG5vbiB0cm91dsOpIGF2ZWMgY2V0IGVtYWlsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gTmV0dG95ZXIgbGVzIGRvbm7DqWVzIHNlbnNpYmxlc1xuICAgICAgICAgICAgaWYgKHBhc3N3b3JkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBBcmdvbjIgYXJnb24yID0gQXJnb24yRmFjdG9yeS5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICBhcmdvbjIud2lwZUFycmF5KHBhc3N3b3JkLnRvQ2hhckFycmF5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0F1dGhTZXJ2aWNlSW1wbC5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnNlcnZpY2VzO1xuXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcblxucHVibGljIGNsYXNzIEF1dGhTZXJ2aWNlSW1wbCB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBBdXRoU2VydmljZUltcGwgaW5zdGFuY2U7XG5cbiAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XG5cbiAgICAvLyBDb25zdHJ1Y3RldXIgcHJpdsOpIHBvdXIgZW1ww6pjaGVyIGwnaW5zdGFuY2lhdGlvbiBkaXJlY3RlXG4gICAgcHJpdmF0ZSBBdXRoU2VydmljZUltcGwoKSB7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBBdXRoU2VydmljZUltcGwgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBBdXRoU2VydmljZUltcGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Q3VycmVudFVzZXIoVXNlciB1c2VyKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB1c2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyIGdldEN1cnJlbnRVc2VyKCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgbG9nb3V0KCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBpc0FkbWluKCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFVzZXIgIT0gbnVsbCAmJiBjdXJyZW50VXNlci5nZXRSb2xlKCkuY29udGFpbnMoXCJBZG1pbmlzdHJhdGV1clwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYm9vbGVhbiBpc1N1cGVyQWRtaW4oKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VXNlciAhPSBudWxsICYmIGN1cnJlbnRVc2VyLmdldFJvbGUoKS5jb250YWlucyhcIlN1cGVyLUFkbWluaXN0cmF0ZXVyXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib29sZWFuIGlzQ2xpZW50KCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFVzZXIgIT0gbnVsbCAmJiBjdXJyZW50VXNlci5nZXRSb2xlKCkuY29udGFpbnMoXCJDbGllbnRcIik7XG4gICAgfVxuXG59Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL1VzZXIuamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcblxuXG5pbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuaW1wb3J0IGphdmEuc3FsLkRhdGU7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5pbXBvcnQgb3JnLm1pbmRyb3QuamJjcnlwdC5CQ3J5cHQ7XG5pbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuXG5cblxuXG5wdWJsaWMgY2xhc3MgVXNlciB7XG5cbiAgICBwcml2YXRlIGludCBpZDtcbiAgICBwcml2YXRlIFN0cmluZyBub207XG4gICAgcHJpdmF0ZSBTdHJpbmcgZW1haWw7XG4gICAgcHJpdmF0ZSBTdHJpbmcgcHJlbm9tO1xuICAgIHByaXZhdGUgU3RyaW5nIGFkcmVzc2U7XG4gICAgcHJpdmF0ZSBTdHJpbmcgdGVsZXBob25lO1xuICAgIHByaXZhdGUgYm9vbGVhbiBpc1ZlcmlmaWVkO1xuICAgIHByaXZhdGUgVGltZXN0YW1wIGNyZWF0ZWRfYXQ7XG4gICAgcHJpdmF0ZSBMaXN0PFN0cmluZz4gcm9sZTtcbiAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICBwcml2YXRlIFN0cmluZyBpbWFnZVVybDtcblxuICAgIC8vIENvbnN0cnVjdG9yXG5cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBEYXRlIGNyZWF0ZWRfYXQsICBTdHJpbmcgcGFzc3dvcmQsIFN0cmluZyBpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gbmV3IFRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7IC8vIFNldCB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7XG4gICAgICAgIC8vIHRoaXMucGFzc3dvcmQgPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcigpIHtcbiAgICAgICAgLy8gIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgIH1cbi4uLlxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZEF0LCBEYXRlIGxhc3RDb25uZXhpb24sIFN0cmluZyBzdG9yZWRIYXNoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkQXQgIT0gbnVsbCA/IG5ldyBUaW1lc3RhbXAoY3JlYXRlZEF0LmdldFRpbWUoKSkgOiBudWxsO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gc3RvcmVkSGFzaDtcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsOyAvLyBQYXIgZMOpZmF1dCwgcGFzIGQnaW1hZ2VcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmFcbi4uLlxuXG5cbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydDtcbmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5zZXJ2aWNlcy5GYWNlUmVjb2duaXRpb25TZXJ2aWNlO1xuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LnNlcnZpY2VzLkxvZ2luU2VydmljZTtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0RmllbGQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZVZpZXc7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5zZXJ2aWNlcy5BdXRoU2VydmljZUltcGw7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMuTG9hZEV4dGVybmFsSW1hZ2U7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMuTmF2aWdhdGlvblV0aWxzO1xuLi4uXG5cbiAgICAgICAgICAgICAgICBpZiAodXNlcklkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciDDoCBwYXJ0aXIgZGUgc29uIElEXG4gICAgICAgICAgICAgICAgICAgIFVzZXIgdXNlciA9IGxvZ2luU2VydmljZS5nZXRVc2VyQnlJZChJbnRlZ2VyLnBhcnNlSW50KHVzZXJJZCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIETDqWZpbmlyIGwndXRpbGlzYXRldXIgYWN0dWVsIGRhbnMgbGUgc2VydmljZSBBdXRoU2VydmljZUltcGxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhTZXJ2aWNlLnNldEN1cnJlbnRVc2VyKHVzZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZmZpY2hlciB1biBtZXNzYWdlIGRlIHN1Y2PDqHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIkNvbm5leGlvbiByw6l1c3NpZSAhIEJpZW52ZW51ZSBcIiArIHVzZXIuZ2V0UHJlbm9tKCkgKyBcIiBcIiArIHVzZXIuZ2V0Tm9tKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXR0b3llciBsZXMgcmVzc291cmNlcyBkZSBsYSB3ZWJjYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYmNhbUNhcHR1cmUuc3RvcENhbWVyYSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOYXZpZ3VlciB2ZXJzIGxlIHRhYmxlYXUgZGUgYm9yZFxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0Rhc2hib2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJVdGlsaXNhdGV1ciBub24gdHJvdXbDqSBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXMuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4uLi5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZHUgZmljaGllciBkJ2luc2NyaXB0aW9uOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgcHJpdmF0ZSB2b2lkIG5hdmlnYXRlVG9EYXNoYm9hcmQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTdHJpbmcgZmlsZVBhdGg7XG4gICAgICAgICAgICBTdHJpbmcgdGl0bGU7XG5cbiAgICAgICAgICAgIGlmIChhdXRoU2VydmljZS5pc1N1cGVyQWRtaW4oKSkge1xuICAgICAgICAgICAgICAgIGZpbGVQYXRoID0gXCJzcmMvbWFpbi9yZXNvdXJjZXMvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2Rhc2hib2FyZC5meG1sXCI7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBcIlN3YXBpZnkgLSBUYWJsZWF1IGRlIGJvcmQgU3VwZXIgQWRtaW5cIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aFNlcnZpY2UuaXNBZG1pbigpKSB7XG4gICAgICAgICAgICAgICAgZmlsZVBhdGggPSBcInNyYy9tYWluL3Jlc291cmNlcy9waTI0MjUvc3dhcHB5X2phdmFmeC9EYXNoYm9hcmQvZGFzaGJvYXJkLmZ4bWxcIjtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IFwiU3dhcGlmeSAtIFRhYmxlYXUgZGUgYm9yZCBBZG1pblwiO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gQ2xpZW50XG4gICAgICAgICAgICAgICAgZmlsZVBhdGggPSBcInNyYy9tYWluL3Jlc291cmNlcy9waTI0MjUvc3dhcHB5X2phdmFmeC9EYXNoYm9hcmQvY2xpZW50X2Rhc2hib2FyZC5meG1sXCI7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBcIlN3YXBpZnkgLSBUYWJsZWF1IGRlIGJvcmQgQ2xpZW50XCI7XG4gICAgICAgICAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvbW9kdWxlLWluZm8uamF2YVxubW9kdWxlIHBpMjQyNS5zd2FwcHlfamF2YWZ4IHtcbiAgICByZXF1aXJlcyBqYXZhZnguY29udHJvbHM7XG4gICAgcmVxdWlyZXMgamF2YWZ4LmZ4bWw7XG4gICAgcmVxdWlyZXMgamF2YWZ4Lm1lZGlhO1xuICAgIHJlcXVpcmVzIGphdmFmeC5zd2luZztcbiAgICByZXF1aXJlcyBqYXZhLnNxbDtcbiAgICByZXF1aXJlcyBqYmNyeXB0O1xuICAgIHJlcXVpcmVzIG15c3FsLmNvbm5lY3Rvci5qO1xuICAgIHJlcXVpcmVzIGRlLm1rYW1tZXJlci5hcmdvbjIubm9saWJzO1xuICAgIHJlcXVpcmVzIG9yZy5qc29uO1xuICAgIHJlcXVpcmVzIHdlYmNhbS5jYXB0dXJlO1xuXG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMgdG8gamF2YWZ4LmJhc2U7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcblxuXG5cbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC50ZXN0cyB0byBqYXZhZnguZnhtbDtcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnRlc3RzO1xuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmNvbnRyb2xsZXJzIHRvIGphdmFmeC5meG1sO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZnguY29udHJvbGxlcnM7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC51dGlscztcbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC51dGlscyB0byBqYXZhZnguZnhtbDtcblxuXG59Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0F1dGhTZXJ2aWNlLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXM7XG5cbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG5cbnB1YmxpYyBpbnRlcmZhY2UgQXV0aFNlcnZpY2U8VD4ge1xuXG4gICAgYm9vbGVhbiBhdXRoZW50aWNhdGUoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHRocm93cyBTUUxFeGNlcHRpb247XG4gICAgdm9pZCByZWdpc3RlcihUIHVzZXIpO1xuICAgIHZvaWQgbG9nb3V0KCk7XG4gICAgYm9vbGVhbiBpc0F1dGhlbnRpY2F0ZWQoKTtcbiAgICBUIGdldEN1cnJlbnRVc2VyKCk7XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvdXRpbHMvTmF2aWdhdGlvblV0aWxzLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHM7XG5cbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcblxuaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG5cbnB1YmxpYyBjbGFzcyBOYXZpZ2F0aW9uVXRpbHMge1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG5hdmlnYXRlVG8oU3RhZ2Ugc3RhZ2UsIFN0cmluZyBmeG1sUGF0aCwgU3RyaW5nIHRpdGxlKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChOYXZpZ2F0aW9uVXRpbHMuY2xhc3MuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3V0aWxzL0xvYWRFeHRlcm5hbEltYWdlLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHM7XG5cbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuXG5pbXBvcnQgamF2YS5pby5GaWxlO1xuXG5wdWJsaWMgY2xhc3MgTG9hZEV4dGVybmFsSW1hZ2Uge1xuXG4gICAgcHVibGljIHN0YXRpYyBJbWFnZSBsb2FkRXh0ZXJuYWxJbWFnZShTdHJpbmcgcGF0aCkge1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJDdXJyZW50IGRpcmVjdG9yeTogXCIgKyBTeXN0ZW0uZ2V0UHJvcGVydHkoXCJ1c2VyLmRpclwiKSk7XG4gICAgICAgIFN0cmluZyBpbWFnZVBhdGggPSBTeXN0ZW0uZ2V0UHJvcGVydHkoXCJ1c2VyLmRpclwiKSArIFwiLy4uL3N3YXBpZnktZGV2L3B1YmxpYy9cIiArIHBhdGg7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvb2tpbmcgZm9yIGltYWdlIGF0OiBcIiArIGltYWdlUGF0aCk7XG4gICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKGltYWdlUGF0aCk7XG4gICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEltYWdlKGZpbGUudG9VUkkoKS50b1N0cmluZygpKTsgLy8gQ29udmVydCB0byBVUklcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkltYWdlIG5vdCBmb3VuZDogXCIgKyBpbWFnZVBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIEhhbmRsZSBtaXNzaW5nIGltYWdlIGNhc2VcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvVG9wYmFyQ29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUxvZ291dCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIETDqWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyXG4gICAgICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcblxuICAgICAgICAgICAgLy8gQ2hhcmdlciBsZSBmaWNoaWVyIEZYTUwgZGlyZWN0ZW1lbnQgw6AgcGFydGlyIGR1IHN5c3TDqG1lIGRlIGZpY2hpZXJzXG4gICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9waTI0MjUvc3dhcHB5X2phdmFmeC9BdXRoZW50aWZpY2F0aW9uL2xvZ2luLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRmljaGllciBkZSBjb25uZXhpb24gdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xuICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgc2VhcmNoRmllbGQuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJGaWNoaWVyIGRlIGNvbm5leGlvbiBub24gdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSU9FeGNlcHRpb24oXCJGaWNoaWVyIEZYTUwgZGUgY29ubmV4aW9uIG5vbiB0cm91dsOpXCIpO1xuICAgICAgICAgICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3V0aWxzL1dlYmNhbUNhcHR1cmUuamF2YVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBEw6ltYXJyZSBsYSBjYXB0dXJlIHZpZMOpby5cbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCBzdGFydENhbWVyYSgpIHtcbiAgICAgICAgaWYgKHJ1bm5pbmcuZ2V0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXNlciBsYSB3ZWJjYW1cbiAgICAgICAgICAgIHdlYmNhbSA9IFdlYmNhbS5nZXREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAod2ViY2FtID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihcIkF1Y3VuZSB3ZWJjYW0gZMOpdGVjdMOpZVwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGxhIHdlYmNhbSBlc3QgZMOpasOgIG91dmVydGUgZXQgbGEgZmVybWVyIHNpIG7DqWNlc3NhaXJlXG4gICAgICAgICAgICBpZiAod2ViY2FtLmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgd2ViY2FtLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIETDqWZpbmlyIGxhIHLDqXNvbHV0aW9uXG4gICAgICAgICAgICB3ZWJjYW0uc2V0Vmlld1NpemUoV2ViY2FtUmVzb2x1dGlvbi5WR0EuZ2V0U2l6ZSgpKTtcblxuICAgICAgICAgICAgLy8gT3V2cmlyIGxhIHdlYmNhbVxuICAgICAgICAgICAgd2ViY2FtLm9wZW4oKTtcblxuICAgICAgICAgICAgLy8gRMOpbWFycmVyIGxhIGNhcHR1cmVcbiAgICAgICAgICAgIHJ1bm5pbmcuc2V0KHRydWUpO1xuICAgICAgICAgICAgdXBkYXRlSW1hZ2VWaWV3KCk7XG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBydW5uaW5nLnNldChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXQgw6Agam91ciBsJ0ltYWdlVmlldyBhdmVjIGwnaW1hZ2UgZGUgbGEgd2ViY2FtLlxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCB1cGRhdGVJbWFnZVZpZXcoKSB7XG4gICAgICAgIFRhc2s8Vm9pZD4gdGFzayA9IG5ldyBUYXNrPD4oKSB7XG4gICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgIHByb3RlY3RlZCBWb2lkIGNhbGwoKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJ1bm5pbmcuZ2V0KCkgJiYgd2ViY2FtICE9IG51bGwgJiYgd2ViY2FtLmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXB0dXJlciBsJ2ltYWdlIGFjdHVlbGxlIGRlIGxhIHdlYmNhbVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWwgQnVmZmVyZWRJbWFnZSBidWZmZXJlZEltYWdlID0gd2ViY2FtLmdldEltYWdlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJlZEltYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsJ0ltYWdlVmlldyBzdXIgbGUgdGhyZWFkIEphdmFGWFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1hZ2UgaW1hZ2UgPSBTd2luZ0ZYVXRpbHMudG9GWEltYWdlKGJ1ZmZlcmVkSW1hZ2UsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVByb3BlcnR5LnNldChpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0dGVuZHJlIHVuIHBldSBhdmFudCBsYSBwcm9jaGFpbmUgY2FwdHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDMzKTsgLy8gfjMwIEZQU1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChJbnRlcnJ1cHRlZEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZy5nZXQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9jb250cm9sbGVycy9DbGllbnROYXZiYXJDb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTG9nb3V0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcbiAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFwic3JjL21haW4vcmVzb3VyY2VzL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0F1dGhlbnRpZmljYXRpb24vbG9naW4uZnhtbFwiKTtcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gbmV3IEZYTUxMb2FkZXIoZmlsZS50b1VSSSgpLnRvVVJMKCkpLmxvYWQoKTtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSAoKGphdmFmeC5zY2VuZS5Ob2RlKSBldmVudC5nZXRTb3VyY2UoKSkuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKG5ldyBTY2VuZShyb290KSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZFBhZ2UoU3RyaW5nIGZ4bWxQYXRoLCBBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXNcIiArIGZ4bWxQYXRoKTtcbiAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBuZXcgRlhNTExvYWRlcihmaWxlLnRvVVJJKCkudG9VUkwoKSkubG9hZCgpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSAoKGphdmFmeC5zY2VuZS5Ob2RlKSBldmVudC5nZXRTb3VyY2UoKSkuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShuZXcgU2NlbmUocm9vdCkpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cbn0uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvRmFjZVJlY29nbml0aW9uU2VydmljZS5qYXZhXG4uLi5cblxuICAgIC8qKlxuICAgICAqIEF1dGhlbnRpZmllIHVuIHV0aWxpc2F0ZXVyIHBhciByZWNvbm5haXNzYW5jZSBmYWNpYWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlRmlsZSBMZSBmaWNoaWVyIGltYWdlIGNvbnRlbmFudCBsZSB2aXNhZ2VcbiAgICAgKiBAcmV0dXJuIEwnaWRlbnRpZmlhbnQgZGUgbCd1dGlsaXNhdGV1ciByZWNvbm51LCBvdSBudWxsIHNpIG5vbiByZWNvbm51XG4gICAgICovXG4gICAgcHVibGljIFN0cmluZyBhdXRoZW50aWNhdGVGYWNlKEZpbGUgaW1hZ2VGaWxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0aXIgbCdpbWFnZSBlbiBCYXNlNjRcbiAgICAgICAgICAgIGJ5dGVbXSBmaWxlQ29udGVudCA9IEZpbGVzLnJlYWRBbGxCeXRlcyhpbWFnZUZpbGUudG9QYXRoKCkpO1xuICAgICAgICAgICAgU3RyaW5nIGVuY29kZWRJbWFnZSA9IEJhc2U2NC5nZXRFbmNvZGVyKCkuZW5jb2RlVG9TdHJpbmcoZmlsZUNvbnRlbnQpO1xuXG4gICAgICAgICAgICAvLyBQcsOpcGFyZXIgbGVzIGRvbm7DqWVzIEpTT05cbiAgICAgICAgICAgIEpTT05PYmplY3QganNvbkRhdGEgPSBuZXcgSlNPTk9iamVjdCgpO1xuICAgICAgICAgICAganNvbkRhdGEucHV0KFwiaW1hZ2VcIiwgZW5jb2RlZEltYWdlKTtcblxuICAgICAgICAgICAgLy8gRW52b3llciBsYSByZXF1w6p0ZSDDoCBsJ0FQSVxuICAgICAgICAgICAgU3RyaW5nIHJlc3BvbnNlID0gc2VuZFBvc3RSZXF1ZXN0KEFQSV9CQVNFX1VSTCArIFwiL2F1dGhlbnRpY2F0ZVwiLCBqc29uRGF0YS50b1N0cmluZygpKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9JU2VydmljZS5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LnNlcnZpY2VzO1xuXG5pbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuXG5wdWJsaWMgaW50ZXJmYWNlIElTZXJ2aWNlPFQ+XG57XG4gICAgdm9pZCBham91dGVyIChUIHQpIHRocm93cyBTUUxFeGNlcHRpb247XG4gICAgdm9pZCBzdXBwcmltZXIgKFQgdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcbiAgICB2b2lkIG1vZGlmaWVyIChUIHQpIHRocm93cyBTUUxFeGNlcHRpb247XG4gICAgTGlzdDxUPiBhZmZpY2hlcigpIHRocm93cyBTUUxFeGNlcHRpb247XG5cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9BZG1pblNlcnZpY2UuamF2YVxuLi4uXG5cbiAgICAgICAgICAgIGlmIChyZXN1bHRTZXQuZ2V0SW50KDEpID09IDApIHsgLy8gQXVjdW4gc3VwZXIgYWRtaW4gdHJvdXbDqVxuICAgICAgICAgICAgICAgIEFyZ29uMiBhcmdvbjIgPSBBcmdvbjJGYWN0b3J5LmNyZWF0ZShBcmdvbjJGYWN0b3J5LkFyZ29uMlR5cGVzLkFSR09OMmlkKTtcblxuXG4gICAgICAgICAgICAgICAgU3RyaW5nIGhhc2hlZFBhc3N3b3JkID0gYXJnb24yLmhhc2goMTAsIDY1NTM2LCAxLCBcInN1cGVyMTIzXCIpO1xuICAgICAgICAgICAgICAgIFN0cmluZyBpbnNlcnRRdWVyeSA9IFwiSU5TRVJUIElOVE8gdXNlciAobm9tLCBwcmVub20sIGVtYWlsLCBwYXNzd29yZCwgY3JlYXRlZF9hdCwgcm9sZSAsIGlzX3ZlcmlmaWVkKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pXCI7XG5cbiAgICAgICAgICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBpbnNlcnRTdG10ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KGluc2VydFF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBpbnNlcnRTdG10LnNldFN0cmluZygxLCBcImFsYXlhXCIpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDIsIFwieW91c3NlZlwiKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRTdG10LnNldFN0cmluZygzLCBcImFkbWluQGV4ZW1wbGUuY29tXCIpO1xuICAgICAgICAgICAgICAgIC8vIEhhY2hhZ2UgZHUgbW90IGRlIHBhc3NlXG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRTdHJpbmcoNCwgaGFzaGVkUGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0VGltZXN0YW1wKDUsIFRpbWVzdGFtcC52YS4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjBlZTc0NDZmLTAwYTUtNGU5OS1iMjY5LWQ2MWUwYWE5NzlkZTt0b29sdV92cnR4XzAxSzlwRkJjSjdIaGMydzNSb3c1alFGZiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL0V2ZW50LmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG5cbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcblxucHVibGljIGNsYXNzIEV2ZW50IHtcblxuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgVXNlciBvcmduaXNlcjtcbiAgICBwcml2YXRlIFN0cmluZyB0aXRsZTtcbiAgICBwcml2YXRlIFN0cmluZyBkZXNjcmlwdGlvbjtcbiAgICBwcml2YXRlIERhdGUgZGF0ZV9kZWJ1dDtcbiAgICBwcml2YXRlIERhdGUgZGF0ZV9maW47XG4gICAgcHJpdmF0ZSBpbnQgbWF4X3BhcnRpY2lwYW50cztcbiAgICBwcml2YXRlIFN0cmluZyBzdGF0dXM7XG4gICAgcHJpdmF0ZSBTdHJpbmcgaW1hZ2U7XG5cbiAgICBwdWJsaWMgRXZlbnQoaW50IGlkLCBVc2VyIG9yZ25pc2VyLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBkZXNjcmlwdGlvbiwgRGF0ZSBkYXRlX2RlYnV0LCBEYXRlIGRhdGVfZmluLCBpbnQgbWF4X3BhcnRpY2lwYW50cywgU3RyaW5nIHN0YXR1cywgU3RyaW5nIGltYWdlKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5vcmduaXNlciA9IG9yZ25pc2VyO1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBFdmVudChVc2VyIG9yZ25pc2VyLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBkZXNjcmlwdGlvbiwgRGF0ZSBkYXRlX2RlYnV0LCBEYXRlIGRhdGVfZmluLCBpbnQgbWF4X3BhcnRpY2lwYW50cywgU3RyaW5nIHN0YXR1cywgU3RyaW5nIGltYWdlKSB7XG4gICAgICAgIHRoaXMub3JnbmlzZXIgPSBvcmduaXNlcjtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZGF0ZV9kZWJ1dCA9IGRhdGVfZGVidXQ7XG4gICAgICAgIHRoaXMuZGF0ZV9maW4gPSBkYXRlX2ZpbjtcbiAgICAgICAgdGhpcy5tYXhfcGFydGljaXBhbnRzID0gbWF4X3BhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgRXZlbnQoKSB7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIgZ2V0T3JnbmlzZXIoKSB7XG4gICAgICAgIHJldHVybiBvcmduaXNlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRPcmduaXNlcihVc2VyIG9yZ25pc2VyKSB7XG4gICAgICAgIHRoaXMub3JnbmlzZXIgPSBvcmduaXNlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0VGl0bGUoU3RyaW5nIHRpdGxlKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGVzY3JpcHRpb24oU3RyaW5nIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgRGF0ZSBnZXREYXRlX2RlYnV0KCkge1xuICAgICAgICByZXR1cm4gZGF0ZV9kZWJ1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXREYXRlX2RlYnV0KERhdGUgZGF0ZV9kZWJ1dCkge1xuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xuICAgIH1cblxuICAgIHB1YmxpYyBEYXRlIGdldERhdGVfZmluKCkge1xuICAgICAgICByZXR1cm4gZGF0ZV9maW47XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0RGF0ZV9maW4oRGF0ZSBkYXRlX2Zpbikge1xuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRNYXhfcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gbWF4X3BhcnRpY2lwYW50cztcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRNYXhfcGFydGljaXBhbnRzKGludCBtYXhfcGFydGljaXBhbnRzKSB7XG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRTdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0U3RhdHVzKFN0cmluZyBzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRJbWFnZSgpIHtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldEltYWdlKFN0cmluZyBpbWFnZSkge1xuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiRXZlbnR7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG9yZ25pc2VyPVwiICsgb3JnbmlzZXIgK1xuICAgICAgICAgICAgICAgIFwiLCB0aXRsZT0nXCIgKyB0aXRsZSArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgZGVzY3JpcHRpb249J1wiICsgZGVzY3JpcHRpb24gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGRhdGVfZGVidXQ9XCIgKyBkYXRlX2RlYnV0ICtcbiAgICAgICAgICAgICAgICBcIiwgZGF0ZV9maW49XCIgKyBkYXRlX2ZpbiArXG4gICAgICAgICAgICAgICAgXCIsIG1heF9wYXJ0aWNpcGFudHM9XCIgKyBtYXhfcGFydGljaXBhbnRzICtcbiAgICAgICAgICAgICAgICBcIiwgc3RhdHVzPSdcIiArIHN0YXR1cyArICdcXCcnICtcbiAgICAgICAgICAgICAgICBcIiwgaW1hZ2U9J1wiICsgaW1hZ2UgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgJ30nO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9BZGRBZG1pblNlcnZpY2UuamF2YVxuLi4uXG4gICAgICAgIFxuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIklOU0VSVCBJTlRPIHVzZXIgKG5vbSwgcHJlbm9tLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzc2UsIHRlbGVwaG9uZSwgaXNfdmVyaWZpZWQsIHJvbGUsIGNyZWF0ZWRfYXQsIGltYWdlVXJsKSBcIiArXG4gICAgICAgICAgICAgICAgXCJWQUxVRVMgKD8sID8sID8sID8sID8sID8sIDEsID8sID8sID8pXCI7XG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSwgUHJlcGFyZWRTdGF0ZW1lbnQuUkVUVVJOX0dFTkVSQVRFRF9LRVlTKSkge1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMSwgdXNlci5nZXROb20oKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygyLCB1c2VyLmdldFByZW5vbSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDMsIHVzZXIuZ2V0RW1haWwoKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZyg0LCB1c2VyLmdldFBhc3N3b3JkKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNSwgdXNlci5nZXRBZHJlc3NlKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNiwgdXNlci5nZXRUZWxlcGhvbmUoKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZyg3LCBcIkFkbWluaXN0cmF0ZXVyXCIpOyAvLyBVdGlsaXNlciBleGFjdGVtZW50IFwiQWRtaW5pc3RyYXRldXJcIlxuICAgICAgICAgICAgLy8gRMOpZmluaXIgbGEgZGF0ZSBkZSBjcsOpYXRpb24gc2kgZWxsZSBuJ2VzdCBwYXMgZMOpasOgIGTDqWZpbmllXG4gICAgICAgICAgICBpZiAodXNlci5nZXRDcmVhdGVkX2F0KCkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHVzZXIuc2V0Q3JlYXRlZF9hdChuZXcgamF2YS5zcWwuVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG10LnNldFRpbWVzdGFtcCg4LCB1c2VyLmdldENyZWF0ZWRfYXQoKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZyg5LCB1c2VyLmdldEltYWdlVXJsKCkpO1xuXG4gICAgICAgICAgICAvLyBMb2cgcG91ciBkw6lib2d1ZXJcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlRlbnRhdGl2ZSBkJ2Fqb3V0IGQndW4gYWRtaW5pc3RyYXRldXIgYXZlYyBsZXMgZG9ubsOpZXMgc3VpdmFudGVzIDpcIik7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJOb206IFwiICsgdXNlci5nZXROb20oKSk7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFbWFpbDogXCIgKyB1c2VyLmdldEVtYWlsKCkpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsO0bGU6IEFkbWluaXN0cmF0ZXVyXCIpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNfdmVyaWZpZWQ6IDFcIik7XG5cbiAgICAgICAgICAgIGludCByb3dzQWZmZWN0ZWQgPSBzdG10LmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk5vbWJyZSBkZSBsaWduZXMgYWZmZWN0w6llcyA6IFwiICsgcm93c0FmZmVjdGVkKTtcblxuICAgICAgICAgICAgLy8gVsOpcmlmaWVyIGxlIHLDtGxlIGFwcsOocyBsJ2luc2VydGlvblxuICAgICAgICAgICAgaWYgKHJvd3NBZmZlY3RlZCA+IDApIHtcbiAgICAgICAgICAgICAgICB0cnkgKFJlc3VsdFNldCBnZW5lcmF0ZWRLZXlzID0gc3RtdC5nZXRHZW5lcmF0ZWRLZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdlbmVyYXRlZEtleXMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnQgdXNlcklkID0gZ2VuZXJhdGVkS2V5cy5nZXRJbnQoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgY2hlY2tSb2xlUXVlcnkgPSBcIlNFTEVDVCByb2xlLCBpc192ZXJpZmllZCBGUk9NIHVzZXIgV0hFUkUgaWQgPSA/XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IGNoZWNrU3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChjaGVja1JvbGVRdWVyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja1N0bXQuc2V0SW50KDEsIHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzdWx0U2V0IHJzID0gY2hlY2tTdG10LmV4ZWN1dGVRdWVyeSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGFjdHVhbFJvbGUgPSBycy5nZXRTdHJpbmcoXCJyb2xlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sZWFuIGlzVmVyaWZpZWQgPSBycy5nZXRCb29sZWFuKFwiaXNfdmVyaWZpZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlLDtGxlIGVucmVnaXN0csOpIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llcyA6IFwiICsgYWN0dWFsUm9sZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzX3ZlcmlmaWVkIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llcyA6IFwiICsgaXNWZXJpZmllZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBjaGVja0VtYWlsRXhpc3RzKFN0cmluZyBlbWFpbCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUIGVtYWlsIEZST00gdXNlciBXSEVSRSBlbWFpbCA9ID9cIjtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSk7XG4gICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcbiAgICAgICAgUmVzdWx0U2V0IHJzID0gc3RtdC5leGVjdXRlUXVlcnkoKTtcblxuICAgICAgICBpZiAocnMubmV4dCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJMJ2VtYWlsIGVzdCBkw6lqw6AgdXRpbGlzw6kgIVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgY2hlY2tQaG9uZUV4aXN0cyhTdHJpbmcgdGVsZXBob25lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgdGVsZXBob25lIEZST00gdXNlciBXSEVSRSB0ZWxlcGhvbmUgPSA/XCI7XG4gICAgICAgIFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpO1xuICAgICAgICBzdG10LnNldFN0cmluZygxLCB0ZWxlcGhvbmUpO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeSgpO1xuXG4gICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkxlIHTDqWzDqXBob25lIGVzdCBkw6lqw6AgdXRpbGlzw6kgIVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9zZXJ2aWNlcy9SZWdpc3RlclNlcnZpY2UuamF2YVxuLi4uXG5cbiAgICBwdWJsaWMgdm9pZCByZWdpc3RlcihVc2VyIHVzZXIpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIklOU0VSVCBJTlRPIHVzZXIgKG5vbSwgcHJlbm9tLCBlbWFpbCwgcGFzc3dvcmQsIGFkcmVzc2UsIHRlbGVwaG9uZSwgaXNfdmVyaWZpZWQsIGNyZWF0ZWRfYXQsIGltYWdlVXJsKSBcIiArXG4gICAgICAgICAgICAgICAgXCJWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sID8pXCI7XG4gICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIHVzZXIuZ2V0Tm9tKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMiwgdXNlci5nZXRQcmVub20oKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygzLCB1c2VyLmdldEVtYWlsKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNCwgdXNlci5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDUsIHVzZXIuZ2V0QWRyZXNzZSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDYsIHVzZXIuZ2V0VGVsZXBob25lKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRCb29sZWFuKDcsIHVzZXIuaXNWZXJpZmllZCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0VGltZXN0YW1wKDgsIHVzZXIuZ2V0Q3JlYXRlZF9hdCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDksIHVzZXIuZ2V0SW1hZ2VVcmwoKSk7XG4gICAgICAgICAgICBzdG10LmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgU3RyaW5nIGNoZWNrRW1haWxFeGlzdHMoU3RyaW5nIGVtYWlsKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgZW1haWwgRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gP1wiO1xuICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBzdG10ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KTtcbiAgICAgICAgc3RtdC5zZXRTdHJpbmcoMSwgZW1haWwpO1xuICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeSgpO1xuXG4gICAgICAgIGlmIChycy5uZXh0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkwnZW1haWwgZXN0IGTDqWrDoCB1dGlsaXPDqSAhXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBjaGVja1Bob25lRXhpc3RzKFN0cmluZyB0ZWxlcGhvbmUpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcXVlcnkgPSBcIlNFTEVDVCB0ZWxlcGhvbmUgRlJPTSB1c2VyIFdIRVJFIHRlbGVwaG9uZSA9ID9cIjtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSk7XG4gICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIHRlbGVwaG9uZSk7XG4gICAgICAgIFJlc3VsdFNldCBycyA9IHN0bXQuZXhlY3V0ZVF1ZXJ5KCk7XG5cbiAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiTGUgdMOpbMOpcGhvbmUgZXN0IGTDqWrDoCB1dGlsaXPDqSAhXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUsOpY3Vww6hyZSBsJ0lEIGQndW4gdXRpbGlzYXRldXIgw6AgcGFydGlyIGRlIHNvbiBlbWFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbWFpbCBMJ2VtYWlsIGRlIGwndXRpbGlzYXRldXJcbiAgICAgKiBAcmV0dXJuIEwnSUQgZGUgbCd1dGlsaXNhdGV1clxuICAgICAqIEB0aHJvd3MgU1FMRXhjZXB0aW9uIEVuIGNhcyBkJ2VycmV1ciBTUUxcbiAgICAgKi9cbiAgICBwdWJsaWMgaW50IGdldFVzZXJJZEJ5RW1haWwoU3RyaW5nIGVtYWlsKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgaWQgRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gP1wiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpKSB7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygxLCBlbWFpbCk7XG4gICAgICAgICAgICBSZXN1bHRTZXQgcnMgPSBzdG10LmV4ZWN1dGVRdWVyeSgpO1xuICAgICAgICAgICAgaWYgKHJzLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBycy5nZXRJbnQoXCJpZFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNRTEV4Y2VwdGlvbihcIlV0aWxpc2F0ZXVyIG5vbiB0cm91dsOpIGF2ZWMgY2V0IGVtYWlsOiBcIiArIGVtYWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyAxLiBTdXBwcmltZXIgbGVzIGRvbm7DqWVzIGZhY2lhbGVzIGRlIGwnQVBJXG4gICAgICAgICAgICBGYWNlUmVjb2duaXRpb25TZXJ2aWNlIGZhY2VTZXJ2aWNlID0gbmV3IEZhY2VSZWNvZ25pdGlvblNlcnZpY2UoKTtcbiAgICAgICAgICAgIGJvb2xlYW4gZmFjZURlbGV0ZWQgPSBmYWNlU2VydmljZS5kZWxldGVGYWNlKFN0cmluZy52YWx1ZU9mKHVzZXJJZCkpO1xuXG4gICAgICAgICAgICBpZiAoIWZhY2VEZWxldGVkKSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQXZlcnRpc3NlbWVudDogSW1wb3NzaWJsZSBkZSBzdXBwcmltZXIgbGVzIGRvbm7DqWVzIGZhY2lhbGVzIHBvdXIgbCd1dGlsaXNhdGV1ciBcIiArIHVzZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDIuIFN1cHByaW1lciBsJ3V0aWxpc2F0ZXVyIGRlIGxhIGJhc2UgZGUgZG9ubsOpZXNcbiAgICAgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiREVMRVRFIEZST00gdXNlciBXSEVSRSBpZCA9ID9cIjtcbiAgICAgICAgICAgIHRyeSAoUHJlcGFyZWRTdGF0ZW1lbnQgc3RtdCA9IGNvbm5lY3Rpb24ucHJlcGFyZVN0YXRlbWVudChxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICBzdG10LnNldEludCgxLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIGludCByb3dzQWZmZWN0ZWQgPSBzdG10LmV4ZWN1dGVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gKHJvd3NBZmZlY3RlZCA+IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTUUxFeGNlcHRpb24oXCJFcnJldXIgbG9ycyBkZSBsYSBzdXBwcmVzc2lvbiBkdSBjb21wdGU6IFwiICsgZS5nZXRNZXNzYWdlKCksIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG59Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0ZhY2VSZWNvZ25pdGlvblNlcnZpY2UuamF2YVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBWw6lyaWZpZSBzaSB1biB2aXNhZ2UgZXN0IGTDqWrDoCBlbnJlZ2lzdHLDqSBkYW5zIGxlIHN5c3TDqG1lXG4gICAgICogQHBhcmFtIG5ld0ZhY2VJbWFnZSBMZSBmaWNoaWVyIGltYWdlIGR1IG5vdXZlYXUgdmlzYWdlXG4gICAgICogQHJldHVybiB0cnVlIHNpIGxlIHZpc2FnZSBleGlzdGUgZMOpasOgLCBmYWxzZSBzaW5vblxuICAgICAqL1xuICAgIHB1YmxpYyBib29sZWFuIGlzRmFjZUFscmVhZHlSZWdpc3RlcmVkKEZpbGUgbmV3RmFjZUltYWdlKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVsOpcmlmaWNhdGlvbiBzaSBsZSB2aXNhZ2UgZXhpc3RlIGTDqWrDoC4uLlwiKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkZpY2hpZXIgaW1hZ2U6IFwiICsgbmV3RmFjZUltYWdlLmdldEFic29sdXRlUGF0aCgpKTtcblxuICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGxlIGZpY2hpZXIgZXhpc3RlXG4gICAgICAgICAgICBpZiAoIW5ld0ZhY2VJbWFnZS5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVSUkVVUjogTGUgZmljaGllciBpbWFnZSBuJ2V4aXN0ZSBwYXMhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9jb250cm9sbGVycy9DbGllbnRDb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwU2VhcmNoKCkge1xuICAgICAgICBpZiAoc2VhcmNoRmllbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQ3LDqWVyIHVuZSBsaXN0ZSBmaWx0csOpZVxuICAgICAgICAgICAgRmlsdGVyZWRMaXN0PFVzZXI+IGZpbHRlcmVkRGF0YSA9IG5ldyBGaWx0ZXJlZExpc3Q8PihjbGllbnRMaXN0LCBwIC0+IHRydWUpO1xuXG4gICAgICAgICAgICAvLyBBam91dGVyIHVuIMOpY291dGV1ciBwb3VyIGxlIGNoYW1wIGRlIHJlY2hlcmNoZVxuICAgICAgICAgICAgc2VhcmNoRmllbGQudGV4dFByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkRGF0YS5zZXRQcmVkaWNhdGUodXNlciAtPiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGxlIGNoYW1wIGRlIHJlY2hlcmNoZSBlc3QgdmlkZSwgYWZmaWNoZXIgdG91cyBsZXMgdXRpbGlzYXRldXJzXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG5ld1ZhbHVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9jb250cm9sbGVycy9BZG1pbkNvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIE9ic2VydmFibGVMaXN0PFVzZXI+IGFkbWluTGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpO1xuICAgIHByaXZhdGUgZmluYWwgQ29ubmVjdGlvbiBjb25uZWN0aW9uID0gTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICAgICAgUGxhdGZvcm0ucnVuTGF0ZXIoKCkgLT4ge1xuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIG1haW5MYXlvdXQuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFdpZHRoKHN0YWdlLmdldFdpZHRoKCkgKyAwLjEpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0V2lkdGgoc3RhZ2UuZ2V0V2lkdGgoKSk7XG5cblxuICAgICAgICAgICAgZm9yIChOb2RlIG5vZGUgOiBtYWluTGF5b3V0Lmxvb2t1cEFsbChcIlRleHRGaWVsZFwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dEZpZWxkICYmICgoVGV4dEZpZWxkKSBub2RlKS5nZXRQcm9tcHRUZXh0KCkgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAoKFRleHRGaWVsZCkgbm9kZSkuZ2V0UHJvbXB0VGV4dCgpLmNvbnRhaW5zKFwiUmVjaGVyY2hlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hGaWVsZCA9IChUZXh0RmllbGQpIG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHNldHVwU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cFNlYXJjaCgpIHtcbiAgICAgICAgaWYgKHNlYXJjaEZpZWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIENyw6llciB1bmUgbGlzdGUgZmlsdHLDqWVcbiAgICAgICAgICAgIEZpbHRlcmVkTGlzdDxVc2VyPiBmaWx0ZXJlZERhdGEgPSBuZXcgRmlsdGVyZWRMaXN0PD4oYWRtaW5MaXN0LCBwIC0+IHRydWUpO1xuXG4gICAgICAgICAgICAvLyBBam91dGVyIHVuIMOpY291dGV1ciBwb3VyIGxlIGNoYW1wIGRlIHJlY2hlcmNoZVxuICAgICAgICAgICAgc2VhcmNoRmllbGQudGV4dFByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkRGF0YS5zZXRQcmVkaWNhdGUodXNlciAtPiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGxlIGNoYW1wIGRlIHJlY2hlcmNoZSBlc3QgdmlkZSwgYWZmaWNoZXIgdG91cyBsZXMgdXRpbGlzYXRldXJzXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG5ld1ZhbHVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQWRkQWRtaW5QYWdlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2hhcmdlciBsZSBmaWNoaWVyIEZYTUwgZGlyZWN0ZW1lbnQgw6AgcGFydGlyIGR1IHN5c3TDqG1lIGRlIGZpY2hpZXJzXG4gICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9waTI0MjUvc3dhcHB5X2phdmFmeC9EYXNoYm9hcmQvYWRkQWRtaW4uZnhtbFwiKTtcblxuICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJGaWNoaWVyIGQnYWpvdXQgZCdhZG1pbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAgICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuXG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSBuZXcgU3RhZ2UoKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkFqb3V0ZXIgdW4gQWRtaW5pc3RyYXRldXJcIik7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUobmV3IFNjZW5lKHJvb3QpKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkZpY2hpZXIgZCdham91dCBkJ2FkbWluIG5vbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJT0V4Y2VwdGlvbihcIkZpY2hpZXIgRlhNTCBkJ2Fqb3V0IGQnYWRtaW4gbm9uIHRyb3V2w6lcIik7XG4gICAgICAgICAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvdXRpbHMvTXlEYXRhYmFzZS5qYXZhXG4uLi5cblxuICAgIHB1YmxpYyBDb25uZWN0aW9uIGdldENvbm5lY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBWw6lyaWZpZXIgc2kgbGEgY29ubmV4aW9uIGVzdCBmZXJtw6llIG91IGludmFsaWRlXG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbiA9PSBudWxsIHx8IGNvbm5lY3Rpb24uaXNDbG9zZWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIFLDqXRhYmxpciBsYSBjb25uZXhpb25cbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gRHJpdmVyTWFuYWdlci5nZXRDb25uZWN0aW9uKFVSbCwgVVNFUk5BTUUsIFBBU1NXT1JEKTtcbiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSZWNvbm5lY3RlZCB0byBkYXRhYmFzZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgLy8gRXNzYXllciBkZSByw6l0YWJsaXIgbGEgY29ubmV4aW9uXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBEcml2ZXJNYW5hZ2VyLmdldENvbm5lY3Rpb24oVVJsLCBVU0VSTkFNRSwgUEFTU1dPUkQpO1xuICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlJlY29ubmVjdGVkIHRvIGRhdGFiYXNlIGFmdGVyIGVycm9yXCIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRmFpbGVkIHRvIHJlY29ubmVjdDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9jb250cm9sbGVycy9BZGRBZG1pbkNvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBtYWluTGF5b3V0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRXaWR0aChzdGFnZS5nZXRXaWR0aCgpICsgMC4xKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFdpZHRoKHN0YWdlLmdldFdpZHRoKCkpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHtcbiAgICAgICAgICAgIGZvciAoTm9kZSBub2RlIDogbWFpbkxheW91dC5sb29rdXBBbGwoXCJCdXR0b25cIikpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBCdXR0b24gYnV0dG9uID0gKEJ1dHRvbikgbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5nZXRUZXh0KCkuZXF1YWxzKFwiQW5udWxlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldE9uQWN0aW9uKGV2ZW50IC0+IGhhbmRsZUNhbmNlbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2FuY2VsKCkge1xuICAgICAgICAvLyBSZWRpcmVjdGlvbiB2ZXJzIGxhIGxpc3RlIGRlcyBhZG1pbnNcbiAgICAgICAgbG9hZFBhZ2UoXCIvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2FkbWluTGlzdC5meG1sXCIpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9zZXJ2aWNlcy9TZXJ2aWNlUGVyc29ubmUuamF2YVxucGFja2FnZSBzZXJ2aWNlcztcblxuaW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG5cbmltcG9ydCBqYXZhLnNxbC4qO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBjbGFzcyBTZXJ2aWNlUGVyc29ubmUgaW1wbGVtZW50cyBJU2VydmljZTxQZXJzb25uZT4ge1xuICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcbiAgICBwdWJsaWMgU2VydmljZVBlcnNvbm5lKCkge1xuICAgICAgICBjb25uZWN0aW9uPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuXG4gICAgfVxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGFqb3V0ZXIoUGVyc29ubmUgcGVyc29ubmUpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcmVxID1cIklOU0VSVCBJTlRPIHBlcnNvbm5lKG5vbSwgcHJlbm9tLCBhZ2UpIFZBTFVFUyAoJ1wiK3BlcnNvbm5lLmdldE5vbSgpK1wiJywnXCIrcGVyc29ubmUuZ2V0UHJlbm9tKCkrXCInLFwiK3BlcnNvbm5lLmdldEFnZSgpK1wiKVwiO1xuICAgICAgICBTdGF0ZW1lbnQgc3RhdGVtZW50PWNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKHJlcSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcInBlcnNvbm5lIGFqb3V0w6lcIik7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2NvbnRyb2xsZXJzL0NsaWVudE5hdmJhckNvbnRyb2xsZXIuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBDbGllbnROYXZiYXJDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIEF1dGhTZXJ2aWNlSW1wbCBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlSW1wbC5nZXRJbnN0YW5jZSgpO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlSG9tZShBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICBsb2FkUGFnZShcIi9waTI0MjUvc3dhcHB5X2phdmFmeC9EYXNoYm9hcmQvY2xpZW50X2Rhc2hib2FyZC5meG1sXCIsIGV2ZW50KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVFeGNoYW5nZXMoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgbG9hZFBhZ2UoXCIvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2NsaWVudF9leGNoYW5nZXMuZnhtbFwiLCBldmVudCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTWVzc2FnZXMoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgbG9hZFBhZ2UoXCIvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2NsaWVudF9tZXNzYWdlcy5meG1sXCIsIGV2ZW50KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVQcm9maWxlKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGxvYWRQYWdlKFwiL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9jbGllbnRfcHJvZmlsZS5meG1sXCIsIGV2ZW50KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvY29udHJvbGxlcnMvU2lkZWJhckNvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBhY3RpdmVTdHlsZSA9IFwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XCI7XG4gICAgcHJpdmF0ZSBmaW5hbCBTdHJpbmcgaW5hY3RpdmVTdHlsZSA9IFwiLWZ4LWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1wiO1xuICAgIHByaXZhdGUgZmluYWwgU3RyaW5nIGFjdGl2ZVN1YkJ1dHRvblN0eWxlID0gXCItZngtYmFja2dyb3VuZC1jb2xvcjogIzNBNEY2NjsgLWZ4LXRleHQtZmlsbDogI2ZmZmZmZjtcIjtcbiAgICBwcml2YXRlIGZpbmFsIFN0cmluZyBpbmFjdGl2ZVN1YkJ1dHRvblN0eWxlID0gXCItZngtYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IC1meC10ZXh0LWZpbGw6ICNjY2NjY2M7XCI7XG5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZURhc2hib2FyZENsaWNrKCkge1xuICAgICAgICBzZXRBY3RpdmVCdXR0b24oZGFzaGJvYXJkQnV0dG9uLCBkYXNoYm9hcmRIQm94KTtcbiAgICAgICAgbG9hZFBhZ2UoXCIvcGkyNDI1L3N3YXBweV9qYXZhZngvRGFzaGJvYXJkL2Rhc2hib2FyZC5meG1sXCIpO1xuICAgIH1cblxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlQWRkQWRtaW5DbGljaygpIHtcbiAgICAgICAgc2V0QWN0aXZlQnV0dG9uKGFkZEFkbWluQnV0dG9uLCB1c2VySEJveCk7XG4gICAgICAgIGxvYWRQYWdlKFwiL3BpMjQyNS9zd2FwcHlfamF2YWZ4L0Rhc2hib2FyZC9hZGRBZG1pbi5meG1sXCIpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9waTI0MjUvc3dhcHB5X2phdmFmeC9lbnRpdGllcy9Vc2VyLmphdmFcbi4uLlxuXG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgRGF0ZSBjcmVhdGVkX2F0LCAgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgICAgIHRoaXMuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOyAvLyBTZXQgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpO1xuICAgICAgICAvLyB0aGlzLnBhc3N3b3JkID0gaGFzaFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoKSB7XG4gICAgICAgIC8vICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICB9XG4uLi5cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBEYXRlIGNyZWF0ZWRBdCwgRGF0ZSBsYXN0Q29ubmV4aW9uLCBTdHJpbmcgc3RvcmVkSGFzaCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZEF0ICE9IG51bGwgPyBuZXcgVGltZXN0YW1wKGNyZWF0ZWRBdC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHN0b3JlZEhhc2g7XG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gbnVsbDsgLy8gUGFyIGTDqWZhdXQsIHBhcyBkJ2ltYWdlXG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2NvbnRyb2xsZXJzL0Rhc2hib2FyZENvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIGZpbmFsIFN0cmluZ1tdIGRlc2NyaXB0aW9ucyA9IHtcbiAgICAgICAgXCJDb21tZSBuZXVmXCIsIFwiUGV1IHV0aWxpc8OpXCIsIFwiw4l0YXQgcGFyZmFpdFwiLFxuICAgICAuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlYzNmOWU2ZS0xMTBhLTQ4NTEtOGE4Yy1hZjQwMWI2ODQzZGE7dG9vbHVfdnJ0eF8wMTNXcjdieVdwTkd6MWtkekFvS24xMmsiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5FdmVudDtcbiAgICAgNVx0aW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG4gICAgIDZcdFxuICAgICA3XHRpbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuICAgICA4XHRpbXBvcnQgamF2YS51dGlsLkRhdGU7XG4gICAgIDlcdFxuICAgIDEwXHRwdWJsaWMgY2xhc3MgTWFpbiB7XG4gICAgMTFcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSAge1xuICAgIDEyXHQgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgMTNcdCAgICAgICAgdHJ5IHtcbiAgICAxNFx0ICAgICAgICAgICAgLy8gQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXNcbiAgICAxNVx0ICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICAxNlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXMgw6l0YWJsaWVcIik7XG4gICAgMTdcdFxuICAgIDE4XHQgICAgICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDE5XHQgICAgICAgICAgICB0ZXN0RW50aXRpZXMoKTtcbiAgICAyMFx0XG4gICAgMjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyMlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXJyZXVyOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAyM1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyNFx0ICAgICAgICB9XG4gICAgMjVcdCAgICB9XG4gICAgMjZcdFxuICAgIDI3XHQgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XG4gICAgMjhcdCAgICAgICAgLy8gQ3LDqWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxuICAgIDI5XHQgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAgMzBcdCAgICAgICAgdXNlci5zZXROb20oXCJEb2VcIik7XG4gICAgMzFcdCAgICAgICAgdXNlci5zZXRQcmVub20oXCJKb2huXCIpO1xuICAgIDMyXHQgICAgICAgIHVzZXIuc2V0RW1haWwoXCJqb2huLmRvZUBleGFtcGxlLmNvbVwiKTtcbiAgICAzM1x0XG4gICAgMzRcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICAzNVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjcsOpw6k6IFwiICsgdXNlcik7XG4gICAgMzZcdFxuICAgIDM3XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIMOpdsOpbmVtZW50IGRlIHRlc3RcbiAgICAzOFx0ICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xuICAgIDM5XHQgICAgICAgIGV2ZW50LnNldFRpdGxlKFwiw4l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0MFx0ICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcIkRlc2NyaXB0aW9uIGRlIGwnw6l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0MVx0ICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KG5ldyBEYXRlKCkpO1xuICAgIDQyXHQgICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xuICAgIDQzXHRcbiAgICA0NFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCfDqXbDqW5lbWVudFxuICAgIDQ1XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsOJdsOpbmVtZW50IGNyw6nDqTogXCIgKyBldmVudCk7XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgICAgIC8vIFRlc3QgZGUgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgIDQ4XHQgICAgICAgIFVzZXJTZXNzaW9uIHVzZXJTZXNzaW9uID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKTtcbiAgICA0OVx0ICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICA1MFx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjb25uZWN0w6k6IFwiICsgdXNlclNlc3Npb24uZ2V0Q3VycmVudFVzZXIoKSk7XG4gICAgNTFcdFxuICAgIDUyXHQgICAgICAgIC8vIFRlc3QgZGUgcsOpc2VydmF0aW9uIGQnw6l2w6luZW1lbnRcbiAgICA1M1x0ICAgICAgICBSZXNlcnZlckV2ZW50IHJlc2VydmF0aW9uID0gbmV3IFJlc2VydmVyRXZlbnQoKTtcbiAgICA1NFx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRVc2VyKHVzZXIpO1xuICAgIDU1XHQgICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcbiAgICA1Nlx0ICAgICAgICByZXNlcnZhdGlvbi5zZXREYXRlUmVzZXJ2YXRpb24obmV3IERhdGUoKSk7XG4gICAgNTdcdFxuICAgIDU4XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICA1OVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSw6lzZXJ2YXRpb24gY3LDqcOpZTogXCIgKyByZXNlcnZhdGlvbik7XG4gICAgNjBcdCAgICB9XG4gICAgNjFcdH1cbiAgICA2Mlx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjczZWE5OGRjLTJjY2YtNDQ2OS05ZDE1LTg2NDAyOTc1ZWQ5Mjt0b29sdV92cnR4XzAxTUtwVXRHY2RaUkRUdmFnUE1qWmlnMyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5MDY3MjMxYi05ZDQxLTQ1ZDEtOTM2ZC1iZTUyYzg0MGI4OWI7dG9vbHVfdnJ0eF8wMVJhTXA5cDR0RWJwWnM4Ylh0QVp1S1AiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYTMyNWMxMWMtNjExOC00NGI4LTg1ODUtYjc1NzhhNTRiOTU4O3Rvb2x1X3ZydHhfMDFHOW45TTJVeFFoS0NEcWh5QzRyVE4yIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvRXZlbnQuamF2YVxucGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcblxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xuXG5wdWJsaWMgY2xhc3MgRXZlbnQge1xuXG4gICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgcHJpdmF0ZSBVc2VyIG9yZ25pc2VyO1xuICAgIHByaXZhdGUgU3RyaW5nIHRpdGxlO1xuICAgIHByaXZhdGUgU3RyaW5nIGRlc2NyaXB0aW9uO1xuICAgIHByaXZhdGUgRGF0ZSBkYXRlX2RlYnV0O1xuICAgIHByaXZhdGUgRGF0ZSBkYXRlX2ZpbjtcbiAgICBwcml2YXRlIGludCBtYXhfcGFydGljaXBhbnRzO1xuICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1cztcbiAgICBwcml2YXRlIFN0cmluZyBpbWFnZTtcblxuICAgIHB1YmxpYyBFdmVudChpbnQgaWQsIFVzZXIgb3JnbmlzZXIsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBEYXRlIGRhdGVfZGVidXQsIERhdGUgZGF0ZV9maW4sIGludCBtYXhfcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzLCBTdHJpbmcgaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm9yZ25pc2VyID0gb3JnbmlzZXI7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmRhdGVfZGVidXQgPSBkYXRlX2RlYnV0O1xuICAgICAgICB0aGlzLmRhdGVfZmluID0gZGF0ZV9maW47XG4gICAgICAgIHRoaXMubWF4X3BhcnRpY2lwYW50cyA9IG1heF9wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIEV2ZW50KFVzZXIgb3JnbmlzZXIsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGRlc2NyaXB0aW9uLCBEYXRlIGRhdGVfZGVidXQsIERhdGUgZGF0ZV9maW4sIGludCBtYXhfcGFydGljaXBhbnRzLCBTdHJpbmcgc3RhdHVzLCBTdHJpbmcgaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5vcmduaXNlciA9IG9yZ25pc2VyO1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kYXRlX2RlYnV0ID0gZGF0ZV9kZWJ1dDtcbiAgICAgICAgdGhpcy5kYXRlX2ZpbiA9IGRhdGVfZmluO1xuICAgICAgICB0aGlzLm1heF9wYXJ0aWNpcGFudHMgPSBtYXhfcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBFdmVudCgpIHtcblxuICAgIH1cblxuICAgIHB1YmxpYyBpbnQgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlciBnZXRPcmduaXNlcigpIHtcbiAgICAgICAgcmV0dXJuIG9yZ25pc2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE9yZ25pc2VyKFVzZXIgb3JnbmlzZXIpIHtcbiAgICAgICAgdGhpcy5vcmduaXNlciA9IG9yZ25pc2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRUaXRsZShTdHJpbmcgdGl0bGUpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9XG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIkV2ZW50e1wiICtcbiAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgICAgICAgICAgICAgIFwiLCBvcmduaXNlcj1cIiArIG9yZ25pc2VyICtcbiAgICAgICAgICAgICAgICBcIiwgdGl0bGU9J1wiICsgdGl0bGUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGRlc2NyaXB0aW9uPSdcIiArIGRlc2NyaXB0aW9uICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBkYXRlX2RlYnV0PVwiICsgZGF0ZV9kZWJ1dCArXG4gICAgICAgICAgICAgICAgXCIsIGRhdGVfZmluPVwiICsgZGF0ZV9maW4gK1xuICAgICAgICAgICAgICAgIFwiLCBtYXhfcGFydGljaXBhbnRzPVwiICsgbWF4X3BhcnRpY2lwYW50cyArXG4gICAgICAgICAgICAgICAgXCIsIHN0YXR1cz0nXCIgKyBzdGF0dXMgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGltYWdlPSdcIiArIGltYWdlICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgICd9JztcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvZW50aXRpZXMvVXNlci5qYXZhXG5wYWNrYWdlIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzO1xuXG5cbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS5zcWwuRGF0ZTtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbmltcG9ydCBvcmcubWluZHJvdC5qYmNyeXB0LkJDcnlwdDtcbmltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG5cblxuXG5cbnB1YmxpYyBjbGFzcyBVc2VyIHtcblxuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICBwcml2YXRlIFN0cmluZyBlbWFpbDtcbiAgICBwcml2YXRlIFN0cmluZyBwcmVub207XG4gICAgcHJpdmF0ZSBTdHJpbmcgYWRyZXNzZTtcbiAgICBwcml2YXRlIFN0cmluZyB0ZWxlcGhvbmU7XG4gICAgcHJpdmF0ZSBib29sZWFuIGlzVmVyaWZpZWQ7XG4gICAgcHJpdmF0ZSBUaW1lc3RhbXAgY3JlYXRlZF9hdDtcbiAgICBwcml2YXRlIExpc3Q8U3RyaW5nPiByb2xlO1xuICAgIHByaXZhdGUgU3RyaW5nIHBhc3N3b3JkO1xuICAgIHByaXZhdGUgU3RyaW5nIGltYWdlVXJsO1xuXG4gICAgLy8gQ29uc3RydWN0b3JcblxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZF9hdCwgIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIGltYWdlVXJsKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBuZXcgVGltZXN0YW1wKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTsgLy8gU2V0IHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTtcbiAgICAgICAgLy8gdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKCkge1xuICAgICAgICAvLyAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoU3RyaW5nIG5vbSwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgdGVsZXBob25lLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIC8vIHRoaXMucGFzc3dvcmQgPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBmYWxzZTsgLy8gRGVmYXVsdCB2YWx1ZSBmb3IgbmV3IHVzZXJzXG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IG5ldyBUaW1lc3RhbXAoU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpOyAvLyBTZXQgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgcHVibGljIFVzZXIoaW50IGlkLCBTdHJpbmcgbm9tLCBTdHJpbmcgZW1haWwsIFN0cmluZyBwcmVub20sIFN0cmluZyBhZHJlc3NlLCBTdHJpbmcgdGVsZXBob25lLCBib29sZWFuIGlzVmVyaWZpZWQsIERhdGUgY3JlYXRlZEF0LCBEYXRlIGxhc3RDb25uZXhpb24sIFN0cmluZyBzdG9yZWRIYXNoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgICAgICB0aGlzLmlzVmVyaWZpZWQgPSBpc1ZlcmlmaWVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkQXQgIT0gbnVsbCA/IG5ldyBUaW1lc3RhbXAoY3JlYXRlZEF0LmdldFRpbWUoKSkgOiBudWxsO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gc3RvcmVkSGFzaDtcbiAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsOyAvLyBQYXIgZMOpZmF1dCwgcGFzIGQnaW1hZ2VcbiAgICB9XG5cbiAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgRGF0ZSBjcmVhdGVkQXQsIFN0cmluZyBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZEF0ICE9IG51bGwgPyBuZXcgVGltZXN0YW1wKGNyZWF0ZWRBdC5nZXRUaW1lKCkpIDogbnVsbDtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLnJvbGUgPSBuZXcgQXJyYXlMaXN0PD4oKTtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IG51bGw7IC8vIFBhciBkw6lmYXV0LCBwYXMgZCdpbWFnZVxuICAgIH1cblxuICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgIFRpbWVzdGFtcCBjcmVhdGVkQXQsIFN0cmluZyBpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gbmV3IFRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7IC8vIFNldCB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0Tm9tKCkge1xuICAgICAgICByZXR1cm4gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldE5vbShTdHJpbmcgbm9tKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWwoKSB7XG4gICAgICAgIHJldHVybiBlbWFpbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHtcbiAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgIH1cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0UHJlbm9tKCkge1xuICAgICAgICByZXR1cm4gcHJlbm9tO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldFByZW5vbShTdHJpbmcgcHJlbm9tKSB7XG4gICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIH1cblxuXG4gICAgcHVibGljIFN0cmluZyBnZXRBZHJlc3NlKCkge1xuICAgICAgICByZXR1cm4gYWRyZXNzZTtcbiAgICB9XG4uLi5cblxuICAgIC8qKlxuICAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgICAgdGhpcy5wYXNzd29yZCA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgIH1cbiAgICAgKi9cblxuICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2VVcmwoKSB7XG4gICAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdm9pZCBzZXRJbWFnZVVybChTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBcIlVzZXJ7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG5vbT0nXCIgKyBub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGVtYWlsPSdcIiArIGVtYWlsICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBwcmVub209J1wiICsgcHJlbm9tICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBhZHJlc3NlPSdcIiArIGFkcmVzc2UgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIHRlbGVwaG9uZT0nXCIgKyB0ZWxlcGhvbmUgKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGlzVmVyaWZpZWQ9XCIgKyBpc1ZlcmlmaWVkICtcbiAgICAgICAgICAgICAgICBcIiwgY3JlYXRlZF9hdD1cIiArIGNyZWF0ZWRfYXQgK1xuICAgICAgICAgICAgICAgIFwiLCByb2xlPVwiICsgcm9sZSArXG4gICAgICAgICAgICAgICAgXCIsIHBhc3N3b3JkPSdcIiArIHBhc3N3b3JkICsgJ1xcJycgK1xuICAgICAgICAgICAgICAgIFwiLCBpbWFnZVVybD0nXCIgKyBpbWFnZVVybCArICdcXCcnICtcbiAgICAgICAgICAgICAgICAnfSc7XG4gICAgfVxuXG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvdGVzdHMvUmVzZXJ2ZXJFdmVudC5qYXZhXG5wYWNrYWdlIHRlc3RzO1xuXG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbmltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5FdmVudDtcblxuaW1wb3J0IGphdmEudXRpbC5EYXRlO1xuXG4vKipcbiAqIENsYXNzZSByZXByw6lzZW50YW50IHVuZSByw6lzZXJ2YXRpb24gZCfDqXbDqW5lbWVudFxuICogRmFpdCBsYSBqb2ludHVyZSBlbnRyZSB1biB1dGlsaXNhdGV1ciBldCB1biDDqXbDqW5lbWVudFxuICovXG5wdWJsaWMgY2xhc3MgUmVzZXJ2ZXJFdmVudCB7XG4gICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgcHJpdmF0ZSBVc2VyIHVzZXI7XG4gICAgcHJpdmF0ZSBFdmVudCBldmVudDtcbiAgICBwcml2YXRlIERhdGUgZGF0ZVJlc2VydmF0aW9uO1xuICAgIHByaXZhdGUgU3RyaW5nIHN0YXR1dDsgLy8gUGFyIGV4ZW1wbGU6IFwiY29uZmlybcOpXCIsIFwiZW4gYXR0ZW50ZVwiLCBcImFubnVsw6lcIlxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZXVyIHBhciBkw6lmYXV0XG4gICAgICovXG4gICAgcHVibGljIFJlc2VydmVyRXZlbnQoKSB7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YVxucGFja2FnZSB0ZXN0cztcblxuaW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLlVzZXI7XG5pbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XG5pbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcblxuaW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcblxucHVibGljIGNsYXNzIE1haW4ge1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDb25uZXhpb24gw6AgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuXG4gICAgICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG5cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XG4gICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcbiAgICAgICAgdXNlci5zZXROb20oXCJEb2VcIik7XG4gICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAgICAgdXNlci5zZXRFbWFpbChcImpvaG4uZG9lQGV4YW1wbGUuY29tXCIpO1xuXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNyw6nDqTogXCIgKyB1c2VyKTtcblxuICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgICAgIGV2ZW50LnNldFRpdGxlKFwiw4l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgICAgIGV2ZW50LnNldERhdGVfZGVidXQobmV3IERhdGUoKSk7XG4gICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xuXG4gICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ8OpdsOpbmVtZW50XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsOJdsOpbmVtZW50IGNyw6nDqTogXCIgKyBldmVudCk7XG5cbiAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgICAgIFVzZXJTZXNzaW9uIHVzZXJTZXNzaW9uID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNvbm5lY3TDqTogXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9lbnRpdGllcy9QZXJzb25uZS5qYXZhXG5wYWNrYWdlIGVudGl0aWVzO1xuXG5wdWJsaWMgY2xhc3MgUGVyc29ubmUge1xuICAgIHByaXZhdGUgaW50IGlkO1xuICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICBwcml2YXRlIFN0cmluZyBwcmVub207XG4gICAgcHJpdmF0ZSBpbnQgYWdlO1xuXG4gICAgcHVibGljIFBlcnNvbm5lKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBQZXJzb25uZShTdHJpbmcgbm9tLCBTdHJpbmcgcHJlbm9tLCBpbnQgYWdlKSB7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIFBlcnNvbm5lKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIHByZW5vbSwgaW50IGFnZSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHB1YmxpYyB2b2lkIHNldElkKGludCBpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXROb20oKSB7XG4gICAgICAgIHJldHVybiBub207XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0Tm9tKFN0cmluZyBub20pIHtcbiAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgfVxuXG4gICAgcHVibGljIFN0cmluZyBnZXRQcmVub20oKSB7XG4gICAgICAgIHJldHVybiBwcmVub207XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0UHJlbm9tKFN0cmluZyBwcmVub20pIHtcbiAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgfVxuXG4gICAgcHVibGljIGludCBnZXRBZ2UoKSB7XG4gICAgICAgIHJldHVybiBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIHZvaWQgc2V0QWdlKGludCBhZ2UpIHtcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiUGVyc29ubmV7XCIgK1xuICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAgICAgICAgICAgICAgXCIsIG5vbT0nXCIgKyBub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIHByZW5vbT0nXCIgKyBwcmVub20gKyAnXFwnJyArXG4gICAgICAgICAgICAgICAgXCIsIGFnZT1cIiArIGFnZSArXG4gICAgICAgICAgICAgICAgJ30nO1xuICAgIH1cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9zZXJ2aWNlcy9TZXJ2aWNlUGVyc29ubmUuamF2YVxucGFja2FnZSBzZXJ2aWNlcztcblxuaW1wb3J0IGVudGl0aWVzLlBlcnNvbm5lO1xuaW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG5cbmltcG9ydCBqYXZhLnNxbC4qO1xuaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBjbGFzcyBTZXJ2aWNlUGVyc29ubmUgaW1wbGVtZW50cyBJU2VydmljZTxQZXJzb25uZT4ge1xuICAgIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcbiAgICBwdWJsaWMgU2VydmljZVBlcnNvbm5lKCkge1xuICAgICAgICBjb25uZWN0aW9uPSBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuXG4gICAgfVxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGFqb3V0ZXIoUGVyc29ubmUgcGVyc29ubmUpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgICAgICBTdHJpbmcgcmVxID1cIklOU0VSVCBJTlRPIHBlcnNvbm5lKG5vbSwgcHJlbm9tLCBhZ2UpIFZBTFVFUyAoJ1wiK3BlcnNvbm5lLmdldE5vbSgpK1wiJywnXCIrcGVyc29ubmUuZ2V0UHJlbm9tKCkrXCInLFwiK3BlcnNvbm5lLmdldEFnZSgpK1wiKVwiO1xuICAgICAgICBTdGF0ZW1lbnQgc3RhdGVtZW50PWNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG4gICAgICAgIHN0YXRlbWVudC5leGVjdXRlVXBkYXRlKHJlcSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcInBlcnNvbm5lIGFqb3V0w6lcIik7XG4gICAgfVxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgc3VwcHJpbWVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcblxuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIG1vZGlmaWVyKFBlcnNvbm5lIHBlcnNvbm5lKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgU3RyaW5nIHJlcSA9IFwidXBkYXRlIHBlcnNvbm5lIHNldCBub209PywgcHJlbm9tPT8sIGFnZT0/IHdoZXJlIGlkPT9cIjtcbiAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgcHJlcGFyZWRTdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocmVxKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIHBlcnNvbm5lLmdldE5vbSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0U3RyaW5nKDIsIHBlcnNvbm5lLmdldFByZW5vbSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0SW50KDMsIHBlcnNvbm5lLmdldEFnZSgpKTtcbiAgICAgICAgcHJlcGFyZWRTdGF0ZW1lbnQuc2V0SW50KDQsIHBlcnNvbm5lLmdldElkKCkpO1xuICAgICAgICBwcmVwYXJlZFN0YXRlbWVudC5leGVjdXRlVXBkYXRlKCk7XG5cbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgTGlzdDxQZXJzb25uZT4gYWZmaWNoZXIoKSB0aHJvd3MgU1FMRXhjZXB0aW9uIHtcbiAgICAgICAgTGlzdDxQZXJzb25uZT4gcGVyc29ubmVzID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgICAgIFN0cmluZyByZXEgPSBcInNlbGVjdCAqIGZyb20gcGVyc29ubmVcIjtcbiAgICAgICAgU3RhdGVtZW50IHN0YXRlbWVudCA9IGNvbm5lY3Rpb24uY3JlYXRlU3RhdGVtZW50KCk7XG5cbiAgICAgICBSZXN1bHRTZXQgcnMgPSBzdGF0ZW1lbnQuZXhlY3V0ZVF1ZXJ5KHJlcSk7XG4gICAgICAgd2hpbGUgKHJzLm5leHQoKSkge1xuICAgICAgICAgICBQZXJzb25uZSBwZXJzb25uZSA9IG5ldyBQZXJzb25uZSgpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXRJZChycy5nZXRJbnQoMSkpO1xuICAgICAgICAgICBwZXJzb25uZS5zZXROb20ocnMuZ2V0U3RyaW5nKFwibm9tXCIpKTtcbiAgICAgICAgICAgcGVyc29ubmUuc2V0UHJlbm9tKHJzLmdldFN0cmluZyhcInByZW5vbVwiKSk7XG4gICAgICAgICAgIHBlcnNvbm5lLnNldEFnZShycy5nZXRJbnQoNCkpO1xuICAgICAgICAgICBwZXJzb25uZXMuYWRkKHBlcnNvbm5lKTtcblxuICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBwZXJzb25uZXM7XG4gICAgfVxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL21vZHVsZS1pbmZvLmphdmFcbm1vZHVsZSBwaTI0MjUuc3dhcHB5X2phdmFmeCB7XG4gICAgcmVxdWlyZXMgamF2YWZ4LmNvbnRyb2xzO1xuICAgIHJlcXVpcmVzIGphdmFmeC5meG1sO1xuICAgIHJlcXVpcmVzIGphdmFmeC5tZWRpYTtcbiAgICByZXF1aXJlcyBqYXZhZnguc3dpbmc7XG4gICAgcmVxdWlyZXMgamF2YS5zcWw7XG4gICAgcmVxdWlyZXMgamJjcnlwdDtcbiAgICByZXF1aXJlcyBteXNxbC5jb25uZWN0b3IuajtcbiAgICByZXF1aXJlcyBkZS5ta2FtbWVyZXIuYXJnb24yLm5vbGlicztcbiAgICByZXF1aXJlcyBvcmcuanNvbjtcbiAgICByZXF1aXJlcyB3ZWJjYW0uY2FwdHVyZTtcblxuICAgIG9wZW5zIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzIHRvIGphdmFmeC5iYXNlO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG5cblxuXG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZngudGVzdHMgdG8gamF2YWZ4LmZ4bWw7XG4gICAgZXhwb3J0cyBwaTI0MjUuc3dhcHB5X2phdmFmeC50ZXN0cztcbiAgICBvcGVucyBwaTI0MjUuc3dhcHB5X2phdmFmeC5jb250cm9sbGVycyB0byBqYXZhZnguZnhtbDtcbiAgICBleHBvcnRzIHBpMjQyNS5zd2FwcHlfamF2YWZ4LmNvbnRyb2xsZXJzO1xuICAgIGV4cG9ydHMgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHM7XG4gICAgb3BlbnMgcGkyNDI1LnN3YXBweV9qYXZhZngudXRpbHMgdG8gamF2YWZ4LmZ4bWw7XG5cblxufS4uLlxuUGF0aDogcG9tLnhtbFxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48cHJvamVjdCB4bWxucz1cImh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMFwiXG4gICAgICAgICB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiXG4gICAgICAgICB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAgaHR0cHM6Ly9tYXZlbi5hcGFjaGUub3JnL3hzZC9tYXZlbi00LjAuMC54c2RcIj5cbiAgICA8bW9kZWxWZXJzaW9uPjQuMC4wPC9tb2RlbFZlcnNpb24+XG5cbiAgICA8Z3JvdXBJZD5waTI0MjU8L2dyb3VwSWQ+XG4gICAgPGFydGlmYWN0SWQ+c3dhcHB5X2phdmFGWDwvYXJ0aWZhY3RJZD5cbiAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+XG4gICAgPG5hbWU+c3dhcHB5X2phdmFGWDwvbmFtZT5cblxuICAgIDxwcm9wZXJ0aWVzPlxuICAgICAgICA8cHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5VVEYtODwvcHJvamVjdC5idWlsZC5zb3VyY2VFbmNvZGluZz5cbiAgICAgICAgPGp1bml0LnZlcnNpb24+NS4xMC4yPC9qdW5pdC52ZXJzaW9uPlxuICAgIDwvcHJvcGVydGllcz5cbi4uLlxuICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LW1lZGlhPC9hcnRpZmFjdElkPlxuICAgICAgICAgICAgPHZlcnNpb24+MTcuMC42PC92ZXJzaW9uPlxuICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgICAgIDxkZXBlbmRlbmN5PlxuICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtc3dpbmc8L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICA8dmVyc2lvbj4xNy4wLjY8L3ZlcnNpb24+XG4gICAgICAgIDwvZGVwZW5kZW5jeT5cblxuICAgICAgICA8IS0tIFdlYmNhbSBDYXB0dXJlIEFQSSAtLT5cbiAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgICAgICAgICA8Z3JvdXBJZD5jb20uZ2l0aHViLnNhcnhvczwvZ3JvdXBJZD5cbiAgICAgICAgICAgIDxhcnRpZmFjdElkPndlYmNhbS1jYXB0dXJlPC9hcnRpZmFjdElkPlxuICAgICAgICAgICAgPHZlcnNpb24+MC4zLjEyPC92ZXJzaW9uPlxuICAgICAgICA8L2RlcGVuZGVuY3k+XG5cbiAgICAgICAgPCEtLSBTTEY0SiBJbXBsZW1lbnRhdGlvbiAtLT5cbiAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgICAgICAgICA8Z3JvdXBJZD5vcmcuc2xmNGo8L2dyb3VwSWQ+XG4gICAgICAgICAgICA8YXJ0aWZhY3RJZD5zbGY0ai1zaW1wbGU8L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICA8dmVyc2lvbj4xLjcuMzY8L3ZlcnNpb24+XG4gICAgICAgIDwvZGVwZW5kZW5jeT5cblxuICAgIDwvZGVwZW5kZW5jaWVzPlxuXG4gICAgPGJ1aWxkPlxuICAgICAgICA8cGx1Z2lucz5cbiAgICAgICAgICAgIDxwbHVnaW4+XG4gICAgICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5tYXZlbi5wbHVnaW5zPC9ncm91cElkPlxuICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPm1hdmVuLWNvbXBpbGVyLXBsdWdpbjwvYXJ0aWZhY3RJZD5cbiAgICAgICAgICAgICAgICA8dmVyc2lvbj4zLjEzLjA8L3ZlcnNpb24+XG4gICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2U+MTc8L3NvdXJjZT5cbiAgICAgICAgICAgICAgICAgICAgPHRhcmdldD4xNzwvdGFyZ2V0PlxuXG4gICAgICAgICAgICAgICAgPC9jb25maWd1cmF0aW9uPlxuICAgICAgICAgICAgPC9wbHVnaW4+XG4gICAgICAgICAgICA8cGx1Z2luPlxuICAgICAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICAgICAgPHZlcnNpb24+MC4wLjg8L3ZlcnNpb24+XG4gICAgICAgICAgICAgICAgPGV4ZWN1dGlvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxleGVjdXRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIERlZmF1bHQgY29uZmlndXJhdGlvbiBmb3IgcnVubmluZyB3aXRoOiBtdm4gY2xlYW4gamF2YWZ4OnJ1biAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpZD5kZWZhdWx0LWNsaTwvaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29uZmlndXJhdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWFpbkNsYXNzPnBpMjQyNS5zd2FwcHlfamF2YWZ4L3BpMjQyNS5zd2FwcHlfamF2YWZ4LnRlc3RzLkhlbGxvQXBwbGljYXRpb248L21haW5DbGFzcz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGF1bmNoZXI+YXBwPC9sYXVuY2hlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8amxpbmtaaXBOYW1lPmFwcDwvamxpbmtaaXBOYW1lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxqbGlua0ltYWdlTmFtZT5hcHA8L2psaW5rSW1hZ2VOYW1lPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxub01hblBhZ2VzPnRydWU8L25vTWFuUGFnZXM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cmlwRGVidWc+dHJ1ZTwvc3RyaXBEZWJ1Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bm9IZWFkZXJGaWxlcz50cnVlPC9ub0hlYWRlckZpbGVzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb25maWd1cmF0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbj5cbiAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbnM+XG4gICAgICAgICAgICA8L3BsdWdpbj5cbiAgICAgICAgPC9wbHVnaW5zPlxuICAgIDwvYnVpbGQ+XG48L3Byb2plY3Q+Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0lTZXJ2aWNlLmphdmFcbnBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguc2VydmljZXM7XG5cbmltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG5pbXBvcnQgamF2YS51dGlsLkxpc3Q7XG5cbnB1YmxpYyBpbnRlcmZhY2UgSVNlcnZpY2U8VD5cbntcbiAgICB2b2lkIGFqb3V0ZXIgKFQgdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcbiAgICB2b2lkIHN1cHByaW1lciAoVCB0KSB0aHJvd3MgU1FMRXhjZXB0aW9uO1xuICAgIHZvaWQgbW9kaWZpZXIgKFQgdCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcbiAgICBMaXN0PFQ+IGFmZmljaGVyKCkgdGhyb3dzIFNRTEV4Y2VwdGlvbjtcblxufVxuLi4uXG5QYXRoOiBwb20ueG1sXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbjxwcm9qZWN0IHhtbG5zPVwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wXCJcbiAgICAgICAgIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCJcbiAgICAgICAgIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly9tYXZlbi5hcGFjaGUub3JnL1BPTS80LjAuMCBodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy94c2QvbWF2ZW4tNC4wLjAueHNkXCI+XG4gICAgPG1vZGVsVmVyc2lvbj40LjAuMDwvbW9kZWxWZXJzaW9uPlxuXG4gICAgPGdyb3VwSWQ+b3JnLmV4YW1wbGU8L2dyb3VwSWQ+XG4gICAgPGFydGlmYWN0SWQ+V29ya3Nob3BKREJDM0E2MzwvYXJ0aWZhY3RJZD5cbiAgICA8dmVyc2lvbj4xLjAtU05BUFNIT1Q8L3ZlcnNpb24+XG5cbiAgICA8cHJvcGVydGllcz5cbiAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnNvdXJjZT4xNzwvbWF2ZW4uY29tcGlsZXIuc291cmNlPlxuICAgICAgICA8bWF2ZW4uY29tcGlsZXIudGFyZ2V0PjE3PC9tYXZlbi5jb21waWxlci50YXJnZXQ+XG4gICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDwvcHJvcGVydGllcz5cbiAgICA8ZGVwZW5kZW5jaWVzPlxuICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICAgICAgICAgIDxncm91cElkPm15c3FsPC9ncm91cElkPlxuICAgICAgICAgICAgPGFydGlmYWN0SWQ+bXlzcWwtY29ubmVjdG9yLWphdmE8L2FydGlmYWN0SWQ+XG4gICAgICAgICAgICA8dmVyc2lvbj44LjAuMzM8L3ZlcnNpb24+XG4gICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICA8L2RlcGVuZGVuY2llcz5cblxuXG48L3Byb2plY3Q+Li4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L3NlcnZpY2VzL0FkbWluU2VydmljZS5qYXZhXG4uLi5cblxuICAgICAgICAgICAgaWYgKHJlc3VsdFNldC5nZXRJbnQoMSkgPT0gMCkgeyAvLyBBdWN1biBzdXBlciBhZG1pbiB0cm91dsOpXG4gICAgICAgICAgICAgICAgQXJnb24yIGFyZ29uMiA9IEFyZ29uMkZhY3RvcnkuY3JlYXRlKEFyZ29uMkZhY3RvcnkuQXJnb24yVHlwZXMuQVJHT04yaWQpO1xuXG5cbiAgICAgICAgICAgICAgICBTdHJpbmcgaGFzaGVkUGFzc3dvcmQgPSBhcmdvbjIuaGFzaCgxMCwgNjU1MzYsIDEsIFwic3VwZXIxMjNcIik7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGluc2VydFF1ZXJ5ID0gXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBjcmVhdGVkX2F0LCByb2xlICwgaXNfdmVyaWZpZWQpIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPylcIjtcblxuICAgICAgICAgICAgICAgIFByZXBhcmVkU3RhdGVtZW50IGluc2VydFN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQoaW5zZXJ0UXVlcnkpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDEsIFwiYWxheWFcIik7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRTdHJpbmcoMiwgXCJ5b3Vzc2VmXCIpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDMsIFwiYWRtaW5AZXhlbXBsZS5jb21cIik7XG4gICAgICAgICAgICAgICAgLy8gSGFjaGFnZSBkdSBtb3QgZGUgcGFzc2VcbiAgICAgICAgICAgICAgICBpbnNlcnRTdG10LnNldFN0cmluZyg0LCBoYXNoZWRQYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRUaW1lc3RhbXAoNSwgVGltZXN0YW1wLnZhbHVlT2YoTG9jYWxEYXRlVGltZS5ub3coKSkpO1xuICAgICAgICAgICAgICAgIGluc2VydFN0bXQuc2V0U3RyaW5nKDYsIFwiU3VwZXItQWRtaW5pc3RyYXRldXJcIik7XG4gICAgICAgICAgICAgICAgaW5zZXJ0U3RtdC5zZXRJbnQoNywgMSk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvcGkyNDI1L3N3YXBweV9qYXZhZngvc2VydmljZXMvQWRkQWRtaW5TZXJ2aWNlLmphdmFcbi4uLlxuICAgICAgICBcbiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJJTlNFUlQgSU5UTyB1c2VyIChub20sIHByZW5vbSwgZW1haWwsIHBhc3N3b3JkLCBhZHJlc3NlLCB0ZWxlcGhvbmUsIGlzX3ZlcmlmaWVkLCByb2xlLCBjcmVhdGVkX2F0LCBpbWFnZVVybCkgXCIgK1xuICAgICAgICAgICAgICAgIFwiVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCAxLCA/LCA/LCA/KVwiO1xuICAgICAgICB0cnkgKFByZXBhcmVkU3RhdGVtZW50IHN0bXQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnksIFByZXBhcmVkU3RhdGVtZW50LlJFVFVSTl9HRU5FUkFURURfS0VZUykpIHtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDEsIHVzZXIuZ2V0Tm9tKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoMiwgdXNlci5nZXRQcmVub20oKSk7XG4gICAgICAgICAgICBzdG10LnNldFN0cmluZygzLCB1c2VyLmdldEVtYWlsKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNCwgdXNlci5nZXRQYXNzd29yZCgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDUsIHVzZXIuZ2V0QWRyZXNzZSgpKTtcbiAgICAgICAgICAgIHN0bXQuc2V0U3RyaW5nKDYsIHVzZXIuZ2V0VGVsZXBob25lKCkpO1xuICAgICAgICAgICAgc3RtdC5zZXRTdHJpbmcoNywgXCJBZG1pbmlzdHJhdGV1clwiKTsgLy8gVXRpbGlzZXIgZXhhY3RlbWVudCBcIkFkbWluaXN0cmF0ZXVyXCJcbiAgICAgICAgICAgIC8vIETDqWZpbmlyIGxhIGRhdGUgZGUgY3LDqWF0aW9uIHNpIGVsbGUgbidlc3QgcGFzIGTDqWrDoCBkw6lmaW5pZVxuICAgICAgICAgICAgaWYgKHVzZXIuZ2V0Q3JlYXRlZF9hdCgpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQobmV3IGphdmEuc3FsLlRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSkpO1xuICAgICAgICAgICAgfVxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0MDM2NmRkOS0zNmZjLTQ2NGEtYmNlMy0xMjk5ODU3ZjFkMDk7dG9vbHVfdnJ0eF8wMURjN0w5anNvV3d0RnFzZUU1ano0bmYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYTE3ODQwOWMtOGRmOC00OWE4LTlkODQtZDIxYjhkNTMwODgzO3Rvb2x1X3ZydHhfMDE2VGRpY0FDaXRVeVdUdUNyNktNdFJxIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImNjODgyMzhiLWNlZWItNDU4Mi1iZTMxLWVmOWNkMDJjZmJiZTt0b29sdV92cnR4XzAxVmNuZmg2V2pxUHc0cHFRTndNUUU2TiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDFcdHBhY2thZ2UgdGVzdHM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xuICAgICA1XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlclNlc3Npb247XG4gICAgIDZcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5SZXNlcnZlckV2ZW50O1xuICAgICA3XHRpbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTBcdGltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcbiAgICAxMVx0XG4gICAgMTJcdHB1YmxpYyBjbGFzcyBNYWluIHtcbiAgICAxM1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgMTRcdCAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAxNVx0ICAgICAgICB0cnkge1xuICAgIDE2XHQgICAgICAgICAgICAvLyBDb25uZXhpb24gw6AgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgIDE3XHQgICAgICAgICAgICBNeURhdGFiYXNlLmdldEluc3RhbmNlKCkuZ2V0Q29ubmVjdGlvbigpO1xuICAgIDE4XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJDb25uZXhpb24gw6AgbGEgYmFzZSBkZSBkb25uw6llcyDDqXRhYmxpZVwiKTtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgMjFcdCAgICAgICAgICAgIHRlc3RFbnRpdGllcygpO1xuICAgIDIyXHRcbiAgICAyM1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgIDI0XHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFcnJldXI6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgIDI1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDI2XHQgICAgICAgIH1cbiAgICAyN1x0ICAgIH1cbiAgICAyOFx0XG4gICAgMjlcdCAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHRlc3RFbnRpdGllcygpIHtcbiAgICAzMFx0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biB1dGlsaXNhdGV1ciBkZSB0ZXN0XG4gICAgMzFcdCAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcbiAgICAzMlx0ICAgICAgICB1c2VyLnNldE5vbShcIkRvZVwiKTtcbiAgICAzM1x0ICAgICAgICB1c2VyLnNldFByZW5vbShcIkpvaG5cIik7XG4gICAgMzRcdCAgICAgICAgdXNlci5zZXRFbWFpbChcImpvaG4uZG9lQGV4YW1wbGUuY29tXCIpO1xuICAgIDM1XHRcbiAgICAzNlx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCd1dGlsaXNhdGV1clxuICAgIDM3XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNyw6nDqTogXCIgKyB1c2VyKTtcbiAgICAzOFx0XG4gICAgMzlcdCAgICAgICAgLy8gQ3LDqWF0aW9uIGQndW4gw6l2w6luZW1lbnQgZGUgdGVzdFxuICAgIDQwXHQgICAgICAgIEV2ZW50IGV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgNDFcdCAgICAgICAgZXZlbnQuc2V0VGl0bGUoXCLDiXbDqW5lbWVudCBkZSB0ZXN0XCIpO1xuICAgIDQyXHQgICAgICAgIGV2ZW50LnNldERlc2NyaXB0aW9uKFwiRGVzY3JpcHRpb24gZGUgbCfDqXbDqW5lbWVudCBkZSB0ZXN0XCIpO1xuICAgIDQzXHQgICAgICAgIGV2ZW50LnNldERhdGVfZGVidXQobmV3IERhdGUoKSk7XG4gICAgNDRcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9maW4obmV3IERhdGUoKSk7XG4gICAgNDVcdFxuICAgIDQ2XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ8OpdsOpbmVtZW50XG4gICAgNDdcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiw4l2w6luZW1lbnQgY3LDqcOpOiBcIiArIGV2ZW50KTtcbiAgICA0OFx0XG4gICAgNDlcdCAgICAgICAgLy8gVGVzdCBkZSBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgNTBcdCAgICAgICAgVXNlclNlc3Npb24gdXNlclNlc3Npb24gPSBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpO1xuICAgIDUxXHQgICAgICAgIHVzZXJTZXNzaW9uLnNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICAgIDUyXHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlV0aWxpc2F0ZXVyIGNvbm5lY3TDqTogXCIgKyB1c2VyU2Vzc2lvbi5nZXRDdXJyZW50VXNlcigpKTtcbiAgICA1M1x0XG4gICAgNTRcdCAgICAgICAgLy8gVGVzdCBkZSByw6lzZXJ2YXRpb24gZCfDqXbDqW5lbWVudFxuICAgIDU1XHQgICAgICAgIFJlc2VydmVyRXZlbnQgcmVzZXJ2YXRpb24gPSBuZXcgUmVzZXJ2ZXJFdmVudCgpO1xuICAgIDU2XHQgICAgICAgIHJlc2VydmF0aW9uLnNldFVzZXIodXNlcik7XG4gICAgNTdcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RXZlbnQoZXZlbnQpO1xuICAgIDU4XHQgICAgICAgIHJlc2VydmF0aW9uLnNldERhdGVSZXNlcnZhdGlvbihuZXcgRGF0ZSgpKTtcbiAgICA1OVx0XG4gICAgNjBcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDYxXHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIlLDqXNlcnZhdGlvbiBjcsOpw6llOiBcIiArIHJlc2VydmF0aW9uKTtcbiAgICA2Mlx0ICAgIH1cbiAgICA2M1x0fVxuICAgIDY0XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOGQyNjdiM2UtMTQ2OC00OTRiLWI4OTYtNDQyY2I4NGQxYTg0O3Rvb2x1X3ZydHhfMDE4SjR3Mm9Falpmc1JwS0dHTkJCM0E2Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjk3Y2RmMjJiLWJkMTMtNDYzOS1hN2QxLWFjODVmZWYzYjRkMjt0b29sdV92cnR4XzAxNmhqUVA0OUc2TENOd01ydmVYNDJtbSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiIiLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIzNGY0Mzc1OS1iOWM4LTQ1ZjgtODM1Zi0wODFhMGQ1NDZiNjg7dG9vbHVfdnJ0eF8wMUhkb2hGZVNKWFVUa0szeW1INGt1UTciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL1Jlc2VydmVyRXZlbnQuamF2YTpcbiAgICAgMVx0cGFja2FnZSBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcbiAgICAgNFx0XG4gICAgIDVcdC8qKlxuICAgICA2XHQgKiBDbGFzc2UgcmVwcsOpc2VudGFudCB1bmUgcsOpc2VydmF0aW9uIGQnw6l2w6luZW1lbnRcbiAgICAgN1x0ICogRmFpdCBsYSBqb2ludHVyZSBlbnRyZSB1biB1dGlsaXNhdGV1ciBldCB1biDDqXbDqW5lbWVudFxuICAgICA4XHQgKi9cbiAgICAgOVx0cHVibGljIGNsYXNzIFJlc2VydmVyRXZlbnQge1xuICAgIDEwXHQgICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgMTFcdCAgICBwcml2YXRlIFVzZXIgdXNlcjtcbiAgICAxMlx0ICAgIHByaXZhdGUgRXZlbnQgZXZlbnQ7XG4gICAgMTNcdCAgICBwcml2YXRlIERhdGUgZGF0ZVJlc2VydmF0aW9uO1xuICAgIDE0XHQgICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHV0OyAvLyBQYXIgZXhlbXBsZTogXCJjb25maXJtw6lcIiwgXCJlbiBhdHRlbnRlXCIsIFwiYW5udWzDqVwiXG4gICAgMTVcdFxuICAgIDE2XHQgICAgLyoqXG4gICAgMTdcdCAgICAgKiBDb25zdHJ1Y3RldXIgcGFyIGTDqWZhdXRcbiAgICAxOFx0ICAgICAqL1xuICAgIDE5XHQgICAgcHVibGljIFJlc2VydmVyRXZlbnQoKSB7XG4gICAgMjBcdCAgICB9XG4gICAgMjFcdFxuICAgIDIyXHQgICAgLyoqXG4gICAgMjNcdCAgICAgKiBDb25zdHJ1Y3RldXIgYXZlYyB0b3VzIGxlcyBwYXJhbcOodHJlc1xuICAgIDI0XHQgICAgICogQHBhcmFtIGlkIElkZW50aWZpYW50IGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDI1XHQgICAgICogQHBhcmFtIHVzZXIgVXRpbGlzYXRldXIgcXVpIHLDqXNlcnZlXG4gICAgMjZcdCAgICAgKiBAcGFyYW0gZXZlbnQgw4l2w6luZW1lbnQgcsOpc2VydsOpXG4gICAgMjdcdCAgICAgKiBAcGFyYW0gZGF0ZVJlc2VydmF0aW9uIERhdGUgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgMjhcdCAgICAgKiBAcGFyYW0gc3RhdHV0IFN0YXR1dCBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICAyOVx0ICAgICAqL1xuICAgIDMwXHQgICAgcHVibGljIFJlc2VydmVyRXZlbnQoaW50IGlkLCBVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xuICAgIDMxXHQgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAzMlx0ICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgIDMzXHQgICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAzNFx0ICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcbiAgICAzNVx0ICAgICAgICB0aGlzLnN0YXR1dCA9IHN0YXR1dDtcbiAgICAzNlx0ICAgIH1cbiAgICAzN1x0XG4gICAgMzhcdCAgICAvKipcbiAgICAzOVx0ICAgICAqIENvbnN0cnVjdGV1ciBzYW5zIGlkIChwb3VyIGxlcyBub3V2ZWxsZXMgcsOpc2VydmF0aW9ucylcbiAgICA0MFx0ICAgICAqIEBwYXJhbSB1c2VyIFV0aWxpc2F0ZXVyIHF1aSByw6lzZXJ2ZVxuICAgIDQxXHQgICAgICogQHBhcmFtIGV2ZW50IMOJdsOpbmVtZW50IHLDqXNlcnbDqVxuICAgIDQyXHQgICAgICogQHBhcmFtIGRhdGVSZXNlcnZhdGlvbiBEYXRlIGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDQzXHQgICAgICogQHBhcmFtIHN0YXR1dCBTdGF0dXQgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNDRcdCAgICAgKi9cbiAgICA0NVx0ICAgIHB1YmxpYyBSZXNlcnZlckV2ZW50KFVzZXIgdXNlciwgRXZlbnQgZXZlbnQsIERhdGUgZGF0ZVJlc2VydmF0aW9uLCBTdHJpbmcgc3RhdHV0KSB7XG4gICAgNDZcdCAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICA0N1x0ICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgNDhcdCAgICAgICAgdGhpcy5kYXRlUmVzZXJ2YXRpb24gPSBkYXRlUmVzZXJ2YXRpb247XG4gICAgNDlcdCAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XG4gICAgNTBcdCAgICB9XG4gICAgNTFcdFxuICAgIDUyXHQgICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXG4gICAgNTNcdCAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgIDU0XHQgICAgICAgIHJldHVybiBpZDtcbiAgICA1NVx0ICAgIH1cbiAgICA1Nlx0XG4gICAgNTdcdCAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHtcbiAgICA1OFx0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgNTlcdCAgICB9XG4gICAgNjBcdFxuICAgIDYxXHQgICAgcHVibGljIFVzZXIgZ2V0VXNlcigpIHtcbiAgICA2Mlx0ICAgICAgICByZXR1cm4gdXNlcjtcbiAgICA2M1x0ICAgIH1cbiAgICA2NFx0XG4gICAgNjVcdCAgICBwdWJsaWMgdm9pZCBzZXRVc2VyKFVzZXIgdXNlcikge1xuICAgIDY2XHQgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdFxuICAgIDY5XHQgICAgcHVibGljIEV2ZW50IGdldEV2ZW50KCkge1xuICAgIDcwXHQgICAgICAgIHJldHVybiBldmVudDtcbiAgICA3MVx0ICAgIH1cbiAgICA3Mlx0XG4gICAgNzNcdCAgICBwdWJsaWMgdm9pZCBzZXRFdmVudChFdmVudCBldmVudCkge1xuICAgIDc0XHQgICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICA3NVx0ICAgIH1cbiAgICA3Nlx0XG4gICAgNzdcdCAgICBwdWJsaWMgRGF0ZSBnZXREYXRlUmVzZXJ2YXRpb24oKSB7XG4gICAgNzhcdCAgICAgICAgcmV0dXJuIGRhdGVSZXNlcnZhdGlvbjtcbiAgICA3OVx0ICAgIH1cbiAgICA4MFx0XG4gICAgODFcdCAgICBwdWJsaWMgdm9pZCBzZXREYXRlUmVzZXJ2YXRpb24oRGF0ZSBkYXRlUmVzZXJ2YXRpb24pIHtcbiAgICA4Mlx0ICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcbiAgICA4M1x0ICAgIH1cbiAgICA4NFx0XG4gICAgODVcdCAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1dCgpIHtcbiAgICA4Nlx0ICAgICAgICByZXR1cm4gc3RhdHV0O1xuICAgIDg3XHQgICAgfVxuICAgIDg4XHRcbiAgICA4OVx0ICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1dChTdHJpbmcgc3RhdHV0KSB7XG4gICAgOTBcdCAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XG4gICAgOTFcdCAgICB9XG4gICAgOTJcdFxuICAgIDkzXHQgICAgQE92ZXJyaWRlXG4gICAgOTRcdCAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xuICAgIDk1XHQgICAgICAgIHJldHVybiBcIlJlc2VydmVyRXZlbnR7XCIgK1xuICAgIDk2XHQgICAgICAgICAgICAgICAgXCJpZD1cIiArIGlkICtcbiAgICA5N1x0ICAgICAgICAgICAgICAgIFwiLCB1c2VyPVwiICsgdXNlciArXG4gICAgOThcdCAgICAgICAgICAgICAgICBcIiwgZXZlbnQ9XCIgKyBldmVudCArXG4gICAgOTlcdCAgICAgICAgICAgICAgICBcIiwgZGF0ZVJlc2VydmF0aW9uPVwiICsgZGF0ZVJlc2VydmF0aW9uICtcbiAgIDEwMFx0ICAgICAgICAgICAgICAgIFwiLCBzdGF0dXQ9J1wiICsgc3RhdHV0ICsgJ1xcJycgK1xuICAgMTAxXHQgICAgICAgICAgICAgICAgJ30nO1xuICAgMTAyXHQgICAgfVxuICAgMTAzXHR9XG4gICAxMDRcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTA0XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3Y2EwYmM0Mi00NjY2LTQ3YTMtOWJiYy01NmE3MWRkOTJmNmU7dG9vbHVfdnJ0eF8wMVRFWG9SNWdFQ1RXOUFjMkNjZzVvWEYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL3BpMjQyNS9zd2FwcHlfamF2YWZ4L2VudGl0aWVzL1VzZXJTZXNzaW9uLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXM7XG4gICAgIDJcdFxuICAgICAzXHQvKipcbiAgICAgNFx0ICogQ2xhc3NlIHNpbmdsZXRvbiBwb3VyIGfDqXJlciBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgIDVcdCAqL1xuICAgICA2XHRwdWJsaWMgY2xhc3MgVXNlclNlc3Npb24ge1xuICAgICA3XHQgICAgcHJpdmF0ZSBzdGF0aWMgVXNlclNlc3Npb24gaW5zdGFuY2U7XG4gICAgIDhcdCAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XG4gICAgIDlcdFxuICAgIDEwXHQgICAgLy8gQ29uc3RydWN0ZXVyIHByaXbDqSBwb3VyIGVtcMOqY2hlciBsJ2luc3RhbmNpYXRpb24gZGlyZWN0ZVxuICAgIDExXHQgICAgcHJpdmF0ZSBVc2VyU2Vzc2lvbigpIHtcbiAgICAxMlx0ICAgIH1cbiAgICAxM1x0XG4gICAgMTRcdCAgICAvKipcbiAgICAxNVx0ICAgICAqIE9idGllbnQgbCdpbnN0YW5jZSB1bmlxdWUgZGUgVXNlclNlc3Npb25cbiAgICAxNlx0ICAgICAqIEByZXR1cm4gTCdpbnN0YW5jZSBkZSBVc2VyU2Vzc2lvblxuICAgIDE3XHQgICAgICovXG4gICAgMThcdCAgICBwdWJsaWMgc3RhdGljIFVzZXJTZXNzaW9uIGdldEluc3RhbmNlKCkge1xuICAgIDE5XHQgICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgMjBcdCAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IFVzZXJTZXNzaW9uKCk7XG4gICAgMjFcdCAgICAgICAgfVxuICAgIDIyXHQgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAyM1x0ICAgIH1cbiAgICAyNFx0XG4gICAgMjVcdCAgICAvKipcbiAgICAyNlx0ICAgICAqIETDqWZpbml0IGwndXRpbGlzYXRldXIgYWN0dWVsbGVtZW50IGNvbm5lY3TDqVxuICAgIDI3XHQgICAgICogQHBhcmFtIHVzZXIgTCd1dGlsaXNhdGV1ciBjb25uZWN0w6lcbiAgICAyOFx0ICAgICAqL1xuICAgIDI5XHQgICAgcHVibGljIHZvaWQgc2V0Q3VycmVudFVzZXIoVXNlciB1c2VyKSB7XG4gICAgMzBcdCAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHVzZXI7XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgLyoqXG4gICAgMzRcdCAgICAgKiBPYnRpZW50IGwndXRpbGlzYXRldXIgYWN0dWVsbGVtZW50IGNvbm5lY3TDqVxuICAgIDM1XHQgICAgICogQHJldHVybiBMJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqVxuICAgIDM2XHQgICAgICovXG4gICAgMzdcdCAgICBwdWJsaWMgVXNlciBnZXRDdXJyZW50VXNlcigpIHtcbiAgICAzOFx0ICAgICAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gICAgMzlcdCAgICB9XG4gICAgNDBcdFxuICAgIDQxXHQgICAgLyoqXG4gICAgNDJcdCAgICAgKiBEw6ljb25uZWN0ZSBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxuICAgIDQzXHQgICAgICovXG4gICAgNDRcdCAgICBwdWJsaWMgdm9pZCBsb2dvdXQoKSB7XG4gICAgNDVcdCAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG51bGw7XG4gICAgNDZcdCAgICB9XG4gICAgNDdcdFxuICAgIDQ4XHQgICAgLyoqXG4gICAgNDlcdCAgICAgKiBWw6lyaWZpZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdMOpXG4gICAgNTBcdCAgICAgKiBAcmV0dXJuIHRydWUgc2kgdW4gdXRpbGlzYXRldXIgZXN0IGNvbm5lY3TDqSwgZmFsc2Ugc2lub25cbiAgICA1MVx0ICAgICAqL1xuICAgIDUyXHQgICAgcHVibGljIGJvb2xlYW4gaXNMb2dnZWRJbigpIHtcbiAgICA1M1x0ICAgICAgICByZXR1cm4gY3VycmVudFVzZXIgIT0gbnVsbDtcbiAgICA1NFx0ICAgIH1cbiAgICA1NVx0fVxuICAgIDU2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDU2XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhYzRjOWJlOC0wMDVjLTQwZmQtOTBiOC1jMTRkZGU1YzdlY2U7dG9vbHVfdnJ0eF8wMVJxR0pweVFCb3BabkplZmNOVmROQXYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YTpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuRXZlbnQ7XG4gICAgIDVcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA2XHRcbiAgICAgN1x0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAgOFx0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgICA5XHRcbiAgICAxMFx0cHVibGljIGNsYXNzIE1haW4ge1xuICAgIDExXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAxMlx0ICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDEzXHQgICAgICAgIHRyeSB7XG4gICAgMTRcdCAgICAgICAgICAgIC8vIENvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMTVcdCAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMTZcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuICAgIDE3XHRcbiAgICAxOFx0ICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAxOVx0ICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjJcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjNcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjRcdCAgICAgICAgfVxuICAgIDI1XHQgICAgfVxuICAgIDI2XHRcbiAgICAyN1x0ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xuICAgIDI4XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAyOVx0ICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgIDMwXHQgICAgICAgIHVzZXIuc2V0Tm9tKFwiRG9lXCIpO1xuICAgIDMxXHQgICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAzMlx0ICAgICAgICB1c2VyLnNldEVtYWlsKFwiam9obi5kb2VAZXhhbXBsZS5jb21cIik7XG4gICAgMzNcdFxuICAgIDM0XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgMzVcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY3LDqcOpOiBcIiArIHVzZXIpO1xuICAgIDM2XHRcbiAgICAzN1x0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgMzhcdCAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICAzOVx0ICAgICAgICBldmVudC5zZXRUaXRsZShcIsOJdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDBcdCAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDFcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcbiAgICA0Mlx0ICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnw6l2w6luZW1lbnRcbiAgICA0NVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLDiXbDqW5lbWVudCBjcsOpw6k6IFwiICsgZXZlbnQpO1xuICAgIDQ2XHRcbiAgICA0N1x0ICAgICAgICAvLyBUZXN0IGRlIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICA0OFx0ICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgNDlcdCAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgNTBcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY29ubmVjdMOpOiBcIiArIHVzZXJTZXNzaW9uLmdldEN1cnJlbnRVc2VyKCkpO1xuICAgIDUxXHRcbiAgICA1Mlx0ICAgICAgICAvLyBUZXN0IGRlIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgNTNcdCAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XG4gICAgNTRcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcbiAgICA1NVx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XG4gICAgNTZcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xuICAgIDU3XHRcbiAgICA1OFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNTlcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsOpc2VydmF0aW9uIGNyw6nDqWU6IFwiICsgcmVzZXJ2YXRpb24pO1xuICAgIDYwXHQgICAgfVxuICAgIDYxXHR9XG4gICAgNjJcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNjJcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImMyY2NkNmNmLTQxYWQtNDU4NS05ZWM1LWYxNTAzZjU2NzUxYTt0b29sdV92cnR4XzAxSHlqTEFFOTlpMmhNU21DVVJSalBaQSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDFcdHBhY2thZ2UgdGVzdHM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IHBpMjQyNS5zd2FwcHlfamF2YWZ4LmVudGl0aWVzLkV2ZW50O1xuICAgICA1XHRpbXBvcnQgcGkyNDI1LnN3YXBweV9qYXZhZnguZW50aXRpZXMuVXNlclNlc3Npb247XG4gICAgIDZcdGltcG9ydCBwaTI0MjUuc3dhcHB5X2phdmFmeC5lbnRpdGllcy5SZXNlcnZlckV2ZW50O1xuICAgICA3XHRpbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTBcdGltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcbiAgICAxMVx0XG4gICAgMTJcdHB1YmxpYyBjbGFzcyBNYWluIHtcbiAgICAxM1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpICB7XG4gICAgMTRcdCAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMzNhMTA3MDQtNTFjNi00OTZkLWI5YTMtMGE0YmNjZDQxNmIwO3Rvb2x1X3ZydHhfMDE1QkJId1JOSEhYaEdwUlFrVHpxNG5tIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlxyXG5cclxuICAgIERpcmVjdG9yeTogQzpcXFVzZXJzXFwzbGV5YVxcSWRlYVByb2plY3RzXFxwaV9kZXZcXHNyY1xcbWFpblxcamF2YVxcZW50aXRpZXNcclxuXHJcblxyXG5Nb2RlICAgICAgICAgICAgICAgICBMYXN0V3JpdGVUaW1lICAgICAgICAgTGVuZ3RoIE5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4tLS0tICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgLS0tLS0tIC0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4tYS0tLS0gICAgICAgICAgNS82LzIwMjUgIDEwOjI5IEFNICAgICAgICAgICAxMjMyIFBlcnNvbm5lLmphdmEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuXHJcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjJkMWMyMWNjLTg2YTUtNGM4My04ZDNlLTg1MGU2YjM4ODE0MTt0b29sdV92cnR4XzAxM2doWmh1MWFCc0JIbWRXeXFrTDJZVyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJkNzM1NmI5Ni02ZDg4LTRlYmEtYjU5ZS1jYWZlZTliNWE1ZjA7dG9vbHVfdnJ0eF8wMUF6WVNZRzY1RXZ6cUNtWmtIS3JLZTgiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNjhlN2Q3ZWMtZWZiNi00YmE3LTljZjAtNmQ3YmZmZGUyMDNkO3Rvb2x1X3ZydHhfMDE4UldHZVpUbjZoZ3FrNzhyeno0c1BrIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQ0MTk1Yzk0LTY2NzgtNDc0YS05Mzc2LTE5NDIxYjQyYjQyYTt0b29sdV92cnR4XzAxMndzc2F4Y1l0Q0NjNHhXa0dhOEFFRCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI4ODU1MGFkYy00ZDNmLTQ4MTgtYWZkZS00ZTdkODZiZGY5YjE7dG9vbHVfdnJ0eF8wMU1DV1k3cmZHNHFzelg0OTF5RHZHRnEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBlbnRpdGllcy5FdmVudDtcbiAgICAgNVx0aW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xuICAgICA2XHRpbXBvcnQgZW50aXRpZXMuUmVzZXJ2ZXJFdmVudDtcbiAgICAgN1x0aW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG4gICAgIDhcdFxuICAgICA5XHRpbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkRhdGU7XG4gICAgMTFcdFxuICAgIDEyXHRwdWJsaWMgY2xhc3MgTWFpbiB7XG4gICAgMTNcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSAge1xuICAgIDE0XHQgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgMTVcdCAgICAgICAgdHJ5IHtcbiAgICAxNlx0ICAgICAgICAgICAgLy8gQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXNcbiAgICAxN1x0ICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICAxOFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXMgw6l0YWJsaWVcIik7XG4gICAgMTlcdFxuICAgIDIwXHQgICAgICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDIxXHQgICAgICAgICAgICB0ZXN0RW50aXRpZXMoKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyNFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXJyZXVyOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAyNVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyNlx0ICAgICAgICB9XG4gICAgMjdcdCAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XG4gICAgMzBcdCAgICAgICAgLy8gQ3LDqWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxuICAgIDMxXHQgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAgMzJcdCAgICAgICAgdXNlci5zZXROb20oXCJEb2VcIik7XG4gICAgMzNcdCAgICAgICAgdXNlci5zZXRQcmVub20oXCJKb2huXCIpO1xuICAgIDM0XHQgICAgICAgIHVzZXIuc2V0RW1haWwoXCJqb2huLmRvZUBleGFtcGxlLmNvbVwiKTtcbiAgICAzNVx0XG4gICAgMzZcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICAzN1x0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjcsOpw6k6IFwiICsgdXNlcik7XG4gICAgMzhcdFxuICAgIDM5XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIMOpdsOpbmVtZW50IGRlIHRlc3RcbiAgICA0MFx0ICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xuICAgIDQxXHQgICAgICAgIGV2ZW50LnNldFRpdGxlKFwiw4l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0Mlx0ICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcIkRlc2NyaXB0aW9uIGRlIGwnw6l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0M1x0ICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KG5ldyBEYXRlKCkpO1xuICAgIDQ0XHQgICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCfDqXbDqW5lbWVudFxuICAgIDQ3XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsOJdsOpbmVtZW50IGNyw6nDqTogXCIgKyBldmVudCk7XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgICAgIC8vIFRlc3QgZGUgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgIDUwXHQgICAgICAgIFVzZXJTZXNzaW9uIHVzZXJTZXNzaW9uID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKTtcbiAgICA1MVx0ICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICA1Mlx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjb25uZWN0w6k6IFwiICsgdXNlclNlc3Npb24uZ2V0Q3VycmVudFVzZXIoKSk7XG4gICAgNTNcdFxuICAgIDU0XHQgICAgICAgIC8vIFRlc3QgZGUgcsOpc2VydmF0aW9uIGQnw6l2w6luZW1lbnRcbiAgICA1NVx0ICAgICAgICBSZXNlcnZlckV2ZW50IHJlc2VydmF0aW9uID0gbmV3IFJlc2VydmVyRXZlbnQoKTtcbiAgICA1Nlx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRVc2VyKHVzZXIpO1xuICAgIDU3XHQgICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcbiAgICA1OFx0ICAgICAgICByZXNlcnZhdGlvbi5zZXREYXRlUmVzZXJ2YXRpb24obmV3IERhdGUoKSk7XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICA2MVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSw6lzZXJ2YXRpb24gY3LDqcOpZTogXCIgKyByZXNlcnZhdGlvbik7XG4gICAgNjJcdCAgICB9XG4gICAgNjNcdH1cbiAgICA2NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjg3YTY2MTY5LWRhOGEtNDIyOS05YmRlLWE1YTU2NzA3NThjMDt0b29sdV92cnR4XzAxTDVnZkE0cUNGaUo1REJIN2Fhc3o5eSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiIiLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiYTA2YjEyMi05MDIxLTQ0ZWMtYmM1NS1mOTZmNTdiN2YzZDE7dG9vbHVfdnJ0eF8wMTEyNmppYVFGQkt1UmR0MkppYkJnb3ciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2M4ZDZhZWUtNDExNS00YmFjLTllZDAtMzAwMWQzMmNmMDk4O3Rvb2x1X3ZydHhfMDFVWXdqVm83RnU3N2trUFlLTWVydDd1Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9lbnRpdGllcy9Vc2VyLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZW50aXRpZXM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgICA0XHRpbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDtcbiAgICAgNVx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgICA2XHRcbiAgICAgN1x0cHVibGljIGNsYXNzIFVzZXIge1xuICAgICA4XHQgICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgIDlcdCAgICBwcml2YXRlIFN0cmluZyBub207XG4gICAgMTBcdCAgICBwcml2YXRlIFN0cmluZyBlbWFpbDtcbiAgICAxMVx0ICAgIHByaXZhdGUgU3RyaW5nIHByZW5vbTtcbiAgICAxMlx0ICAgIHByaXZhdGUgU3RyaW5nIGFkcmVzc2U7XG4gICAgMTNcdCAgICBwcml2YXRlIFN0cmluZyB0ZWxlcGhvbmU7XG4gICAgMTRcdCAgICBwcml2YXRlIGJvb2xlYW4gaXNWZXJpZmllZDtcbiAgICAxNVx0ICAgIHByaXZhdGUgVGltZXN0YW1wIGNyZWF0ZWRfYXQ7XG4gICAgMTZcdCAgICBwcml2YXRlIExpc3Q8U3RyaW5nPiByb2xlO1xuICAgIDE3XHQgICAgcHJpdmF0ZSBTdHJpbmcgcGFzc3dvcmQ7XG4gICAgMThcdCAgICBwcml2YXRlIFN0cmluZyBpbWFnZVVybDtcbiAgICAxOVx0XG4gICAgMjBcdCAgICAvLyBDb25zdHJ1Y3RldXIgcGFyIGTDqWZhdXRcbiAgICAyMVx0ICAgIHB1YmxpYyBVc2VyKCkge1xuICAgIDIyXHQgICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgIDIzXHQgICAgfVxuICAgIDI0XHRcbiAgICAyNVx0ICAgIC8vIENvbnN0cnVjdGV1ciBhdmVjIHRvdXMgbGVzIHBhcmFtw6h0cmVzXG4gICAgMjZcdCAgICBwdWJsaWMgVXNlcihpbnQgaWQsIFN0cmluZyBub20sIFN0cmluZyBlbWFpbCwgU3RyaW5nIHByZW5vbSwgU3RyaW5nIGFkcmVzc2UsIFN0cmluZyB0ZWxlcGhvbmUsIGJvb2xlYW4gaXNWZXJpZmllZCwgVGltZXN0YW1wIGNyZWF0ZWRfYXQsIFN0cmluZyBwYXNzd29yZCwgU3RyaW5nIGltYWdlVXJsKSB7XG4gICAgMjdcdCAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIDI4XHQgICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIDI5XHQgICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICAzMFx0ICAgICAgICB0aGlzLnByZW5vbSA9IHByZW5vbTtcbiAgICAzMVx0ICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgIDMyXHQgICAgICAgIHRoaXMudGVsZXBob25lID0gdGVsZXBob25lO1xuICAgIDMzXHQgICAgICAgIHRoaXMuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XG4gICAgMzRcdCAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZF9hdDtcbiAgICAzNVx0ICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgMzZcdCAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgIDM3XHQgICAgICAgIHRoaXMucm9sZSA9IG5ldyBBcnJheUxpc3Q8PigpO1xuICAgIDM4XHQgICAgfVxuICAgIDM5XHRcbiAgICA0MFx0ICAgIC8vIEdldHRlcnMgZXQgU2V0dGVyc1xuICAgIDQxXHQgICAgcHVibGljIGludCBnZXRJZCgpIHtcbiAgICA0Mlx0ICAgICAgICByZXR1cm4gaWQ7XG4gICAgNDNcdCAgICB9XG4gICAgNDRcdFxuICAgIDQ1XHQgICAgcHVibGljIHZvaWQgc2V0SWQoaW50IGlkKSB7XG4gICAgNDZcdCAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIDQ3XHQgICAgfVxuICAgIDQ4XHRcbiAgICA0OVx0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0Tm9tKCkge1xuICAgIDUwXHQgICAgICAgIHJldHVybiBub207XG4gICAgNTFcdCAgICB9XG4gICAgNTJcdFxuICAgIDUzXHQgICAgcHVibGljIHZvaWQgc2V0Tm9tKFN0cmluZyBub20pIHtcbiAgICA1NFx0ICAgICAgICB0aGlzLm5vbSA9IG5vbTtcbiAgICA1NVx0ICAgIH1cbiAgICA1Nlx0XG4gICAgNTdcdCAgICBwdWJsaWMgU3RyaW5nIGdldEVtYWlsKCkge1xuICAgIDU4XHQgICAgICAgIHJldHVybiBlbWFpbDtcbiAgICA1OVx0ICAgIH1cbiAgICA2MFx0XG4gICAgNjFcdCAgICBwdWJsaWMgdm9pZCBzZXRFbWFpbChTdHJpbmcgZW1haWwpIHtcbiAgICA2Mlx0ICAgICAgICB0aGlzLmVtYWlsID0gZW1haWw7XG4gICAgNjNcdCAgICB9XG4gICAgNjRcdFxuICAgIDY1XHQgICAgcHVibGljIFN0cmluZyBnZXRQcmVub20oKSB7XG4gICAgNjZcdCAgICAgICAgcmV0dXJuIHByZW5vbTtcbiAgICA2N1x0ICAgIH1cbiAgICA2OFx0XG4gICAgNjlcdCAgICBwdWJsaWMgdm9pZCBzZXRQcmVub20oU3RyaW5nIHByZW5vbSkge1xuICAgIDcwXHQgICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIDcxXHQgICAgfVxuICAgIDcyXHRcbiAgICA3M1x0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0QWRyZXNzZSgpIHtcbiAgICA3NFx0ICAgICAgICByZXR1cm4gYWRyZXNzZTtcbiAgICA3NVx0ICAgIH1cbiAgICA3Nlx0XG4gICAgNzdcdCAgICBwdWJsaWMgdm9pZCBzZXRBZHJlc3NlKFN0cmluZyBhZHJlc3NlKSB7XG4gICAgNzhcdCAgICAgICAgdGhpcy5hZHJlc3NlID0gYWRyZXNzZTtcbiAgICA3OVx0ICAgIH1cbiAgICA4MFx0XG4gICAgODFcdCAgICBwdWJsaWMgU3RyaW5nIGdldFRlbGVwaG9uZSgpIHtcbiAgICA4Mlx0ICAgICAgICByZXR1cm4gdGVsZXBob25lO1xuICAgIDgzXHQgICAgfVxuICAgIDg0XHRcbiAgICA4NVx0ICAgIHB1YmxpYyB2b2lkIHNldFRlbGVwaG9uZShTdHJpbmcgdGVsZXBob25lKSB7XG4gICAgODZcdCAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgODdcdCAgICB9XG4gICAgODhcdFxuICAgIDg5XHQgICAgcHVibGljIGJvb2xlYW4gaXNWZXJpZmllZCgpIHtcbiAgICA5MFx0ICAgICAgICByZXR1cm4gaXNWZXJpZmllZDtcbiAgICA5MVx0ICAgIH1cbiAgICA5Mlx0XG4gICAgOTNcdCAgICBwdWJsaWMgdm9pZCBzZXRWZXJpZmllZChib29sZWFuIHZlcmlmaWVkKSB7XG4gICAgOTRcdCAgICAgICAgaXNWZXJpZmllZCA9IHZlcmlmaWVkO1xuICAgIDk1XHQgICAgfVxuICAgIDk2XHRcbiAgICA5N1x0ICAgIHB1YmxpYyBUaW1lc3RhbXAgZ2V0Q3JlYXRlZF9hdCgpIHtcbiAgICA5OFx0ICAgICAgICByZXR1cm4gY3JlYXRlZF9hdDtcbiAgICA5OVx0ICAgIH1cbiAgIDEwMFx0XG4gICAxMDFcdCAgICBwdWJsaWMgdm9pZCBzZXRDcmVhdGVkX2F0KFRpbWVzdGFtcCBjcmVhdGVkX2F0KSB7XG4gICAxMDJcdCAgICAgICAgdGhpcy5jcmVhdGVkX2F0ID0gY3JlYXRlZF9hdDtcbiAgIDEwM1x0ICAgIH1cbiAgIDEwNFx0XG4gICAxMDVcdCAgICBwdWJsaWMgTGlzdDxTdHJpbmc+IGdldFJvbGUoKSB7XG4gICAxMDZcdCAgICAgICAgcmV0dXJuIHJvbGU7XG4gICAxMDdcdCAgICB9XG4gICAxMDhcdFxuICAgMTA5XHQgICAgcHVibGljIHZvaWQgc2V0Um9sZShMaXN0PFN0cmluZz4gcm9sZSkge1xuICAgMTEwXHQgICAgICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAxMTFcdCAgICB9XG4gICAxMTJcdFxuICAgMTEzXHQgICAgcHVibGljIFN0cmluZyBnZXRQYXNzd29yZCgpIHtcbiAgIDExNFx0ICAgICAgICByZXR1cm4gcGFzc3dvcmQ7XG4gICAxMTVcdCAgICB9XG4gICAxMTZcdFxuICAgMTE3XHQgICAgcHVibGljIHZvaWQgc2V0UGFzc3dvcmQoU3RyaW5nIHBhc3N3b3JkKSB7XG4gICAxMThcdCAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgMTE5XHQgICAgfVxuICAgMTIwXHRcbiAgIDEyMVx0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0SW1hZ2VVcmwoKSB7XG4gICAxMjJcdCAgICAgICAgcmV0dXJuIGltYWdlVXJsO1xuICAgMTIzXHQgICAgfVxuICAgMTI0XHRcbiAgIDEyNVx0ICAgIHB1YmxpYyB2b2lkIHNldEltYWdlVXJsKFN0cmluZyBpbWFnZVVybCkge1xuICAgMTI2XHQgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBpbWFnZVVybDtcbiAgIDEyN1x0ICAgIH1cbiAgIDEyOFx0XG4gICAxMjlcdCAgICBAT3ZlcnJpZGVcbiAgIDEzMFx0ICAgIHB1YmxpYyBTdHJpbmcgdG9TdHJpbmcoKSB7XG4gICAxMzFcdCAgICAgICAgcmV0dXJuIFwiVXNlcntcIiArXG4gICAxMzJcdCAgICAgICAgICAgICAgICBcImlkPVwiICsgaWQgK1xuICAgMTMzXHQgICAgICAgICAgICAgICAgXCIsIG5vbT0nXCIgKyBub20gKyAnXFwnJyArXG4gICAxMzRcdCAgICAgICAgICAgICAgICBcIiwgZW1haWw9J1wiICsgZW1haWwgKyAnXFwnJyArXG4gICAxMzVcdCAgICAgICAgICAgICAgICBcIiwgcHJlbm9tPSdcIiArIHByZW5vbSArICdcXCcnICtcbiAgIDEzNlx0ICAgICAgICAgICAgICAgIFwiLCBhZHJlc3NlPSdcIiArIGFkcmVzc2UgKyAnXFwnJyArXG4gICAxMzdcdCAgICAgICAgICAgICAgICBcIiwgdGVsZXBob25lPSdcIiArIHRlbGVwaG9uZSArICdcXCcnICtcbiAgIDEzOFx0ICAgICAgICAgICAgICAgIFwiLCBpc1ZlcmlmaWVkPVwiICsgaXNWZXJpZmllZCArXG4gICAxMzlcdCAgICAgICAgICAgICAgICBcIiwgY3JlYXRlZF9hdD1cIiArIGNyZWF0ZWRfYXQgK1xuICAgMTQwXHQgICAgICAgICAgICAgICAgXCIsIHJvbGU9XCIgKyByb2xlICtcbiAgIDE0MVx0ICAgICAgICAgICAgICAgIFwiLCBpbWFnZVVybD0nXCIgKyBpbWFnZVVybCArICdcXCcnICtcbiAgIDE0Mlx0ICAgICAgICAgICAgICAgICd9JztcbiAgIDE0M1x0ICAgIH1cbiAgIDE0NFx0fVxuICAgMTQ1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE0NVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNmVjOTY1ZTktMzgwMC00ZmNkLWFmODEtYjc1MTQwNjYxNDgyO3Rvb2x1X3ZydHhfMDFTQzM4MUIxUWRoWEtVRFV6VURaUXVDIjp7InBoYXNlIjo2LCJyZXN1bHQiOnsidGV4dCI6IlJhbiBpbnRvIENhbm5vdCByZWFkIGZpbGU6IHNyYy9tYWluL2phdmEvZW50aXRpZXMvRXZlbnQuamF2YSB3aGlsZSB0cnlpbmcgdG8gcmVhZCBzcmMvbWFpbi9qYXZhL2VudGl0aWVzL0V2ZW50LmphdmEiLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sImI4MTBhYTZmLWVmOTItNDY1Ny1hYWEwLWI3ZmE1YzE1YmU1NTt0b29sdV92cnR4XzAxTWM4eUR0S1dkbnN0MWc3VHd5eGNrcSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJkYTY2YmFkYS0yMTY2LTQ4MmQtYWMwMC00ZGEzMmQyNjg0NTM7dG9vbHVfdnJ0eF8wMUppUlpHVGRobXRmM1RGcUF0Nm4yZkUiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1VzZXJTZXNzaW9uLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgZW50aXRpZXM7XG4gICAgIDJcdFxuICAgICAzXHQvKipcbiAgICAgNFx0ICogQ2xhc3NlIHNpbmdsZXRvbiBwb3VyIGfDqXJlciBsYSBzZXNzaW9uIHV0aWxpc2F0ZXVyXG4gICAgIDVcdCAqL1xuICAgICA2XHRwdWJsaWMgY2xhc3MgVXNlclNlc3Npb24ge1xuICAgICA3XHQgICAgcHJpdmF0ZSBzdGF0aWMgVXNlclNlc3Npb24gaW5zdGFuY2U7XG4gICAgIDhcdCAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XG4gICAgIDlcdFxuICAgIDEwXHQgICAgLy8gQ29uc3RydWN0ZXVyIHByaXbDqSBwb3VyIGVtcMOqY2hlciBsJ2luc3RhbmNpYXRpb24gZGlyZWN0ZVxuICAgIDExXHQgICAgcHJpdmF0ZSBVc2VyU2Vzc2lvbigpIHtcbiAgICAxMlx0ICAgIH1cbiAgICAxM1x0XG4gICAgMTRcdCAgICAvKipcbiAgICAxNVx0ICAgICAqIE9idGllbnQgbCdpbnN0YW5jZSB1bmlxdWUgZGUgVXNlclNlc3Npb25cbiAgICAxNlx0ICAgICAqIEByZXR1cm4gTCdpbnN0YW5jZSBkZSBVc2VyU2Vzc2lvblxuICAgIDE3XHQgICAgICovXG4gICAgMThcdCAgICBwdWJsaWMgc3RhdGljIFVzZXJTZXNzaW9uIGdldEluc3RhbmNlKCkge1xuICAgIDE5XHQgICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgMjBcdCAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IFVzZXJTZXNzaW9uKCk7XG4gICAgMjFcdCAgICAgICAgfVxuICAgIDIyXHQgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAyM1x0ICAgIH1cbiAgICAyNFx0XG4gICAgMjVcdCAgICAvKipcbiAgICAyNlx0ICAgICAqIETDqWZpbml0IGwndXRpbGlzYXRldXIgYWN0dWVsbGVtZW50IGNvbm5lY3TDqVxuICAgIDI3XHQgICAgICogQHBhcmFtIHVzZXIgTCd1dGlsaXNhdGV1ciBjb25uZWN0w6lcbiAgICAyOFx0ICAgICAqL1xuICAgIDI5XHQgICAgcHVibGljIHZvaWQgc2V0Q3VycmVudFVzZXIoVXNlciB1c2VyKSB7XG4gICAgMzBcdCAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHVzZXI7XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgLyoqXG4gICAgMzRcdCAgICAgKiBPYnRpZW50IGwndXRpbGlzYXRldXIgYWN0dWVsbGVtZW50IGNvbm5lY3TDqVxuICAgIDM1XHQgICAgICogQHJldHVybiBMJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqVxuICAgIDM2XHQgICAgICovXG4gICAgMzdcdCAgICBwdWJsaWMgVXNlciBnZXRDdXJyZW50VXNlcigpIHtcbiAgICAzOFx0ICAgICAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gICAgMzlcdCAgICB9XG4gICAgNDBcdFxuICAgIDQxXHQgICAgLyoqXG4gICAgNDJcdCAgICAgKiBEw6ljb25uZWN0ZSBsJ3V0aWxpc2F0ZXVyIGFjdHVlbFxuICAgIDQzXHQgICAgICovXG4gICAgNDRcdCAgICBwdWJsaWMgdm9pZCBsb2dvdXQoKSB7XG4gICAgNDVcdCAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG51bGw7XG4gICAgNDZcdCAgICB9XG4gICAgNDdcdFxuICAgIDQ4XHQgICAgLyoqXG4gICAgNDlcdCAgICAgKiBWw6lyaWZpZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdMOpXG4gICAgNTBcdCAgICAgKiBAcmV0dXJuIHRydWUgc2kgdW4gdXRpbGlzYXRldXIgZXN0IGNvbm5lY3TDqSwgZmFsc2Ugc2lub25cbiAgICA1MVx0ICAgICAqL1xuICAgIDUyXHQgICAgcHVibGljIGJvb2xlYW4gaXNMb2dnZWRJbigpIHtcbiAgICA1M1x0ICAgICAgICByZXR1cm4gY3VycmVudFVzZXIgIT0gbnVsbDtcbiAgICA1NFx0ICAgIH1cbiAgICA1NVx0fVxuICAgIDU2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDU2XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI2ZjBhMzNmYy0zMWM0LTQ0YWItOGM2OS0zZWFmMzZhOTM5NjQ7dG9vbHVfdnJ0eF8wMTZ4bnM5ZmU2aGkxeEJ1RXUyWEI0RnMiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1Jlc2VydmVyRXZlbnQuamF2YTpcbiAgICAgMVx0cGFja2FnZSBlbnRpdGllcztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLnV0aWwuRGF0ZTtcbiAgICAgNFx0XG4gICAgIDVcdC8qKlxuICAgICA2XHQgKiBDbGFzc2UgcmVwcsOpc2VudGFudCB1bmUgcsOpc2VydmF0aW9uIGQnw6l2w6luZW1lbnRcbiAgICAgN1x0ICogRmFpdCBsYSBqb2ludHVyZSBlbnRyZSB1biB1dGlsaXNhdGV1ciBldCB1biDDqXbDqW5lbWVudFxuICAgICA4XHQgKi9cbiAgICAgOVx0cHVibGljIGNsYXNzIFJlc2VydmVyRXZlbnQge1xuICAgIDEwXHQgICAgcHJpdmF0ZSBpbnQgaWQ7XG4gICAgMTFcdCAgICBwcml2YXRlIFVzZXIgdXNlcjtcbiAgICAxMlx0ICAgIHByaXZhdGUgRXZlbnQgZXZlbnQ7XG4gICAgMTNcdCAgICBwcml2YXRlIERhdGUgZGF0ZVJlc2VydmF0aW9uO1xuICAgIDE0XHQgICAgcHJpdmF0ZSBTdHJpbmcgc3RhdHV0OyAvLyBQYXIgZXhlbXBsZTogXCJjb25maXJtw6lcIiwgXCJlbiBhdHRlbnRlXCIsIFwiYW5udWzDqVwiXG4gICAgMTVcdFxuICAgIDE2XHQgICAgLyoqXG4gICAgMTdcdCAgICAgKiBDb25zdHJ1Y3RldXIgcGFyIGTDqWZhdXRcbiAgICAxOFx0ICAgICAqL1xuICAgIDE5XHQgICAgcHVibGljIFJlc2VydmVyRXZlbnQoKSB7XG4gICAgMjBcdCAgICB9XG4gICAgMjFcdFxuICAgIDIyXHQgICAgLyoqXG4gICAgMjNcdCAgICAgKiBDb25zdHJ1Y3RldXIgYXZlYyB0b3VzIGxlcyBwYXJhbcOodHJlc1xuICAgIDI0XHQgICAgICogQHBhcmFtIGlkIElkZW50aWZpYW50IGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDI1XHQgICAgICogQHBhcmFtIHVzZXIgVXRpbGlzYXRldXIgcXVpIHLDqXNlcnZlXG4gICAgMjZcdCAgICAgKiBAcGFyYW0gZXZlbnQgw4l2w6luZW1lbnQgcsOpc2VydsOpXG4gICAgMjdcdCAgICAgKiBAcGFyYW0gZGF0ZVJlc2VydmF0aW9uIERhdGUgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgMjhcdCAgICAgKiBAcGFyYW0gc3RhdHV0IFN0YXR1dCBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICAyOVx0ICAgICAqL1xuICAgIDMwXHQgICAgcHVibGljIFJlc2VydmVyRXZlbnQoaW50IGlkLCBVc2VyIHVzZXIsIEV2ZW50IGV2ZW50LCBEYXRlIGRhdGVSZXNlcnZhdGlvbiwgU3RyaW5nIHN0YXR1dCkge1xuICAgIDMxXHQgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAzMlx0ICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgIDMzXHQgICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAzNFx0ICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcbiAgICAzNVx0ICAgICAgICB0aGlzLnN0YXR1dCA9IHN0YXR1dDtcbiAgICAzNlx0ICAgIH1cbiAgICAzN1x0XG4gICAgMzhcdCAgICAvKipcbiAgICAzOVx0ICAgICAqIENvbnN0cnVjdGV1ciBzYW5zIGlkIChwb3VyIGxlcyBub3V2ZWxsZXMgcsOpc2VydmF0aW9ucylcbiAgICA0MFx0ICAgICAqIEBwYXJhbSB1c2VyIFV0aWxpc2F0ZXVyIHF1aSByw6lzZXJ2ZVxuICAgIDQxXHQgICAgICogQHBhcmFtIGV2ZW50IMOJdsOpbmVtZW50IHLDqXNlcnbDqVxuICAgIDQyXHQgICAgICogQHBhcmFtIGRhdGVSZXNlcnZhdGlvbiBEYXRlIGRlIGxhIHLDqXNlcnZhdGlvblxuICAgIDQzXHQgICAgICogQHBhcmFtIHN0YXR1dCBTdGF0dXQgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNDRcdCAgICAgKi9cbiAgICA0NVx0ICAgIHB1YmxpYyBSZXNlcnZlckV2ZW50KFVzZXIgdXNlciwgRXZlbnQgZXZlbnQsIERhdGUgZGF0ZVJlc2VydmF0aW9uLCBTdHJpbmcgc3RhdHV0KSB7XG4gICAgNDZcdCAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICA0N1x0ICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgNDhcdCAgICAgICAgdGhpcy5kYXRlUmVzZXJ2YXRpb24gPSBkYXRlUmVzZXJ2YXRpb247XG4gICAgNDlcdCAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XG4gICAgNTBcdCAgICB9XG4gICAgNTFcdFxuICAgIDUyXHQgICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXG4gICAgNTNcdCAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgIDU0XHQgICAgICAgIHJldHVybiBpZDtcbiAgICA1NVx0ICAgIH1cbiAgICA1Nlx0XG4gICAgNTdcdCAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHtcbiAgICA1OFx0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgNTlcdCAgICB9XG4gICAgNjBcdFxuICAgIDYxXHQgICAgcHVibGljIFVzZXIgZ2V0VXNlcigpIHtcbiAgICA2Mlx0ICAgICAgICByZXR1cm4gdXNlcjtcbiAgICA2M1x0ICAgIH1cbiAgICA2NFx0XG4gICAgNjVcdCAgICBwdWJsaWMgdm9pZCBzZXRVc2VyKFVzZXIgdXNlcikge1xuICAgIDY2XHQgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgNjdcdCAgICB9XG4gICAgNjhcdFxuICAgIDY5XHQgICAgcHVibGljIEV2ZW50IGdldEV2ZW50KCkge1xuICAgIDcwXHQgICAgICAgIHJldHVybiBldmVudDtcbiAgICA3MVx0ICAgIH1cbiAgICA3Mlx0XG4gICAgNzNcdCAgICBwdWJsaWMgdm9pZCBzZXRFdmVudChFdmVudCBldmVudCkge1xuICAgIDc0XHQgICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICA3NVx0ICAgIH1cbiAgICA3Nlx0XG4gICAgNzdcdCAgICBwdWJsaWMgRGF0ZSBnZXREYXRlUmVzZXJ2YXRpb24oKSB7XG4gICAgNzhcdCAgICAgICAgcmV0dXJuIGRhdGVSZXNlcnZhdGlvbjtcbiAgICA3OVx0ICAgIH1cbiAgICA4MFx0XG4gICAgODFcdCAgICBwdWJsaWMgdm9pZCBzZXREYXRlUmVzZXJ2YXRpb24oRGF0ZSBkYXRlUmVzZXJ2YXRpb24pIHtcbiAgICA4Mlx0ICAgICAgICB0aGlzLmRhdGVSZXNlcnZhdGlvbiA9IGRhdGVSZXNlcnZhdGlvbjtcbiAgICA4M1x0ICAgIH1cbiAgICA4NFx0XG4gICAgODVcdCAgICBwdWJsaWMgU3RyaW5nIGdldFN0YXR1dCgpIHtcbiAgICA4Nlx0ICAgICAgICByZXR1cm4gc3RhdHV0O1xuICAgIDg3XHQgICAgfVxuICAgIDg4XHRcbiAgICA4OVx0ICAgIHB1YmxpYyB2b2lkIHNldFN0YXR1dChTdHJpbmcgc3RhdHV0KSB7XG4gICAgOTBcdCAgICAgICAgdGhpcy5zdGF0dXQgPSBzdGF0dXQ7XG4gICAgOTFcdCAgICB9XG4gICAgOTJcdFxuICAgIDkzXHQgICAgQE92ZXJyaWRlXG4gICAgOTRcdCAgICBwdWJsaWMgU3RyaW5nIHRvU3RyaW5nKCkge1xuICAgIDk1XHQgICAgICAgIHJldHVybiBcIlJlc2VydmVyRXZlbnR7XCIgK1xuICAgIDk2XHQgICAgICAgICAgICAgICAgXCJpZD1cIiArIGlkICtcbiAgICA5N1x0ICAgICAgICAgICAgICAgIFwiLCB1c2VyPVwiICsgdXNlciArXG4gICAgOThcdCAgICAgICAgICAgICAgICBcIiwgZXZlbnQ9XCIgKyBldmVudCArXG4gICAgOTlcdCAgICAgICAgICAgICAgICBcIiwgZGF0ZVJlc2VydmF0aW9uPVwiICsgZGF0ZVJlc2VydmF0aW9uICtcbiAgIDEwMFx0ICAgICAgICAgICAgICAgIFwiLCBzdGF0dXQ9J1wiICsgc3RhdHV0ICsgJ1xcJycgK1xuICAgMTAxXHQgICAgICAgICAgICAgICAgJ30nO1xuICAgMTAyXHQgICAgfVxuICAgMTAzXHR9XG4gICAxMDRcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTA0XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJkMzY0ZjZhMi1jMjNjLTQ4MzEtYjE3Ny02NTVhMWFjZWZmMTg7dG9vbHVfdnJ0eF8wMUNvU01TaXkyZ2NBenQzMWdXdFN2V2UiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YTpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgZW50aXRpZXMuRXZlbnQ7XG4gICAgIDVcdGltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcbiAgICAgNlx0aW1wb3J0IGVudGl0aWVzLlJlc2VydmVyRXZlbnQ7XG4gICAgIDdcdGltcG9ydCB1dGlscy5NeURhdGFiYXNlO1xuICAgICA4XHRcbiAgICAgOVx0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxMFx0aW1wb3J0IGphdmEudXRpbC5EYXRlO1xuICAgIDExXHRcbiAgICAxMlx0cHVibGljIGNsYXNzIE1haW4ge1xuICAgIDEzXHQgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgIHtcbiAgICAxNFx0ICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDE1XHQgICAgICAgIHRyeSB7XG4gICAgMTZcdCAgICAgICAgICAgIC8vIENvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMTdcdCAgICAgICAgICAgIE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMThcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzIMOpdGFibGllXCIpO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgICAgICAgICAgLy8gVGVzdCBkZXMgZW50aXTDqXNcbiAgICAyMVx0ICAgICAgICAgICAgdGVzdEVudGl0aWVzKCk7XG4gICAgMjJcdFxuICAgIDIzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgMjRcdCAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycmV1cjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMjZcdCAgICAgICAgfVxuICAgIDI3XHQgICAgfVxuICAgIDI4XHRcbiAgICAyOVx0ICAgIHByaXZhdGUgc3RhdGljIHZvaWQgdGVzdEVudGl0aWVzKCkge1xuICAgIDMwXHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIHV0aWxpc2F0ZXVyIGRlIHRlc3RcbiAgICAzMVx0ICAgICAgICBVc2VyIHVzZXIgPSBuZXcgVXNlcigpO1xuICAgIDMyXHQgICAgICAgIHVzZXIuc2V0Tm9tKFwiRG9lXCIpO1xuICAgIDMzXHQgICAgICAgIHVzZXIuc2V0UHJlbm9tKFwiSm9oblwiKTtcbiAgICAzNFx0ICAgICAgICB1c2VyLnNldEVtYWlsKFwiam9obi5kb2VAZXhhbXBsZS5jb21cIik7XG4gICAgMzVcdFxuICAgIDM2XHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAgMzdcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY3LDqcOpOiBcIiArIHVzZXIpO1xuICAgIDM4XHRcbiAgICAzOVx0ICAgICAgICAvLyBDcsOpYXRpb24gZCd1biDDqXbDqW5lbWVudCBkZSB0ZXN0XG4gICAgNDBcdCAgICAgICAgRXZlbnQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICA0MVx0ICAgICAgICBldmVudC5zZXRUaXRsZShcIsOJdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDJcdCAgICAgICAgZXZlbnQuc2V0RGVzY3JpcHRpb24oXCJEZXNjcmlwdGlvbiBkZSBsJ8OpdsOpbmVtZW50IGRlIHRlc3RcIik7XG4gICAgNDNcdCAgICAgICAgZXZlbnQuc2V0RGF0ZV9kZWJ1dChuZXcgRGF0ZSgpKTtcbiAgICA0NFx0ICAgICAgICBldmVudC5zZXREYXRlX2ZpbihuZXcgRGF0ZSgpKTtcbiAgICA0NVx0XG4gICAgNDZcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwnw6l2w6luZW1lbnRcbiAgICA0N1x0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLDiXbDqW5lbWVudCBjcsOpw6k6IFwiICsgZXZlbnQpO1xuICAgIDQ4XHRcbiAgICA0OVx0ICAgICAgICAvLyBUZXN0IGRlIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICA1MFx0ICAgICAgICBVc2VyU2Vzc2lvbiB1c2VyU2Vzc2lvbiA9IFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgNTFcdCAgICAgICAgdXNlclNlc3Npb24uc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgNTJcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVXRpbGlzYXRldXIgY29ubmVjdMOpOiBcIiArIHVzZXJTZXNzaW9uLmdldEN1cnJlbnRVc2VyKCkpO1xuICAgIDUzXHRcbiAgICA1NFx0ICAgICAgICAvLyBUZXN0IGRlIHLDqXNlcnZhdGlvbiBkJ8OpdsOpbmVtZW50XG4gICAgNTVcdCAgICAgICAgUmVzZXJ2ZXJFdmVudCByZXNlcnZhdGlvbiA9IG5ldyBSZXNlcnZlckV2ZW50KCk7XG4gICAgNTZcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0VXNlcih1c2VyKTtcbiAgICA1N1x0ICAgICAgICByZXNlcnZhdGlvbi5zZXRFdmVudChldmVudCk7XG4gICAgNThcdCAgICAgICAgcmVzZXJ2YXRpb24uc2V0RGF0ZVJlc2VydmF0aW9uKG5ldyBEYXRlKCkpO1xuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbGEgcsOpc2VydmF0aW9uXG4gICAgNjFcdCAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiUsOpc2VydmF0aW9uIGNyw6nDqWU6IFwiICsgcmVzZXJ2YXRpb24pO1xuICAgIDYyXHQgICAgfVxuICAgIDYzXHR9XG4gICAgNjRcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNjRcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjgzMTMyMzcyLWQwNGItNGFlNy05NGVlLWExZDljZjUyMGZlNzt0b29sdV92cnR4XzAxNTVOenJqU0JzU2JGVlJNdTR0ZGRNQiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhOlxuICAgICAxXHRwYWNrYWdlIHRlc3RzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBlbnRpdGllcy5FdmVudDtcbiAgICAgNVx0aW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xuICAgICA2XHRpbXBvcnQgZW50aXRpZXMuUmVzZXJ2ZXJFdmVudDtcbiAgICAgN1x0aW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG4gICAgIDhcdFxuICAgICA5XHRpbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkRhdGU7XG4gICAgMTFcdFxuICAgIDEyXHRwdWJsaWMgY2xhc3MgTWFpbiB7XG4gICAgMTNcdCAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSAge1xuICAgIDE0XHQgICAgICAgIC8vIFRlc3QgZGVzIGVudGl0w6lzXG4gICAgMTVcdCAgICAgICAgdHJ5IHtcbiAgICAxNlx0ICAgICAgICAgICAgLy8gQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXNcbiAgICAxN1x0ICAgICAgICAgICAgTXlEYXRhYmFzZS5nZXRJbnN0YW5jZSgpLmdldENvbm5lY3Rpb24oKTtcbiAgICAxOFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ29ubmV4aW9uIMOgIGxhIGJhc2UgZGUgZG9ubsOpZXMgw6l0YWJsaWVcIik7XG4gICAgMTlcdFxuICAgIDIwXHQgICAgICAgICAgICAvLyBUZXN0IGRlcyBlbnRpdMOpc1xuICAgIDIxXHQgICAgICAgICAgICB0ZXN0RW50aXRpZXMoKTtcbiAgICAyMlx0XG4gICAgMjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAyNFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXJyZXVyOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAyNVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAyNlx0ICAgICAgICB9XG4gICAgMjdcdCAgICB9XG4gICAgMjhcdFxuICAgIDI5XHQgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB0ZXN0RW50aXRpZXMoKSB7XG4gICAgMzBcdCAgICAgICAgLy8gQ3LDqWF0aW9uIGQndW4gdXRpbGlzYXRldXIgZGUgdGVzdFxuICAgIDMxXHQgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAgMzJcdCAgICAgICAgdXNlci5zZXROb20oXCJEb2VcIik7XG4gICAgMzNcdCAgICAgICAgdXNlci5zZXRQcmVub20oXCJKb2huXCIpO1xuICAgIDM0XHQgICAgICAgIHVzZXIuc2V0RW1haWwoXCJqb2huLmRvZUBleGFtcGxlLmNvbVwiKTtcbiAgICAzNVx0XG4gICAgMzZcdCAgICAgICAgLy8gQWZmaWNoYWdlIGRlIGwndXRpbGlzYXRldXJcbiAgICAzN1x0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjcsOpw6k6IFwiICsgdXNlcik7XG4gICAgMzhcdFxuICAgIDM5XHQgICAgICAgIC8vIENyw6lhdGlvbiBkJ3VuIMOpdsOpbmVtZW50IGRlIHRlc3RcbiAgICA0MFx0ICAgICAgICBFdmVudCBldmVudCA9IG5ldyBFdmVudCgpO1xuICAgIDQxXHQgICAgICAgIGV2ZW50LnNldFRpdGxlKFwiw4l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0Mlx0ICAgICAgICBldmVudC5zZXREZXNjcmlwdGlvbihcIkRlc2NyaXB0aW9uIGRlIGwnw6l2w6luZW1lbnQgZGUgdGVzdFwiKTtcbiAgICA0M1x0ICAgICAgICBldmVudC5zZXREYXRlX2RlYnV0KG5ldyBEYXRlKCkpO1xuICAgIDQ0XHQgICAgICAgIGV2ZW50LnNldERhdGVfZmluKG5ldyBEYXRlKCkpO1xuICAgIDQ1XHRcbiAgICA0Nlx0ICAgICAgICAvLyBBZmZpY2hhZ2UgZGUgbCfDqXbDqW5lbWVudFxuICAgIDQ3XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsOJdsOpbmVtZW50IGNyw6nDqTogXCIgKyBldmVudCk7XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgICAgIC8vIFRlc3QgZGUgbGEgc2Vzc2lvbiB1dGlsaXNhdGV1clxuICAgIDUwXHQgICAgICAgIFVzZXJTZXNzaW9uIHVzZXJTZXNzaW9uID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKTtcbiAgICA1MVx0ICAgICAgICB1c2VyU2Vzc2lvbi5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICA1Mlx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJVdGlsaXNhdGV1ciBjb25uZWN0w6k6IFwiICsgdXNlclNlc3Npb24uZ2V0Q3VycmVudFVzZXIoKSk7XG4gICAgNTNcdFxuICAgIDU0XHQgICAgICAgIC8vIFRlc3QgZGUgcsOpc2VydmF0aW9uIGQnw6l2w6luZW1lbnRcbiAgICA1NVx0ICAgICAgICBSZXNlcnZlckV2ZW50IHJlc2VydmF0aW9uID0gbmV3IFJlc2VydmVyRXZlbnQoKTtcbiAgICA1Nlx0ICAgICAgICByZXNlcnZhdGlvbi5zZXRVc2VyKHVzZXIpO1xuICAgIDU3XHQgICAgICAgIHJlc2VydmF0aW9uLnNldEV2ZW50KGV2ZW50KTtcbiAgICA1OFx0ICAgICAgICByZXNlcnZhdGlvbi5zZXREYXRlUmVzZXJ2YXRpb24obmV3IERhdGUoKSk7XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgIC8vIEFmZmljaGFnZSBkZSBsYSByw6lzZXJ2YXRpb25cbiAgICA2MVx0ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJSw6lzZXJ2YXRpb24gY3LDqcOpZTogXCIgKyByZXNlcnZhdGlvbik7XG4gICAgNjJcdCAgICB9XG4gICAgNjNcdH1cbiAgICA2NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA2NFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZjlmMTE2MTctNmZlMy00NWY5LTg0ZDQtODIxMzFhNzQ1MDFlO3Rvb2x1X3ZydHhfMDFQcW95NDdFWmRZODh0UnZlTWNZaEx5Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS90ZXN0cy9NYWluLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uQXBwbGljYXRpb247XG4gICAgIDRcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuICAgICA1XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLmlvLkZpbGU7XG4gICAgMTBcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDExXHRcbiAgICAxMlx0cHVibGljIGNsYXNzIE1haW4gZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgQE92ZXJyaWRlXG4gICAgMTVcdCAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBwcmltYXJ5U3RhZ2UpIHtcbiAgICAxNlx0ICAgICAgICB0cnkge1xuICAgIDE3XHQgICAgICAgICAgICAvLyBDaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTCBkZSBsb2dpblxuICAgIDE4XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Mb2dpbi5meG1sXCIpKTtcbiAgICAxOVx0ICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAgIDIwXHRcbiAgICAyMVx0ICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgICAyMlx0ICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgMjNcdCAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgMjRcdCAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRUaXRsZShcIkxvZ2luXCIpO1xuICAgIDI1XHQgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2hvdygpO1xuICAgIDI2XHRcbiAgICAyN1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgMjhcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGUgbGEgcGFnZSBkZSBsb2dpbjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMzBcdCAgICAgICAgfVxuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiAgICAzNFx0ICAgICAgICBsYXVuY2goYXJncyk7XG4gICAgMzVcdCAgICB9XG4gICAgMzZcdH1cbiAgICAzN1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImRkOTFjZmM2LWM2ODMtNDA2ZS05NGVmLTUyZGYwNTZiYzZjMjt0b29sdV92cnR4XzAxVFZXaExUeDJnNWYzNEFFZll4cHpnSiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJcclxuXHJcbiAgICBEaXJlY3Rvcnk6IEM6XFxVc2Vyc1xcM2xleWFcXElkZWFQcm9qZWN0c1xccGlfZGV2XFxzcmNcXG1haW5cXHJlc291cmNlc1xyXG5cclxuXHJcbk1vZGUgICAgICAgICAgICAgICAgIExhc3RXcml0ZVRpbWUgICAgICAgICBMZW5ndGggTmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi0tLS0gICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0gICAgICAgICAtLS0tLS0gLS0tLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmQtLS0tLSAgICAgICAgICA1LzYvMjAyNSAgIDI6MjYgUE0gICAgICAgICAgICAgICAgZnhtbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5cclxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMWI1NWQzMzItYmU2Yy00YzVkLWI2MGYtMjExMjc3ZGU4ZWJhO3Rvb2x1X3ZydHhfMDEzVVZNUnJ3elFFdGFYN0tYSG1KaERUIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjlmMTE5YWRmLTVkNzQtNDA2NS1hYTkzLTNmYzI1ZjM4ZjIxNjt0b29sdV92cnR4XzAxTUNlUlRDa0hGWUxZUWdRNTRXWVU3TCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJcclxuXHJcbiAgICBEaXJlY3Rvcnk6IEM6XFxVc2Vyc1xcM2xleWFcXElkZWFQcm9qZWN0c1xccGlfZGV2XFxzcmNcXG1haW5cXGphdmFcclxuXHJcblxyXG5Nb2RlICAgICAgICAgICAgICAgICBMYXN0V3JpdGVUaW1lICAgICAgICAgTGVuZ3RoIE5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4tLS0tICAgICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgLS0tLS0tIC0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5kLS0tLS0gICAgICAgICAgNS82LzIwMjUgICAyOjI2IFBNICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuXHJcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVkMjExYThkLTcxNjktNDU5ZC04NWVlLTI2Njk5MzFjMmJjNDt0b29sdV92cnR4XzAxMnJqTjRZdVJ5VFdBNlh1QVpSN0tQaSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmYzJiNDI1Yy0yMjYzLTRhYjgtYTU1YS1lNGE0Njk1NWYzYTA7dG9vbHVfdnJ0eF8wMVlidzIzY0NWVXJBYUhmeFNVYmhra0IiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL3Rlc3RzL01haW4uamF2YTpcbiAgICAgMVx0cGFja2FnZSB0ZXN0cztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uQXBwbGljYXRpb247XG4gICAgIDRcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuICAgICA1XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAgOFx0XG4gICAgIDlcdGltcG9ydCBqYXZhLmlvLkZpbGU7XG4gICAgMTBcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDExXHRcbiAgICAxMlx0cHVibGljIGNsYXNzIE1haW4gZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG4gICAgMTNcdFxuICAgIDE0XHQgICAgQE92ZXJyaWRlXG4gICAgMTVcdCAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBwcmltYXJ5U3RhZ2UpIHtcbiAgICAxNlx0ICAgICAgICB0cnkge1xuICAgIDE3XHQgICAgICAgICAgICAvLyBDaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTCBkZSBsb2dpblxuICAgIDE4XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Mb2dpbi5meG1sXCIpKTtcbiAgICAxOVx0ICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAgIDIwXHRcbiAgICAyMVx0ICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgICAyMlx0ICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgMjNcdCAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgMjRcdCAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRUaXRsZShcIkxvZ2luXCIpO1xuICAgIDI1XHQgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2hvdygpO1xuICAgIDI2XHRcbiAgICAyN1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgMjhcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGUgbGEgcGFnZSBkZSBsb2dpbjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMzBcdCAgICAgICAgfVxuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiAgICAzNFx0ICAgICAgICBsYXVuY2goYXJncyk7XG4gICAgMzVcdCAgICB9XG4gICAgMzZcdH1cbiAgICAzN1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzN1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYjllNThjYzEtZDA0Yi00NDVhLTllZmUtNTZlZmM5N2Y0OTRkO3Rvb2x1X3ZydHhfMDE4cHp3bmVES1dCcXhnWmpQVW5pSGpYIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvTG9naW4uZnhtbDpcbiAgICAgMVx0PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gICAgIDJcdFxuICAgICAzXHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cbiAgICAgNFx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz5cbiAgICAgNVx0PD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lkluc2V0cz8+XG4gICAgIDZcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0LlRleHQ/PlxuICAgICA3XHRcbiAgICAgOFx0PEJvcmRlclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcIlxuICAgICA5XHQgICAgICAgICAgICB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcIlxuICAgIDEwXHQgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuTG9naW5Db250cm9sbGVyXCJcbiAgICAxMVx0ICAgICAgICAgICAgcHJlZkhlaWdodD1cIjQwMC4wXCIgcHJlZldpZHRoPVwiNjAwLjBcIj5cbiAgICAxMlx0ICAgIFxuICAgIDEzXHQgICAgPGNlbnRlcj5cbiAgICAxNFx0ICAgICAgICA8VkJveCBhbGlnbm1lbnQ9XCJDRU5URVJcIiBzcGFjaW5nPVwiMjAuMFwiPlxuICAgIDE1XHQgICAgICAgICAgICA8cGFkZGluZz5cbiAgICAxNlx0ICAgICAgICAgICAgICAgIDxJbnNldHMgdG9wPVwiMjAuMFwiIHJpZ2h0PVwiMjAuMFwiIGJvdHRvbT1cIjIwLjBcIiBsZWZ0PVwiMjAuMFwiLz5cbiAgICAxN1x0ICAgICAgICAgICAgPC9wYWRkaW5nPlxuICAgIDE4XHQgICAgICAgICAgICBcbiAgICAxOVx0ICAgICAgICAgICAgPFRleHQgdGV4dD1cIkNvbm5leGlvblwiIHN0eWxlPVwiLWZ4LWZvbnQtc2l6ZTogMjRweDsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkO1wiLz5cbiAgICAyMFx0ICAgICAgICAgICAgXG4gICAgMjFcdCAgICAgICAgICAgIDxHcmlkUGFuZSBoZ2FwPVwiMTBcIiB2Z2FwPVwiMTBcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIj5cbiAgICAyMlx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiRW1haWw6XCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIwXCIvPlxuICAgIDIzXHQgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD1cImVtYWlsRmllbGRcIiBwcm9tcHRUZXh0PVwiRW50cmV6IHZvdHJlIGVtYWlsXCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIxXCIvPlxuICAgIDI0XHQgICAgICAgICAgICAgICAgXG4gICAgMjVcdCAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIk1vdCBkZSBwYXNzZTpcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjFcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIi8+XG4gICAgMjZcdCAgICAgICAgICAgICAgICA8UGFzc3dvcmRGaWVsZCBmeDppZD1cInBhc3N3b3JkRmllbGRcIiBwcm9tcHRUZXh0PVwiRW50cmV6IHZvdHJlIG1vdCBkZSBwYXNzZVwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMVwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiLz5cbiAgICAyN1x0ICAgICAgICAgICAgPC9HcmlkUGFuZT5cbiAgICAyOFx0ICAgICAgICAgICAgXG4gICAgMjlcdCAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9XCJsb2dpbkJ1dHRvblwiIHRleHQ9XCJTZSBjb25uZWN0ZXJcIiBvbkFjdGlvbj1cIiNoYW5kbGVMb2dpblwiLz5cbiAgICAzMFx0ICAgICAgICAgICAgXG4gICAgMzFcdCAgICAgICAgICAgIDxIQm94IGFsaWdubWVudD1cIkNFTlRFUlwiIHNwYWNpbmc9XCIxMFwiPlxuICAgIDMyXHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJQYXMgZW5jb3JlIGluc2NyaXQ/XCIvPlxuICAgIDMzXHQgICAgICAgICAgICAgICAgPEh5cGVybGluayBmeDppZD1cInJlZ2lzdGVyTGlua1wiIHRleHQ9XCJTJ2luc2NyaXJlXCIgb25BY3Rpb249XCIjaGFuZGxlUmVnaXN0ZXJcIi8+XG4gICAgMzRcdCAgICAgICAgICAgIDwvSEJveD5cbiAgICAzNVx0ICAgICAgICA8L1ZCb3g+XG4gICAgMzZcdCAgICA8L2NlbnRlcj5cbiAgICAzN1x0ICAgIFxuICAgIDM4XHQ8L0JvcmRlclBhbmU+XG4gICAgMzlcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzlcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjU4ODVkNDYwLWI4ZWEtNDk4Yi05ZTBmLTNhYzEyZGY5NWMwNDt0b29sdV92cnR4XzAxUjQ0dm5MUG1GRXVCbkNOYlJWVUZjbiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmE6XG4gICAgIDFcdHBhY2thZ2UgY29udHJvbGxlcnM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IGVudGl0aWVzLlVzZXJTZXNzaW9uO1xuICAgICA1XHRpbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxMVx0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAxMlx0aW1wb3J0IHV0aWxzLk15RGF0YWJhc2U7XG4gICAgMTNcdFxuICAgIDE0XHRpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbiAgICAxNVx0aW1wb3J0IGphdmEuc3FsLkNvbm5lY3Rpb247XG4gICAgMTZcdGltcG9ydCBqYXZhLnNxbC5QcmVwYXJlZFN0YXRlbWVudDtcbiAgICAxN1x0aW1wb3J0IGphdmEuc3FsLlJlc3VsdFNldDtcbiAgICAxOFx0aW1wb3J0IGphdmEuc3FsLlNRTEV4Y2VwdGlvbjtcbiAgICAxOVx0XG4gICAgMjBcdHB1YmxpYyBjbGFzcyBMb2dpbkNvbnRyb2xsZXIge1xuICAgIDIxXHRcbiAgICAyMlx0ICAgIEBGWE1MXG4gICAgMjNcdCAgICBwcml2YXRlIFRleHRGaWVsZCBlbWFpbEZpZWxkO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgIEBGWE1MXG4gICAgMjZcdCAgICBwcml2YXRlIFBhc3N3b3JkRmllbGQgcGFzc3dvcmRGaWVsZDtcbiAgICAyN1x0XG4gICAgMjhcdCAgICBARlhNTFxuICAgIDI5XHQgICAgcHJpdmF0ZSBCdXR0b24gbG9naW5CdXR0b247XG4gICAgMzBcdFxuICAgIDMxXHQgICAgQEZYTUxcbiAgICAzMlx0ICAgIHByaXZhdGUgSHlwZXJsaW5rIHJlZ2lzdGVyTGluaztcbiAgICAzM1x0XG4gICAgMzRcdCAgICBwcml2YXRlIENvbm5lY3Rpb24gY29ubmVjdGlvbjtcbiAgICAzNVx0XG4gICAgMzZcdCAgICBwdWJsaWMgTG9naW5Db250cm9sbGVyKCkge1xuICAgIDM3XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxhIGNvbm5leGlvbiDDoCBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgMzhcdCAgICAgICAgY29ubmVjdGlvbiA9IE15RGF0YWJhc2UuZ2V0SW5zdGFuY2UoKS5nZXRDb25uZWN0aW9uKCk7XG4gICAgMzlcdCAgICB9XG4gICAgNDBcdFxuICAgIDQxXHQgICAgQEZYTUxcbiAgICA0Mlx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ2luKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDNcdCAgICAgICAgU3RyaW5nIGVtYWlsID0gZW1haWxGaWVsZC5nZXRUZXh0KCk7XG4gICAgNDRcdCAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gcGFzc3dvcmRGaWVsZC5nZXRUZXh0KCk7XG4gICAgNDVcdFxuICAgIDQ2XHQgICAgICAgIC8vIFbDqXJpZmllciBxdWUgbGVzIGNoYW1wcyBuZSBzb250IHBhcyB2aWRlc1xuICAgIDQ3XHQgICAgICAgIGlmIChlbWFpbC5pc0VtcHR5KCkgfHwgcGFzc3dvcmQuaXNFbXB0eSgpKSB7XG4gICAgNDhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIGNvbm5leGlvblwiLCBcIlZldWlsbGV6IHJlbXBsaXIgdG91cyBsZXMgY2hhbXBzLlwiKTtcbiAgICA0OVx0ICAgICAgICAgICAgcmV0dXJuO1xuICAgIDUwXHQgICAgICAgIH1cbiAgICA1MVx0XG4gICAgNTJcdCAgICAgICAgdHJ5IHtcbiAgICA1M1x0ICAgICAgICAgICAgLy8gVsOpcmlmaWVyIGxlcyBpZGVudGlmaWFudHMgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAgNTRcdCAgICAgICAgICAgIFVzZXIgdXNlciA9IGF1dGhlbnRpY2F0ZVVzZXIoZW1haWwsIHBhc3N3b3JkKTtcbiAgICA1NVx0XG4gICAgNTZcdCAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICA1N1x0ICAgICAgICAgICAgICAgIC8vIENvbm5leGlvbiByw6l1c3NpZVxuICAgIDU4XHQgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICA1OVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiQ29ubmV4aW9uIHLDqXVzc2llXCIsIFwiQmllbnZlbnVlIFwiICsgdXNlci5nZXRQcmVub20oKSArIFwiIFwiICsgdXNlci5nZXROb20oKSArIFwiIVwiKTtcbiAgICA2MFx0ICAgICAgICAgICAgICAgIFxuICAgIDYxXHQgICAgICAgICAgICAgICAgLy8gUmVkaXJpZ2VyIHZlcnMgbGEgcGFnZSBkJ2FjY3VlaWxcbiAgICA2Mlx0ICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9Ib21lKCk7XG4gICAgNjNcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgNjRcdCAgICAgICAgICAgICAgICAvLyDDiWNoZWMgZGUgbGEgY29ubmV4aW9uXG4gICAgNjVcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBjb25uZXhpb25cIiwgXCJFbWFpbCBvdSBtb3QgZGUgcGFzc2UgaW5jb3JyZWN0LlwiKTtcbiAgICA2Nlx0ICAgICAgICAgICAgfVxuICAgIDY3XHQgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAgNjhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIGJhc2UgZGUgZG9ubsOpZXNcIiwgZS5nZXRNZXNzYWdlKCkpO1xuICAgIDY5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDcwXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICA3MVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgbmF2aWdhdGlvblwiLCBcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGQnYWNjdWVpbC5cIik7XG4gICAgNzJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNzNcdCAgICAgICAgfVxuICAgIDc0XHQgICAgfVxuICAgIDc1XHRcbiAgICA3Nlx0ICAgIEBGWE1MXG4gICAgNzdcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZWdpc3RlcihBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDc4XHQgICAgICAgIHRyeSB7XG4gICAgNzlcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uXG4gICAgODBcdCAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1JlZ2lzdGVyLmZ4bWxcIikpO1xuICAgIDgxXHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgODJcdCAgICAgICAgICAgIFxuICAgIDgzXHQgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgIDg0XHQgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcmVnaXN0ZXJMaW5rLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgODVcdCAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIDg2XHQgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgODdcdCAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSW5zY3JpcHRpb25cIik7XG4gICAgODhcdCAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICA4OVx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgOTBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGEgcGFnZSBkJ2luc2NyaXB0aW9uLlwiKTtcbiAgICA5MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA5Mlx0ICAgICAgICB9XG4gICAgOTNcdCAgICB9XG4gICAgOTRcdFxuICAgIDk1XHQgICAgcHJpdmF0ZSBVc2VyIGF1dGhlbnRpY2F0ZVVzZXIoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHRocm93cyBTUUxFeGNlcHRpb24ge1xuICAgIDk2XHQgICAgICAgIFN0cmluZyBxdWVyeSA9IFwiU0VMRUNUICogRlJPTSB1c2VyIFdIRVJFIGVtYWlsID0gPyBBTkQgcGFzc3dvcmQgPSA/XCI7XG4gICAgOTdcdCAgICAgICAgUHJlcGFyZWRTdGF0ZW1lbnQgc3RhdGVtZW50ID0gY29ubmVjdGlvbi5wcmVwYXJlU3RhdGVtZW50KHF1ZXJ5KTtcbiAgICA5OFx0ICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDEsIGVtYWlsKTtcbiAgICA5OVx0ICAgICAgICBzdGF0ZW1lbnQuc2V0U3RyaW5nKDIsIHBhc3N3b3JkKTsgLy8gTm90ZTogRGFucyB1bmUgYXBwbGljYXRpb24gcsOpZWxsZSwgaWwgZmF1ZHJhaXQgaGFjaGVyIGxlIG1vdCBkZSBwYXNzZVxuICAgMTAwXHRcbiAgIDEwMVx0ICAgICAgICBSZXN1bHRTZXQgcmVzdWx0U2V0ID0gc3RhdGVtZW50LmV4ZWN1dGVRdWVyeSgpO1xuICAgMTAyXHRcbiAgIDEwM1x0ICAgICAgICBpZiAocmVzdWx0U2V0Lm5leHQoKSkge1xuICAgMTA0XHQgICAgICAgICAgICAvLyBDcsOpZXIgdW4gb2JqZXQgVXNlciBhdmVjIGxlcyBkb25uw6llcyBkZSBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAxMDVcdCAgICAgICAgICAgIFVzZXIgdXNlciA9IG5ldyBVc2VyKCk7XG4gICAxMDZcdCAgICAgICAgICAgIHVzZXIuc2V0SWQocmVzdWx0U2V0LmdldEludChcImlkXCIpKTtcbiAgIDEwN1x0ICAgICAgICAgICAgdXNlci5zZXROb20ocmVzdWx0U2V0LmdldFN0cmluZyhcIm5vbVwiKSk7XG4gICAxMDhcdCAgICAgICAgICAgIHVzZXIuc2V0UHJlbm9tKHJlc3VsdFNldC5nZXRTdHJpbmcoXCJwcmVub21cIikpO1xuICAgMTA5XHQgICAgICAgICAgICB1c2VyLnNldEVtYWlsKHJlc3VsdFNldC5nZXRTdHJpbmcoXCJlbWFpbFwiKSk7XG4gICAxMTBcdCAgICAgICAgICAgIHVzZXIuc2V0QWRyZXNzZShyZXN1bHRTZXQuZ2V0U3RyaW5nKFwiYWRyZXNzZVwiKSk7XG4gICAxMTFcdCAgICAgICAgICAgIHVzZXIuc2V0VGVsZXBob25lKHJlc3VsdFNldC5nZXRTdHJpbmcoXCJ0ZWxlcGhvbmVcIikpO1xuICAgMTEyXHQgICAgICAgICAgICB1c2VyLnNldFZlcmlmaWVkKHJlc3VsdFNldC5nZXRCb29sZWFuKFwiaXNfdmVyaWZpZWRcIikpO1xuICAgMTEzXHQgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQocmVzdWx0U2V0LmdldFRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikpO1xuICAgMTE0XHQgICAgICAgICAgICBcbiAgIDExNVx0ICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAxMTZcdCAgICAgICAgfVxuICAgMTE3XHRcbiAgIDExOFx0ICAgICAgICByZXR1cm4gbnVsbDtcbiAgIDExOVx0ICAgIH1cbiAgIDEyMFx0XG4gICAxMjFcdCAgICBwcml2YXRlIHZvaWQgbmF2aWdhdGVUb0hvbWUoKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTIyXHQgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2FjY3VlaWxcbiAgIDEyM1x0ICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Ib21lLmZ4bWxcIikpO1xuICAgMTI0XHQgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgIDEyNVx0ICAgICAgICBcbiAgIDEyNlx0ICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgMTI3XHQgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBsb2dpbkJ1dHRvbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMTI4XHQgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgMTI5XHQgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgIDEzMFx0ICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkFjY3VlaWxcIik7XG4gICAxMzFcdCAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgMTMyXHQgICAgfVxuICAgMTMzXHRcbiAgIDEzNFx0ICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgbWVzc2FnZSkge1xuICAgMTM1XHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAxMzZcdCAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgMTM3XHQgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAxMzhcdCAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobWVzc2FnZSk7XG4gICAxMzlcdCAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgIDE0MFx0ICAgIH1cbiAgIDE0MVx0fVxuICAgMTQyXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE0MlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2I5ZWQ4ZjgtNjZjYS00MDcwLTg4NWMtYTQ3ZTliOTllOTQzO3Rvb2x1X3ZydHhfMDFTQVZ1cWVtSnJwYzU0ZTZFN0p6OWd4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gcG9tLnhtbDpcbiAgICAgMVx0PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gICAgIDJcdDxwcm9qZWN0IHhtbG5zPVwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wXCJcbiAgICAgM1x0ICAgICAgICAgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIlxuICAgICA0XHQgICAgICAgICB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAgaHR0cDovL21hdmVuLmFwYWNoZS5vcmcveHNkL21hdmVuLTQuMC4wLnhzZFwiPlxuICAgICA1XHQgICAgPG1vZGVsVmVyc2lvbj40LjAuMDwvbW9kZWxWZXJzaW9uPlxuICAgICA2XHRcbiAgICAgN1x0ICAgIDxncm91cElkPm9yZy5leGFtcGxlPC9ncm91cElkPlxuICAgICA4XHQgICAgPGFydGlmYWN0SWQ+V29ya3Nob3BKREJDM0E2MzwvYXJ0aWZhY3RJZD5cbiAgICAgOVx0ICAgIDx2ZXJzaW9uPjEuMC1TTkFQU0hPVDwvdmVyc2lvbj5cbiAgICAxMFx0XG4gICAgMTFcdCAgICA8cHJvcGVydGllcz5cbiAgICAxMlx0ICAgICAgICA8bWF2ZW4uY29tcGlsZXIuc291cmNlPjE3PC9tYXZlbi5jb21waWxlci5zb3VyY2U+XG4gICAgMTNcdCAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4xNzwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0PlxuICAgIDE0XHQgICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDE1XHQgICAgPC9wcm9wZXJ0aWVzPlxuICAgIDE2XHQgICAgPGRlcGVuZGVuY2llcz5cbiAgICAxN1x0ICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICAxOFx0ICAgICAgICAgICAgPGdyb3VwSWQ+bXlzcWw8L2dyb3VwSWQ+XG4gICAgMTlcdCAgICAgICAgICAgIDxhcnRpZmFjdElkPm15c3FsLWNvbm5lY3Rvci1qYXZhPC9hcnRpZmFjdElkPlxuICAgIDIwXHQgICAgICAgICAgICA8dmVyc2lvbj44LjAuMzM8L3ZlcnNpb24+XG4gICAgMjFcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDIyXHQgICAgPC9kZXBlbmRlbmNpZXM+XG4gICAgMjNcdFxuICAgIDI0XHRcbiAgICAyNVx0PC9wcm9qZWN0PlxuVG90YWwgbGluZXMgaW4gZmlsZTogMjVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImIwOTM3MmIyLTk2ODUtNDAyOS04MDVlLWM1YTc5ZmQ4MjRhZTt0b29sdV92cnR4XzAxVlRXcmZ6UW1qZFZna3pNRHA1Q1d1VCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHBvbS54bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gICAgIDJcdDxwcm9qZWN0IHhtbG5zPVwiaHR0cDovL21hdmVuLmFwYWNoZS5vcmcvUE9NLzQuMC4wXCJcbiAgICAgM1x0ICAgICAgICAgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIlxuICAgICA0XHQgICAgICAgICB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vbWF2ZW4uYXBhY2hlLm9yZy9QT00vNC4wLjAgaHR0cDovL21hdmVuLmFwYWNoZS5vcmcveHNkL21hdmVuLTQuMC4wLnhzZFwiPlxuICAgICA1XHQgICAgPG1vZGVsVmVyc2lvbj40LjAuMDwvbW9kZWxWZXJzaW9uPlxuICAgICA2XHRcbiAgICAgN1x0ICAgIDxncm91cElkPm9yZy5leGFtcGxlPC9ncm91cElkPlxuICAgICA4XHQgICAgPGFydGlmYWN0SWQ+V29ya3Nob3BKREJDM0E2MzwvYXJ0aWZhY3RJZD5cbiAgICAgOVx0ICAgIDx2ZXJzaW9uPjEuMC1TTkFQU0hPVDwvdmVyc2lvbj5cbiAgICAxMFx0XG4gICAgMTFcdCAgICA8cHJvcGVydGllcz5cbiAgICAxMlx0ICAgICAgICA8bWF2ZW4uY29tcGlsZXIuc291cmNlPjE3PC9tYXZlbi5jb21waWxlci5zb3VyY2U+XG4gICAgMTNcdCAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4xNzwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0PlxuICAgIDE0XHQgICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDE1XHQgICAgICAgIDxqYXZhZngudmVyc2lvbj4xNy4wLjY8L2phdmFmeC52ZXJzaW9uPlxuICAgIDE2XHQgICAgPC9wcm9wZXJ0aWVzPlxuICAgIDE3XHRcbiAgICAxOFx0ICAgIDxkZXBlbmRlbmNpZXM+XG4gICAgMTlcdCAgICAgICAgPCEtLSBNeVNRTCBDb25uZWN0b3IgLS0+XG4gICAgMjBcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMjFcdCAgICAgICAgICAgIDxncm91cElkPm15c3FsPC9ncm91cElkPlxuICAgIDIyXHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5teXNxbC1jb25uZWN0b3ItamF2YTwvYXJ0aWZhY3RJZD5cbiAgICAyM1x0ICAgICAgICAgICAgPHZlcnNpb24+OC4wLjMzPC92ZXJzaW9uPlxuICAgIDI0XHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICAyNVx0XG4gICAgMjZcdCAgICAgICAgPCEtLSBKYXZhRlggRGVwZW5kZW5jaWVzIC0tPlxuICAgIDI3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDI4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICAyOVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWNvbnRyb2xzPC9hcnRpZmFjdElkPlxuICAgIDMwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICAzMVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgMzJcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMzNcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDM0XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtZnhtbDwvYXJ0aWZhY3RJZD5cbiAgICAzNVx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgMzZcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDM3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDM4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICAzOVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWdyYXBoaWNzPC9hcnRpZmFjdElkPlxuICAgIDQwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICA0MVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgNDJcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgNDNcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDQ0XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtbWVkaWE8L2FydGlmYWN0SWQ+XG4gICAgNDVcdCAgICAgICAgICAgIDx2ZXJzaW9uPiR7amF2YWZ4LnZlcnNpb259PC92ZXJzaW9uPlxuICAgIDQ2XHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICA0N1x0ICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICA0OFx0ICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgNDlcdCAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1zd2luZzwvYXJ0aWZhY3RJZD5cbiAgICA1MFx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgNTFcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDUyXHQgICAgPC9kZXBlbmRlbmNpZXM+XG4gICAgNTNcdFxuICAgIDU0XHQgICAgPGJ1aWxkPlxuICAgIDU1XHQgICAgICAgIDxwbHVnaW5zPlxuICAgIDU2XHQgICAgICAgICAgICA8cGx1Z2luPlxuICAgIDU3XHQgICAgICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLmFwYWNoZS5tYXZlbi5wbHVnaW5zPC9ncm91cElkPlxuICAgIDU4XHQgICAgICAgICAgICAgICAgPGFydGlmYWN0SWQ+bWF2ZW4tY29tcGlsZXItcGx1Z2luPC9hcnRpZmFjdElkPlxuICAgIDU5XHQgICAgICAgICAgICAgICAgPHZlcnNpb24+My4xMS4wPC92ZXJzaW9uPlxuICAgIDYwXHQgICAgICAgICAgICAgICAgPGNvbmZpZ3VyYXRpb24+XG4gICAgNjFcdCAgICAgICAgICAgICAgICAgICAgPHNvdXJjZT4xNzwvc291cmNlPlxuICAgIDYyXHQgICAgICAgICAgICAgICAgICAgIDx0YXJnZXQ+MTc8L3RhcmdldD5cbiAgICA2M1x0ICAgICAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj5cbiAgICA2NFx0ICAgICAgICAgICAgPC9wbHVnaW4+XG4gICAgNjVcdCAgICAgICAgICAgIDxwbHVnaW4+XG4gICAgNjZcdCAgICAgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICA2N1x0ICAgICAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1tYXZlbi1wbHVnaW48L2FydGlmYWN0SWQ+XG4gICAgNjhcdCAgICAgICAgICAgICAgICA8dmVyc2lvbj4wLjAuODwvdmVyc2lvbj5cbiAgICA2OVx0ICAgICAgICAgICAgICAgIDxleGVjdXRpb25zPlxuICAgIDcwXHQgICAgICAgICAgICAgICAgICAgIDxleGVjdXRpb24+XG4gICAgNzFcdCAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBydW5uaW5nIHdpdGg6IG12biBjbGVhbiBqYXZhZng6cnVuIC0tPlxuICAgIDcyXHQgICAgICAgICAgICAgICAgICAgICAgICA8aWQ+ZGVmYXVsdC1jbGk8L2lkPlxuICAgIDczXHQgICAgICAgICAgICAgICAgICAgICAgICA8Y29uZmlndXJhdGlvbj5cbiAgICA3NFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtYWluQ2xhc3M+dGVzdHMuTWFpbjwvbWFpbkNsYXNzPlxuICAgIDc1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhdW5jaGVyPmFwcDwvbGF1bmNoZXI+XG4gICAgNzZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8amxpbmtaaXBOYW1lPmFwcDwvamxpbmtaaXBOYW1lPlxuICAgIDc3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGpsaW5rSW1hZ2VOYW1lPmFwcDwvamxpbmtJbWFnZU5hbWU+XG4gICAgNzhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bm9NYW5QYWdlcz50cnVlPC9ub01hblBhZ2VzPlxuICAgIDc5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cmlwRGVidWc+dHJ1ZTwvc3RyaXBEZWJ1Zz5cbiAgICA4MFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxub0hlYWRlckZpbGVzPnRydWU8L25vSGVhZGVyRmlsZXM+XG4gICAgODFcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvY29uZmlndXJhdGlvbj5cbiAgICA4Mlx0ICAgICAgICAgICAgICAgICAgICA8L2V4ZWN1dGlvbj5cbiAgICA4M1x0ICAgICAgICAgICAgICAgIDwvZXhlY3V0aW9ucz5cbiAgICA4NFx0ICAgICAgICAgICAgPC9wbHVnaW4+XG4gICAgODVcdCAgICAgICAgPC9wbHVnaW5zPlxuICAgIDg2XHQgICAgPC9idWlsZD5cbiAgICA4N1x0PC9wcm9qZWN0PlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0MTQwYjg4NC1kOWNjLTRiNTgtOTE1Mi1lNjkwZDZjMWVkMjI7dG9vbHVfdnJ0eF8wMVJSUFFtVGRlOXRwY0ZGcEczVFpUc0giOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmFsc2VcclxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiODY1NzdhNDUtMWExOC00MzQ1LWE1ZWMtZWU0YjA2YWM3N2RkO3Rvb2x1X3ZydHhfMDFBOW5ZYVk1TWdDZGoyUHRSc0hRYnV6Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjY5ODkyYWU4LTljZTYtNGFmNC04ZmRiLTU2YjVlYTBkZjMxZDt0b29sdV92cnR4XzAxU21BS2ZlQks0SEF5SkRrMmtVQ0t2UiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgMTNcdFxuICAgIDE0XHQgICAgQE92ZXJyaWRlXG4gICAgMTVcdCAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBwcmltYXJ5U3RhZ2UpIHtcbiAgICAxNlx0ICAgICAgICB0cnkge1xuICAgIDE3XHQgICAgICAgICAgICAvLyBDaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTCBkZSBsb2dpblxuICAgIDE4XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Mb2dpbi5meG1sXCIpKTtcbiAgICAxOVx0ICAgICAgICAgICAgLy8gU2kgbGUgY2hhcmdlbWVudCDDqWNob3VlLCBlc3NheWV6IGF2ZWMgdW4gY2hlbWluIGFsdGVybmF0aWZcbiAgICAyMFx0ICAgICAgICAgICAgaWYgKGxvYWRlci5nZXRMb2NhdGlvbigpID09IG51bGwpIHtcbiAgICAyMVx0ICAgICAgICAgICAgICAgIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKG5ldyBGaWxlKFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvTG9naW4uZnhtbFwiKS50b1VSSSgpLnRvVVJMKCkpO1xuICAgIDIyXHQgICAgICAgICAgICB9XG4gICAgMjNcdCAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgICAyNFx0XG4gICAgMjVcdCAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2PDqG5lXG4gICAgMjZcdCAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI2MWQyNjk5YS0zZjIwLTQ1ZjktODcwMi01YzZkNWJkMzk2Yjc7dG9vbHVfdnJ0eF8wMURDRVVTYVZBZWoxQzFpc2FTOWV1MkYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiW0lORk9dIFNjYW5uaW5nIGZvciBwcm9qZWN0cy4uLlxyXG5bSU5GT10gXHJcbltJTkZPXSAtLS0tLS0tLS0tLS0tLS0tLS0tLTwgb3JnLmV4YW1wbGU6V29ya3Nob3BKREJDM0E2MyA+LS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuW0lORk9dIEJ1aWxkaW5nIFdvcmtzaG9wSkRCQzNBNjMgMS4wLVNOQVBTSE9UXHJcbltJTkZPXSAgIGZyb20gcG9tLnhtbFxyXG5bSU5GT10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGphciBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbltXQVJOSU5HXSA2IHByb2JsZW1zIHdlcmUgZW5jb3VudGVyZWQgd2hpbGUgYnVpbGRpbmcgdGhlIGVmZmVjdGl2ZSBtb2RlbCBmb3Igb3JnLm9wZW5qZng6amF2YWZ4LWNvbnRyb2xzOmphcjoxNy4wLjYgZHVyaW5nIGRlcGVuZGVuY3kgY29sbGVjdGlvbiBzdGVwIGZvciBwcm9qZWN0ICh1c2UgLVggdG8gc2VlIGRldGFpbHMpXHJcbltXQVJOSU5HXSBUaGUgYXJ0aWZhY3QgbXlzcWw6bXlzcWwtY29ubmVjdG9yLWphdmE6amFyOjguMC4zMyBoYXMgYmVlbiByZWxvY2F0ZWQgdG8gY29tLm15c3FsOm15c3FsLWNvbm5lY3Rvci1qOmphcjo4LjAuMzM6IE15U1FMIENvbm5lY3Rvci9KIGFydGlmYWN0cyBtb3ZlZCB0byByZXZlcnNlLUROUyBjb21wbGlhbnQgTWF2ZW4gMisgY29vcmRpbmF0ZXMuXHJcbltJTkZPXSBcclxuW0lORk9dIC0tLSBkZXBlbmRlbmN5OjMuNy4wOnJlc29sdmUgKGRlZmF1bHQtY2xpKSBAIFdvcmtzaG9wSkRCQzNBNjMgLS0tXHJcbltJTkZPXSBcclxuW0lORk9dIFRoZSBmb2xsb3dpbmcgZmlsZXMgaGF2ZSBiZWVuIHJlc29sdmVkOlxyXG5bSU5GT10gICAgY29tLm15c3FsOm15c3FsLWNvbm5lY3Rvci1qOmphcjo4LjAuMzM6Y29tcGlsZSAtLSBtb2R1bGUgbXlzcWwuY29ubmVjdG9yLmogKGF1dG8pXHJcbltJTkZPXSAgICBjb20uZ29vZ2xlLnByb3RvYnVmOnByb3RvYnVmLWphdmE6amFyOjMuMjEuOTpjb21waWxlIC0tIG1vZHVsZSBjb20uZ29vZ2xlLnByb3RvYnVmIFthdXRvXVxyXG5bSU5GT10gICAgb3JnLm9wZW5qZng6amF2YWZ4LWNvbnRyb2xzOmphcjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmNvbnRyb2xzRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtY29udHJvbHM6amFyOndpbjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmNvbnRyb2xzXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtZnhtbDpqYXI6MTcuMC42OmNvbXBpbGUgLS0gbW9kdWxlIGphdmFmeC5meG1sRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtZnhtbDpqYXI6d2luOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguZnhtbFxyXG5bSU5GT10gICAgb3JnLm9wZW5qZng6amF2YWZ4LWdyYXBoaWNzOmphcjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmdyYXBoaWNzRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtZ3JhcGhpY3M6amFyOndpbjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4LmdyYXBoaWNzXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtYmFzZTpqYXI6MTcuMC42OmNvbXBpbGUgLS0gbW9kdWxlIGphdmFmeC5iYXNlRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtYmFzZTpqYXI6d2luOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguYmFzZVxyXG5bSU5GT10gICAgb3JnLm9wZW5qZng6amF2YWZ4LW1lZGlhOmphcjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4Lm1lZGlhRW1wdHkgW2F1dG9dXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtbWVkaWE6amFyOndpbjoxNy4wLjY6Y29tcGlsZSAtLSBtb2R1bGUgamF2YWZ4Lm1lZGlhXHJcbltJTkZPXSAgICBvcmcub3BlbmpmeDpqYXZhZngtc3dpbmc6amFyOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguc3dpbmdFbXB0eSBbYXV0b11cclxuW0lORk9dICAgIG9yZy5vcGVuamZ4OmphdmFmeC1zd2luZzpqYXI6d2luOjE3LjAuNjpjb21waWxlIC0tIG1vZHVsZSBqYXZhZnguc3dpbmdcclxuW0lORk9dIFxyXG5bSU5GT10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbltJTkZPXSBCVUlMRCBTVUNDRVNTXHJcbltJTkZPXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuW0lORk9dIFRvdGFsIHRpbWU6ICA1LjgzMSBzXHJcbltJTkZPXSBGaW5pc2hlZCBhdDogMjAyNS0wNS0wNlQxNDozNjo1NyswMTowMFxyXG5bSU5GT10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImUyOTY0MThkLWM1YjMtNDY2My04MTc4LTgwZmIxZmRiMDI3OTt0b29sdV92cnR4XzAxMUVXY1NmVjhva0NEV1FTTDRNUWVnayI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvbW9kdWxlLWluZm8uamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRtb2R1bGUgb3JnLmV4YW1wbGUud29ya3Nob3BqZGJjIHtcbiAgICAgMlx0ICAgIHJlcXVpcmVzIGphdmFmeC5jb250cm9scztcbiAgICAgM1x0ICAgIHJlcXVpcmVzIGphdmFmeC5meG1sO1xuICAgICA0XHQgICAgcmVxdWlyZXMgamF2YWZ4LmdyYXBoaWNzO1xuICAgICA1XHQgICAgcmVxdWlyZXMgamF2YWZ4Lm1lZGlhO1xuICAgICA2XHQgICAgcmVxdWlyZXMgamF2YWZ4LnN3aW5nO1xuICAgICA3XHQgICAgcmVxdWlyZXMgamF2YWZ4LmJhc2U7XG4gICAgIDhcdCAgICByZXF1aXJlcyBqYXZhLnNxbDtcbiAgICAgOVx0XG4gICAgMTBcdCAgICBvcGVucyB0ZXN0cyB0byBqYXZhZnguZnhtbCwgamF2YWZ4LmdyYXBoaWNzLCBqYXZhZnguYmFzZTtcbiAgICAxMVx0ICAgIG9wZW5zIGNvbnRyb2xsZXJzIHRvIGphdmFmeC5meG1sLCBqYXZhZnguZ3JhcGhpY3MsIGphdmFmeC5iYXNlO1xuICAgIDEyXHQgICAgb3BlbnMgZW50aXRpZXMgdG8gamF2YWZ4LmJhc2UsIGphdmFmeC5meG1sO1xuICAgIDEzXHRcbiAgICAxNFx0ICAgIGV4cG9ydHMgdGVzdHM7XG4gICAgMTVcdCAgICBleHBvcnRzIGNvbnRyb2xsZXJzO1xuICAgIDE2XHQgICAgZXhwb3J0cyBlbnRpdGllcztcbiAgICAxN1x0fVxuICAgIDE4XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYmQ4NDI5OTEtMTViYi00ZWI4LThiY2ItNGM4NmE1YzY4MGNkO3Rvb2x1X3ZydHhfMDFScUpnWGVKQlk0d3hCeEpTUEFRd05mIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImNmMjE5ZTY4LTU1ZDUtNDliNC1iOTE2LWZlMWJjYjVjYmY2ZDt0b29sdV92cnR4XzAxQXNuZERNcGRmVGJ1V0hNRFc5b251WiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvdGVzdHMvTWFpbi5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDFcdHBhY2thZ2UgdGVzdHM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uO1xuICAgICA0XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbiAgICAgNVx0aW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG4gICAgIDZcdGltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG4gICAgIDdcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgIDhcdFxuICAgICA5XHRpbXBvcnQgamF2YS5pby5GaWxlO1xuICAgIDEwXHRpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbiAgICAxMVx0aW1wb3J0IGphdmEubmV0LlVSTDtcbiAgICAxMlx0XG4gICAgMTNcdHB1YmxpYyBjbGFzcyBNYWluIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIDE0XHRcbiAgICAxNVx0ICAgIEBPdmVycmlkZVxuICAgIDE2XHQgICAgcHVibGljIHZvaWQgc3RhcnQoU3RhZ2UgcHJpbWFyeVN0YWdlKSB7XG4gICAgMTdcdCAgICAgICAgdHJ5IHtcbiAgICAxOFx0ICAgICAgICAgICAgLy8gRXNzYXllciBkZSBjaGFyZ2VyIGxlIGZpY2hpZXIgRlhNTCBhdmVjIHVuIGNoZW1pbiBhYnNvbHVcbiAgICAxOVx0ICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXCIpO1xuICAgIDIwXHQgICAgICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xuICAgIDIxXHQgICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xuICAgIDIyXHQgICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xuICAgIDIzXHQgICAgICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAgIDI0XHRcbiAgICAyNVx0ICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2PDqG5lXG4gICAgMjZcdCAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAyN1x0ICAgICAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgMjhcdCAgICAgICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0VGl0bGUoXCJMb2dpblwiKTtcbiAgICAyOVx0ICAgICAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zaG93KCk7XG4gICAgMzBcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgMzFcdCAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgMzJcdCAgICAgICAgICAgIH1cbiAgICAzM1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgMzRcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGUgbGEgcGFnZSBkZSBsb2dpbjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgMzVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgMzZcdCAgICAgICAgfVxuICAgIDM3XHQgICAgfVxuICAgIDM4XHRcbiAgICAzOVx0ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiAgICA0MFx0ICAgICAgICBsYXVuY2goYXJncyk7XG4gICAgNDFcdCAgICB9XG4gICAgNDJcdH1cbiAgICA0M1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjUxMzIxYThlLTAzMDEtNGI2Zi05NDQ0LWUxM2VhNTRlMTc0ODt0b29sdV92cnR4XzAxOXpSdGVtS2VXeFFKWTU5b00xNU56cSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA3Mlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICA3M1x0ICAgICAgICB9XG4gICAgNzRcdCAgICB9XG4gICAgNzVcdFxuICAgIDc2XHQgICAgQEZYTUxcbiAgICA3N1x0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZVJlZ2lzdGVyKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNzhcdCAgICAgICAgdHJ5IHtcbiAgICA3OVx0ICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGQnaW5zY3JpcHRpb24gYXZlYyB1biBjaGVtaW4gYWJzb2x1XG4gICAgODBcdCAgICAgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvUmVnaXN0ZXIuZnhtbFwiKTtcbiAgICA4MVx0ICAgICAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcbiAgICA4Mlx0ICAgICAgICAgICAgICAgIFVSTCB1cmwgPSBmaWxlLnRvVVJJKCkudG9VUkwoKTtcbiAgICA4M1x0ICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIodXJsKTtcbiAgICA4NFx0ICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgICA4NVx0XG4gICAgODZcdCAgICAgICAgICAgICAgICAvLyBDb25maWd1cmVyIGxhIHNjw6huZVxuICAgIDg3XHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHJlZ2lzdGVyTGluay5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgIDg4XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgODlcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgOTBcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkluc2NyaXB0aW9uXCIpO1xuICAgIDkxXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIDkyXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgIDkzXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgbmF2aWdhdGlvblwiLCBcIkZpY2hpZXIgRlhNTCBub24gdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgICA5NFx0ICAgICAgICAgICAgfVxuICAgIDk1XHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICA5Nlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgbmF2aWdhdGlvblwiLCBcIkltcG9zc2libGUgZGUgY2hhcmdlciBsYSBwYWdlIGQnaW5zY3JpcHRpb24uXCIpO1xuICAgIDk3XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDk4XHQgICAgICAgIH1cbiAgICA5OVx0ICAgIH1cbiAgIDEwMFx0XG4gICAxMDFcdCAgICBwcml2YXRlIFVzZXIgYXV0aGVudGljYXRlVXNlcihTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgdGhyb3dzIFNRTEV4Y2VwdGlvbiB7XG4gICAxMDJcdCAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gXCJTRUxFQ1QgKiBGUk9NIHVzZXIgV0hFUkUgZW1haWwgPSA/IEFORCBwYXNzd29yZCA9ID9cIjtcbiAgIDEwM1x0ICAgICAgICBQcmVwYXJlZFN0YXRlbWVudCBzdGF0ZW1lbnQgPSBjb25uZWN0aW9uLnByZXBhcmVTdGF0ZW1lbnQocXVlcnkpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI2YzI5YTJlMS03YjdiLTQ0ZWYtYmZjYS1mZmFkNWQ0ZjVkNzI7dG9vbHVfdnJ0eF8wMVJhenlBZU14MjVReWlwNUd6NllUVHciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgMTBcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuICAgIDExXHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgIDEyXHRpbXBvcnQgdXRpbHMuTXlEYXRhYmFzZTtcbiAgICAxM1x0XG4gICAgMTRcdGltcG9ydCBqYXZhLmlvLkZpbGU7XG4gICAgMTVcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDE2XHRpbXBvcnQgamF2YS5uZXQuVVJMO1xuICAgIDE3XHRpbXBvcnQgamF2YS5zcWwuQ29ubmVjdGlvbjtcbiAgICAxOFx0aW1wb3J0IGphdmEuc3FsLlByZXBhcmVkU3RhdGVtZW50O1xuICAgIDE5XHRpbXBvcnQgamF2YS5zcWwuUmVzdWx0U2V0O1xuICAgIDIwXHRpbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuICAgIDIxXHRcbiAgICAyMlx0cHVibGljIGNsYXNzIExvZ2luQ29udHJvbGxlciB7XG4gICAgMjNcdFxuICAgIDI0XHQgICAgQEZYTUxcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGFkZDM1NWYtZmQ0Yi00OGMzLWEwOGYtM2U1NzkwNTJmMzE4O3Rvb2x1X3ZydHhfMDEyYUVaQXM1UThScWNHZUMxNmtIeGFBIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMTI1XHRcbiAgIDEyNlx0ICAgICAgICByZXR1cm4gbnVsbDtcbiAgIDEyN1x0ICAgIH1cbiAgIDEyOFx0XG4gICAxMjlcdCAgICBwcml2YXRlIHZvaWQgbmF2aWdhdGVUb0hvbWUoKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTMwXHQgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkJ2FjY3VlaWwgYXZlYyB1biBjaGVtaW4gYWJzb2x1XG4gICAxMzFcdCAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Ib21lLmZ4bWxcIik7XG4gICAxMzJcdCAgICAgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHtcbiAgIDEzM1x0ICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xuICAgMTM0XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAxMzVcdCAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgIDEzNlx0XG4gICAxMzdcdCAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2PDqG5lXG4gICAxMzhcdCAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBsb2dpbkJ1dHRvbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMTM5XHQgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgIDE0MFx0ICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgMTQxXHQgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkFjY3VlaWxcIik7XG4gICAxNDJcdCAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgIDE0M1x0ICAgICAgICB9IGVsc2Uge1xuICAgMTQ0XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkZSBuYXZpZ2F0aW9uXCIsIFwiRmljaGllciBGWE1MIG5vbiB0cm91dsOpOiBcIiArIGZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgMTQ1XHQgICAgICAgIH1cbiAgIDE0Nlx0ICAgIH1cbiAgIDE0N1x0XG4gICAxNDhcdCAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIG1lc3NhZ2UpIHtcbiAgIDE0OVx0ICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgMTUwXHQgICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZjNmMTdjMWUtNzBjNS00ZjQ3LWE3NTgtMWM4ZWRhNDVmZmM5O3Rvb2x1X3ZydHhfMDFCUTZqb2tiSndLbXkyWEtNRm1FeWF6Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImYxZDM3NTc0LTljZTYtNGQ0NC1hZTRjLWM1MDM1MzRlYmU1NDt0b29sdV92cnR4XzAxUGZlVHRiVURaWnFYU2pMWUVoS0RtZiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiYjdiMjU3NS1iMGQxLTQyOTItOTNhZi1lZGY0MDEyYzI1Y2I7dG9vbHVfdnJ0eF8wMUtFZGd1ekFzTVQ1dzZ6eXd4cHJUTXEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiODkzZjk2NDQtMTk4Yy00ZjE4LTljMzAtOGY5NzAyNjk4ODA5O3Rvb2x1X3ZydHhfMDFYdFNVV3VqQ2h1N3dQNzY0QmR5eHY0Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImJkN2ZjN2UyLTNkMWItNDM4OC04NDAyLWY5ODNlOTZlM2UxZjt0b29sdV92cnR4XzAxUXlwVXpLUG82UURSdEpXdHc3QWhnQiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHBvbS54bWw6XG4gICAgMTFcdCAgICA8cHJvcGVydGllcz5cbiAgICAxMlx0ICAgICAgICA8bWF2ZW4uY29tcGlsZXIuc291cmNlPjE3PC9tYXZlbi5jb21waWxlci5zb3VyY2U+XG4gICAgMTNcdCAgICAgICAgPG1hdmVuLmNvbXBpbGVyLnRhcmdldD4xNzwvbWF2ZW4uY29tcGlsZXIudGFyZ2V0PlxuICAgIDE0XHQgICAgICAgIDxwcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlVURi04PC9wcm9qZWN0LmJ1aWxkLnNvdXJjZUVuY29kaW5nPlxuICAgIDE1XHQgICAgICAgIDxqYXZhZngudmVyc2lvbj4xNy4wLjY8L2phdmFmeC52ZXJzaW9uPlxuICAgIDE2XHQgICAgPC9wcm9wZXJ0aWVzPlxuVG90YWwgbGluZXMgaW4gZmlsZTogODdcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjI0NmFhNDc2LWVkMDAtNDRiYy04N2MyLWZkOWJiNzg3MThkOTt0b29sdV92cnR4XzAxSkRzTmdOTUdmVVlKRVNnQjlBaERkYyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHBvbS54bWw6XG4gICAgMjZcdCAgICAgICAgPCEtLSBKYXZhRlggRGVwZW5kZW5jaWVzIC0tPlxuICAgIDI3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDI4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICAyOVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWNvbnRyb2xzPC9hcnRpZmFjdElkPlxuICAgIDMwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICAzMVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgMzJcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgMzNcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDM0XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtZnhtbDwvYXJ0aWZhY3RJZD5cbiAgICAzNVx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgMzZcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuICAgIDM3XHQgICAgICAgIDxkZXBlbmRlbmN5PlxuICAgIDM4XHQgICAgICAgICAgICA8Z3JvdXBJZD5vcmcub3BlbmpmeDwvZ3JvdXBJZD5cbiAgICAzOVx0ICAgICAgICAgICAgPGFydGlmYWN0SWQ+amF2YWZ4LWdyYXBoaWNzPC9hcnRpZmFjdElkPlxuICAgIDQwXHQgICAgICAgICAgICA8dmVyc2lvbj4ke2phdmFmeC52ZXJzaW9ufTwvdmVyc2lvbj5cbiAgICA0MVx0ICAgICAgICA8L2RlcGVuZGVuY3k+XG4gICAgNDJcdCAgICAgICAgPGRlcGVuZGVuY3k+XG4gICAgNDNcdCAgICAgICAgICAgIDxncm91cElkPm9yZy5vcGVuamZ4PC9ncm91cElkPlxuICAgIDQ0XHQgICAgICAgICAgICA8YXJ0aWZhY3RJZD5qYXZhZngtbWVkaWE8L2FydGlmYWN0SWQ+XG4gICAgNDVcdCAgICAgICAgICAgIDx2ZXJzaW9uPiR7amF2YWZ4LnZlcnNpb259PC92ZXJzaW9uPlxuICAgIDQ2XHQgICAgICAgIDwvZGVwZW5kZW5jeT5cbiAgICA0N1x0ICAgICAgICA8ZGVwZW5kZW5jeT5cbiAgICA0OFx0ICAgICAgICAgICAgPGdyb3VwSWQ+b3JnLm9wZW5qZng8L2dyb3VwSWQ+XG4gICAgNDlcdCAgICAgICAgICAgIDxhcnRpZmFjdElkPmphdmFmeC1zd2luZzwvYXJ0aWZhY3RJZD5cbiAgICA1MFx0ICAgICAgICAgICAgPHZlcnNpb24+JHtqYXZhZngudmVyc2lvbn08L3ZlcnNpb24+XG4gICAgNTFcdCAgICAgICAgPC9kZXBlbmRlbmN5PlxuVG90YWwgbGluZXMgaW4gZmlsZTogODdcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjM3YTA3YThmLTBkMmQtNDU5MC05ODVmLTEyYjhhYjZjMDRmMzt0b29sdV92cnR4XzAxS3NKY0g2ZVBYcDg3aFJWdzhCVXViMSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyMzQ1MDA4NC0xZTlkLTQxY2EtOWU3Ny0zODQxM2FjMTJlNWM7dG9vbHVfdnJ0eF8wMVNaOWQ4dkhFTmU0NUJxNUJMUnA5bUsiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2M2MmMwYmItMzVlMS00M2E5LTliMDgtZWJlOThmOTdkM2VmO3Rvb2x1X3ZydHhfMDFSNHlVTlRFZkExSGlKVTVTYjJvUERlIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVkZDI1NDQ4LTZjNGMtNGM0OS1iOTRjLWFiYmZmOTVmMDk0NTt0b29sdV92cnR4XzAxSng3cll4UXZzYzZTQUNCQUJQa0pkQSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgMVx0cGFja2FnZSBjb250cm9sbGVycztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuICAgICA1XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgIDdcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgICA5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxMFx0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAxMVx0aW1wb3J0IHNlcnZpY2VzLkF1dGhTZXJ2aWNlO1xuICAgIDEyXHRcbiAgICAxM1x0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxNFx0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMTVcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgMTZcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTdcdFxuICAgIDE4XHRwdWJsaWMgY2xhc3MgTG9naW5Db250cm9sbGVyIHtcbiAgICAxOVx0XG4gICAgMjBcdCAgICBARlhNTFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIwOTBmYTIxZS1hM2UxLTRlOWQtOGIzYy05Yjk3ZDU3ZTgzY2Y7dG9vbHVfdnJ0eF8wMTdRVWRNSkRteURWQlJ2NG5RRURkeXYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgMjhcdFxuICAgIDI5XHQgICAgQEZYTUxcbiAgICAzMFx0ICAgIHByaXZhdGUgSHlwZXJsaW5rIHJlZ2lzdGVyTGluaztcbiAgICAzMVx0XG4gICAgMzJcdCAgICBwcml2YXRlIEF1dGhTZXJ2aWNlIGF1dGhTZXJ2aWNlO1xuICAgIDMzXHRcbiAgICAzNFx0ICAgIHB1YmxpYyBMb2dpbkNvbnRyb2xsZXIoKSB7XG4gICAgMzVcdCAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICAzNlx0ICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgMzdcdCAgICB9XG4gICAgMzhcdFxuICAgIDM5XHQgICAgQEZYTUxcbiAgICA0MFx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ2luKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDFcdCAgICAgICAgU3RyaW5nIGVtYWlsID0gZW1haWxGaWVsZC5nZXRUZXh0KCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjIxNmViZWE0LWE1OWYtNDM4YS05ZWY1LTE1MTE2ZmQwMWVhNTt0b29sdV92cnR4XzAxSDhabkNWOWlYNUgzaDRNVFFLQUpRViI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvTG9naW5Db250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA0Nlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgY29ubmV4aW9uXCIsIFwiVmV1aWxsZXogcmVtcGxpciB0b3VzIGxlcyBjaGFtcHMuXCIpO1xuICAgIDQ3XHQgICAgICAgICAgICByZXR1cm47XG4gICAgNDhcdCAgICAgICAgfVxuICAgIDQ5XHRcbiAgICA1MFx0ICAgICAgICB0cnkge1xuICAgIDUxXHQgICAgICAgICAgICAvLyBWw6lyaWZpZXIgbGVzIGlkZW50aWZpYW50cyBhdmVjIGxlIHNlcnZpY2UgZCdhdXRoZW50aWZpY2F0aW9uXG4gICAgNTJcdCAgICAgICAgICAgIFVzZXIgdXNlciA9IGF1dGhTZXJ2aWNlLmxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgNTNcdFxuICAgIDU0XHQgICAgICAgICAgICBpZiAodXNlciAhPSBudWxsKSB7XG4gICAgNTVcdCAgICAgICAgICAgICAgICAvLyBDb25uZXhpb24gcsOpdXNzaWVcbiAgICA1Nlx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiQ29ubmV4aW9uIHLDqXVzc2llXCIsIFwiQmllbnZlbnVlIFwiICsgdXNlci5nZXRQcmVub20oKSArIFwiIFwiICsgdXNlci5nZXROb20oKSArIFwiIVwiKTtcbiAgICA1N1x0XG4gICAgNThcdCAgICAgICAgICAgICAgICAvLyBSZWRpcmlnZXIgdmVycyBsYSBwYWdlIGQnYWNjdWVpbFxuICAgIDU5XHQgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0hvbWUoKTtcbiAgICA2MFx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgICA2MVx0ICAgICAgICAgICAgICAgIC8vIMOJY2hlYyBkZSBsYSBjb25uZXhpb25cbiAgICA2Mlx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIGNvbm5leGlvblwiLCBcIkVtYWlsIG91IG1vdCBkZSBwYXNzZSBpbmNvcnJlY3QuXCIpO1xuICAgIDYzXHQgICAgICAgICAgICB9XG4gICAgNjRcdCAgICAgICAgfSBjYXRjaCAoU1FMRXhjZXB0aW9uIGUpIHtcbiAgICA2NVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgYmFzZSBkZSBkb25uw6llc1wiLCBlLmdldE1lc3NhZ2UoKSk7XG4gICAgNjZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgNjdcdCAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1NmQyODcxNS1jMDI4LTQ2MDAtYmY3MC0xODI0MGY2OTkyMmQ7dG9vbHVfdnJ0eF8wMU5laWM2V2tkRlhZZDJ4OUJCYUxoTTUiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgOTRcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgOTVcdCAgICAgICAgfVxuICAgIDk2XHQgICAgfVxuICAgIDk3XHRcbiAgICA5OFx0XG4gICAgOTlcdFxuICAgMTAwXHQgICAgcHJpdmF0ZSB2b2lkIG5hdmlnYXRlVG9Ib21lKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgIDEwMVx0ICAgICAgICAvLyBDaGFyZ2VyIGxhIHBhZ2UgZCdhY2N1ZWlsIGF2ZWMgdW4gY2hlbWluIGFic29sdVxuICAgMTAyXHQgICAgICAgIEZpbGUgZmlsZSA9IG5ldyBGaWxlKFwic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvSG9tZS5meG1sXCIpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhYTZkZjFhZC0wZTg2LTRkNTktYjgyOS0zYmNkOGNlZjU1MjU7dG9vbHVfdnJ0eF8wMTlod1ozc0NuWXFtUEJvV0ZiNE10NmsiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1JlZ2lzdGVyQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDFcdHBhY2thZ2UgY29udHJvbGxlcnM7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgZW50aXRpZXMuVXNlcjtcbiAgICAgNFx0aW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbiAgICAgNVx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG4gICAgIDZcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuICAgICA3XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbiAgICAgOFx0aW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XG4gICAgMTBcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgMTFcdGltcG9ydCBzZXJ2aWNlcy5BdXRoU2VydmljZTtcbiAgICAxMlx0XG4gICAgMTNcdGltcG9ydCBqYXZhLmlvLkZpbGU7XG4gICAgMTRcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDE1XHRpbXBvcnQgamF2YS5uZXQuVVJMO1xuICAgIDE2XHRpbXBvcnQgamF2YS5zcWwuU1FMRXhjZXB0aW9uO1xuICAgIDE3XHRpbXBvcnQgamF2YS5zcWwuVGltZXN0YW1wO1xuICAgIDE4XHRcbiAgICAxOVx0cHVibGljIGNsYXNzIFJlZ2lzdGVyQ29udHJvbGxlciB7XG4gICAgMjBcdFxuICAgIDIxXHQgICAgQEZYTUxcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZDNmNTQ3MzMtZjYwYS00NDIxLThhYWYtYzllYjc1NjIwMmJjO3Rvb2x1X3ZydHhfMDFTMjh6Skg3akNFYURHUEhYWFNNcWpUIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9SZWdpc3RlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDQxXHRcbiAgICA0Mlx0ICAgIEBGWE1MXG4gICAgNDNcdCAgICBwcml2YXRlIEh5cGVybGluayBsb2dpbkxpbms7XG4gICAgNDRcdFxuICAgIDQ1XHQgICAgcHJpdmF0ZSBBdXRoU2VydmljZSBhdXRoU2VydmljZTtcbiAgICA0Nlx0XG4gICAgNDdcdCAgICBwdWJsaWMgUmVnaXN0ZXJDb250cm9sbGVyKCkge1xuICAgIDQ4XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxlIHNlcnZpY2UgZCdhdXRoZW50aWZpY2F0aW9uXG4gICAgNDlcdCAgICAgICAgYXV0aFNlcnZpY2UgPSBBdXRoU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgIDUwXHQgICAgfVxuICAgIDUxXHRcbiAgICA1Mlx0ICAgIEBGWE1MXG4gICAgNTNcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVSZWdpc3RlcihBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDU0XHQgICAgICAgIC8vIFLDqWN1cMOpcmVyIGxlcyB2YWxldXJzIGRlcyBjaGFtcHNcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOTA0ZmY2NWYtM2NhNi00ZDIwLWI5YzctMjM1YjhlZDY1NzU3O3Rvb2x1X3ZydHhfMDFFRDVkVWJ1aGZyOEd1cXQ0aGhlTVVrIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9SZWdpc3RlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDY0XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1ciBkJ2luc2NyaXB0aW9uXCIsIFwiVmV1aWxsZXogcmVtcGxpciB0b3VzIGxlcyBjaGFtcHMuXCIpO1xuICAgIDY1XHQgICAgICAgICAgICByZXR1cm47XG4gICAgNjZcdCAgICAgICAgfVxuICAgIDY3XHRcbiAgICA2OFx0ICAgICAgICB0cnkge1xuICAgIDY5XHQgICAgICAgICAgICAvLyBWw6lyaWZpZXIgc2kgbCdlbWFpbCBleGlzdGUgZMOpasOgXG4gICAgNzBcdCAgICAgICAgICAgIGlmIChhdXRoU2VydmljZS5lbWFpbEV4aXN0cyhlbWFpbCkpIHtcbiAgICA3MVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGQnaW5zY3JpcHRpb25cIiwgXCJDZXQgZW1haWwgZXN0IGTDqWrDoCB1dGlsaXPDqS5cIik7XG4gICAgNzJcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgNzNcdCAgICAgICAgICAgIH1cbiAgICA3NFx0XG4gICAgNzVcdCAgICAgICAgICAgIC8vIFbDqXJpZmllciBzaSBsZSB0w6lsw6lwaG9uZSBleGlzdGUgZMOpasOgXG4gICAgNzZcdCAgICAgICAgICAgIGlmIChhdXRoU2VydmljZS50ZWxlcGhvbmVFeGlzdHModGVsZXBob25lKSkge1xuICAgIDc3XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZCdpbnNjcmlwdGlvblwiLCBcIkNlIG51bcOpcm8gZGUgdMOpbMOpcGhvbmUgZXN0IGTDqWrDoCB1dGlsaXPDqS5cIik7XG4gICAgNzhcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgNzlcdCAgICAgICAgICAgIH1cbiAgICA4MFx0XG4gICAgODFcdCAgICAgICAgICAgIC8vIENyw6llciB1biBub3V2ZWwgdXRpbGlzYXRldXJcbiAgICA4Mlx0ICAgICAgICAgICAgVXNlciB1c2VyID0gbmV3IFVzZXIoKTtcbiAgICA4M1x0ICAgICAgICAgICAgdXNlci5zZXROb20obm9tKTtcbiAgICA4NFx0ICAgICAgICAgICAgdXNlci5zZXRQcmVub20ocHJlbm9tKTtcbiAgICA4NVx0ICAgICAgICAgICAgdXNlci5zZXRFbWFpbChlbWFpbCk7XG4gICAgODZcdCAgICAgICAgICAgIHVzZXIuc2V0UGFzc3dvcmQocGFzc3dvcmQpO1xuICAgIDg3XHQgICAgICAgICAgICB1c2VyLnNldEFkcmVzc2UoYWRyZXNzZSk7XG4gICAgODhcdCAgICAgICAgICAgIHVzZXIuc2V0VGVsZXBob25lKHRlbGVwaG9uZSk7XG4gICAgODlcdCAgICAgICAgICAgIHVzZXIuc2V0VmVyaWZpZWQoZmFsc2UpO1xuICAgIDkwXHQgICAgICAgICAgICB1c2VyLnNldENyZWF0ZWRfYXQobmV3IFRpbWVzdGFtcChTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSkpO1xuICAgIDkxXHRcbiAgICA5Mlx0ICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbCd1dGlsaXNhdGV1ciBhdmVjIGxlIHNlcnZpY2UgZCdhdXRoZW50aWZpY2F0aW9uXG4gICAgOTNcdCAgICAgICAgICAgIGF1dGhTZXJ2aWNlLnJlZ2lzdGVyKHVzZXIpO1xuICAgIDk0XHRcbiAgICA5NVx0ICAgICAgICAgICAgLy8gQWZmaWNoZXIgdW4gbWVzc2FnZSBkZSBzdWNjw6hzXG4gICAgOTZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiSW5zY3JpcHRpb24gcsOpdXNzaWVcIiwgXCJWb3RyZSBjb21wdGUgYSDDqXTDqSBjcsOpw6kgYXZlYyBzdWNjw6hzLiBWb3VzIHBvdXZleiBtYWludGVuYW50IHZvdXMgY29ubmVjdGVyLlwiKTtcbiAgICA5N1x0XG4gICAgOThcdCAgICAgICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxhIHBhZ2UgZGUgY29ubmV4aW9uXG4gICAgOTlcdCAgICAgICAgICAgIG5hdmlnYXRlVG9Mb2dpbigpO1xuICAgMTAwXHQgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAxMDFcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGQnaW5zY3JpcHRpb25cIiwgXCJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSBsb3JzIGRlIGwnaW5zY3JpcHRpb246IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMTAyXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTAzXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYjEwYmI5NmItZTliMS00ODA1LWJjNzktZGFhYzRiNWFlZjY3O3Rvb2x1X3ZydHhfMDE1WDJNQjJKaWh1MjZab0xZM2RyNHFXIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9SZWdpc3RlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMTMwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMTMxXHQgICAgICAgIH1cbiAgIDEzMlx0ICAgIH1cbiAgIDEzM1x0XG4gICAxMzRcdFxuICAgMTM1XHRcbiAgIDEzNlx0ICAgIHByaXZhdGUgdm9pZCBuYXZpZ2F0ZVRvTG9naW4oKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTM3XHQgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb25cbiAgIDEzOFx0ICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0xvZ2luLmZ4bWxcIik7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjg5NjAyYzg5LWEyOWYtNDQ5ZC1hMTgwLTJlZDY1NGUwZDAxMDt0b29sdV92cnR4XzAxR1RrQ1RVVDcxWTFTdE5Ga3M0UGNKQSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIGNvbnRyb2xsZXJzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBzZXJ2aWNlcy5BdXRoU2VydmljZTtcbiAgICAgNVx0aW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5QbGF0Zm9ybTtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhNmEzYzEwNC0wMGIzLTRmYjYtYWZlNy0zZmY0ZDA0NDljMTM7dG9vbHVfdnJ0eF8wMThla25BV2VNS2lyQUxBWFJNNXJRMlIiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAxOVx0aW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcbiAgICAyMFx0XG4gICAgMjFcdHB1YmxpYyBjbGFzcyBIb21lQ29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xuICAgIDIyXHRcbiAgICAyM1x0ICAgIEBGWE1MXG4gICAgMjRcdCAgICBwcml2YXRlIFRleHQgd2VsY29tZVRleHQ7XG4gICAgMjVcdFxuICAgIDI2XHQgICAgcHJpdmF0ZSBBdXRoU2VydmljZSBhdXRoU2VydmljZTtcbiAgICAyN1x0XG4gICAgMjhcdCAgICBwdWJsaWMgSG9tZUNvbnRyb2xsZXIoKSB7XG4gICAgMjlcdCAgICAgICAgLy8gSW5pdGlhbGlzZXIgbGUgc2VydmljZSBkJ2F1dGhlbnRpZmljYXRpb25cbiAgICAzMFx0ICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgMzFcdCAgICB9XG4gICAgMzJcdFxuICAgIDMzXHQgICAgQE92ZXJyaWRlXG4gICAgMzRcdCAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgMzVcdCAgICAgICAgLy8gUsOpY3Vww6lyZXIgbCd1dGlsaXNhdGV1ciBjb25uZWN0w6lcbiAgICAzNlx0ICAgICAgICBVc2VyIGN1cnJlbnRVc2VyID0gYXV0aFNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICAzN1x0ICAgICAgICBpZiAoY3VycmVudFVzZXIgIT0gbnVsbCkge1xuICAgIDM4XHQgICAgICAgICAgICB3ZWxjb21lVGV4dC5zZXRUZXh0KFwiVm91cyDDqnRlcyBjb25uZWN0w6kgZW4gdGFudCBxdWUgXCIgKyBjdXJyZW50VXNlci5nZXRQcmVub20oKSArIFwiIFwiICsgY3VycmVudFVzZXIuZ2V0Tm9tKCkpO1xuICAgIDM5XHQgICAgICAgIH0gZWxzZSB7XG4gICAgNDBcdCAgICAgICAgICAgIHdlbGNvbWVUZXh0LnNldFRleHQoXCJBdWN1biB1dGlsaXNhdGV1ciBjb25uZWN0w6lcIik7XG4gICAgNDFcdCAgICAgICAgfVxuICAgIDQyXHQgICAgfVxuICAgIDQzXHRcbiAgICA0NFx0ICAgIEBGWE1MXG4gICAgNDVcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVMb2dvdXQoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICA0Nlx0ICAgICAgICAvLyBEw6ljb25uZWN0ZXIgbCd1dGlsaXNhdGV1clxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlMjU0ODQ5Ny1jY2VkLTQxNzYtODY3NS1hZDcwNTBkNDUyNzA7dG9vbHVfdnJ0eF8wMUdMQWQxQzFTM2Y1bWp0NmhUUmlQVlkiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA0MFx0ICAgICAgICAgICAgd2VsY29tZVRleHQuc2V0VGV4dChcIkF1Y3VuIHV0aWxpc2F0ZXVyIGNvbm5lY3TDqVwiKTtcbiAgICA0MVx0ICAgICAgICB9XG4gICAgNDJcdCAgICB9XG4gICAgNDNcdFxuICAgIDQ0XHQgICAgQEZYTUxcbiAgICA0NVx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZUxvZ291dChBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDQ2XHQgICAgICAgIC8vIETDqWNvbm5lY3RlciBsJ3V0aWxpc2F0ZXVyXG4gICAgNDdcdCAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgICAgIHRyeSB7XG4gICAgNTBcdCAgICAgICAgICAgIC8vIENoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb25cbiAgICA1MVx0ICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Mb2dpbi5meG1sXCIpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIzODEyMDgwMS04ZDJlLTRjMzktODZiNi1hNzMwOWFlODg5ZWM7dG9vbHVfdnJ0eF8wMUc0NFVoeXd1M3VUNXRKRkx0QzkyRDEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL3NlcnZpY2VzL0F1dGhTZXJ2aWNlLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgIDEzNFx0XG4gICAxMzVcdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgMTM2XHQgICAgfVxuICAgMTM3XHRcbiAgIDEzOFx0ICAgIC8qKlxuICAgMTM5XHQgICAgICogRMOpY29ubmVjdGVyIGwndXRpbGlzYXRldXIgYWN0dWVsXG4gICAxNDBcdCAgICAgKi9cbiAgIDE0MVx0ICAgIHB1YmxpYyB2b2lkIGxvZ291dCgpIHtcbiAgIDE0Mlx0ICAgICAgICBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLmxvZ291dCgpO1xuICAgMTQzXHQgICAgfVxuICAgMTQ0XHRcbiAgIDE0NVx0ICAgIC8qKlxuICAgMTQ2XHQgICAgICogT2J0ZW5pciBsJ3V0aWxpc2F0ZXVyIGFjdHVlbGxlbWVudCBjb25uZWN0w6lcbiAgIDE0N1x0ICAgICAqIEByZXR1cm4gTCd1dGlsaXNhdGV1ciBjb25uZWN0w6kgb3UgbnVsbCBzaSBhdWN1biB1dGlsaXNhdGV1ciBuJ2VzdCBjb25uZWN0w6lcbiAgIDE0OFx0ICAgICAqL1xuICAgMTQ5XHQgICAgcHVibGljIFVzZXIgZ2V0Q3VycmVudFVzZXIoKSB7XG4gICAxNTBcdCAgICAgICAgcmV0dXJuIFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuZ2V0Q3VycmVudFVzZXIoKTtcbiAgIDE1MVx0ICAgIH1cbiAgIDE1Mlx0fVxuICAgMTUzXHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzRkODZjYTktYmNmOS00ZGQ1LTg5YmUtZDg3ZTQyYjc5NTNiO3Rvb2x1X3ZydHhfMDFERmtIRXNYN3hkYTdtVlZaZU1Ha0VNIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjcyMWYzMDAyLWVhMzEtNDI2YS1iZjMyLThiMmZiODE5MGJhMDt0b29sdV92cnR4XzAxVXpDN3Z6UmloTEYzQWtReHRvRm1lVCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmYjNkYWU4NC0xMTY4LTRjNWQtODA3Ni0wYjQ5NTcyNWNmZTI7dG9vbHVfdnJ0eF8wMVRtRWtrQWhjZ0RXNzRGcVFKZWpZUFUiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGNhNDlkZmQtMWZlOS00NTU3LTg0YzktNjczMDRiOTgyOTM1O3Rvb2x1X3ZydHhfMDE4a1E3NHBKelczZ2FiWUttUDFDY1RqIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImExOGJmNjk0LTAwMjctNDJlNy1hNTZlLTAxMDJlYzQ2OGExNzt0b29sdV92cnR4XzAxOXNhTXVwa2hBQlR5aFdITjN5ajNNZiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlOTVhMjgzZS1lNDE2LTQyNzktODJlZS1mNmNkZTNiNWU5NWM7dG9vbHVfdnJ0eF8wMVk1aGJOZWJIOUZDNkM2SGVnTWJMczciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgIDdcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgICA5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxMFx0aW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbiAgICAxMVx0aW1wb3J0IHNlcnZpY2VzLkF1dGhTZXJ2aWNlO1xuICAgIDEyXHRpbXBvcnQgc2VydmljZXMuUm9sZVNlcnZpY2U7XG4gICAgMTNcdFxuICAgIDE0XHRpbXBvcnQgamF2YS5pby5GaWxlO1xuICAgIDE1XHRpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbiAgICAxNlx0aW1wb3J0IGphdmEubmV0LlVSTDtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZmY2MzNjMWUtMzc0Ny00M2Q2LTgzMGYtMTE1Y2IxMmZmZTgxO3Rvb2x1X3ZydHhfMDFGVDJjcVJLQ216bTZUVEFxcXV2OFg1Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDI5XHRcbiAgICAzMFx0ICAgIEBGWE1MXG4gICAgMzFcdCAgICBwcml2YXRlIEh5cGVybGluayByZWdpc3Rlckxpbms7XG4gICAgMzJcdFxuICAgIDMzXHQgICAgcHJpdmF0ZSBBdXRoU2VydmljZSBhdXRoU2VydmljZTtcbiAgICAzNFx0ICAgIHByaXZhdGUgUm9sZVNlcnZpY2Ugcm9sZVNlcnZpY2U7XG4gICAgMzVcdFxuICAgIDM2XHQgICAgcHVibGljIExvZ2luQ29udHJvbGxlcigpIHtcbiAgICAzN1x0ICAgICAgICAvLyBJbml0aWFsaXNlciBsZXMgc2VydmljZXNcbiAgICAzOFx0ICAgICAgICBhdXRoU2VydmljZSA9IEF1dGhTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgMzlcdCAgICAgICAgcm9sZVNlcnZpY2UgPSBSb2xlU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgIDQwXHQgICAgfVxuICAgIDQxXHRcbiAgICA0Mlx0ICAgIEBGWE1MXG4gICAgNDNcdCAgICBwdWJsaWMgdm9pZCBoYW5kbGVMb2dpbihBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDQ0XHQgICAgICAgIFN0cmluZyBlbWFpbCA9IGVtYWlsRmllbGQuZ2V0VGV4dCgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI4NTZiMmY0Zi1mZTZiLTRmMWMtYTY2Zi03MmZiY2UwZWNhM2I7dG9vbHVfdnJ0eF8wMTdtQ01nSEZEQXk3WHBMMnQzeFNUMUYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL0xvZ2luQ29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgNTdcdCAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICA1OFx0ICAgICAgICAgICAgICAgIC8vIENvbm5leGlvbiByw6l1c3NpZVxuICAgIDU5XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJDb25uZXhpb24gcsOpdXNzaWVcIiwgXCJCaWVudmVudWUgXCIgKyB1c2VyLmdldFByZW5vbSgpICsgXCIgXCIgKyB1c2VyLmdldE5vbSgpICsgXCIhXCIpO1xuICAgIDYwXHRcbiAgICA2MVx0ICAgICAgICAgICAgICAgIC8vIFJlZGlyaWdlciB2ZXJzIGxlIHRhYmxlYXUgZGUgYm9yZCBhcHByb3ByacOpIGVuIGZvbmN0aW9uIGR1IHLDtGxlXG4gICAgNjJcdCAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvRGFzaGJvYXJkKHVzZXIpO1xuICAgIDYzXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgIDY0XHQgICAgICAgICAgICAgICAgLy8gw4ljaGVjIGRlIGxhIGNvbm5leGlvblxuICAgIDY1XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgY29ubmV4aW9uXCIsIFwiRW1haWwgb3UgbW90IGRlIHBhc3NlIGluY29ycmVjdC5cIik7XG4gICAgNjZcdCAgICAgICAgICAgIH1cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMTMxYWViNGUtYjA4YS00YmJhLWIzNzgtOWNlZmFkNDRiYjUyO3Rvb2x1X3ZydHhfMDFKWkd3S0x5aXM2ZDY2aFVibUZScHlRIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Mb2dpbkNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgIDk5XHQgICAgfVxuICAgMTAwXHRcbiAgIDEwMVx0XG4gICAxMDJcdFxuICAgMTAzXHQgICAgcHJpdmF0ZSB2b2lkIG5hdmlnYXRlVG9EYXNoYm9hcmQoVXNlciB1c2VyKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgMTA0XHQgICAgICAgIHRyeSB7XG4gICAxMDVcdCAgICAgICAgICAgIC8vIETDqXRlcm1pbmVyIGxlIHR5cGUgZCd1dGlsaXNhdGV1clxuICAgMTA2XHQgICAgICAgICAgICBTdHJpbmcgdXNlclR5cGUgPSByb2xlU2VydmljZS5nZXRVc2VyVHlwZSh1c2VyKTtcbiAgIDEwN1x0ICAgICAgICAgICAgU3RyaW5nIGZ4bWxQYXRoO1xuICAgMTA4XHQgICAgICAgICAgICBTdHJpbmcgdGl0bGU7XG4gICAxMDlcdFxuICAgMTEwXHQgICAgICAgICAgICAvLyBDaG9pc2lyIGxlIHRhYmxlYXUgZGUgYm9yZCBhcHByb3ByacOpXG4gICAxMTFcdCAgICAgICAgICAgIGlmICh1c2VyVHlwZSAhPSBudWxsICYmICh1c2VyVHlwZS5lcXVhbHMoUm9sZVNlcnZpY2UuUk9MRV9BRE1JTikgfHwgdXNlclR5cGUuZXF1YWxzKFJvbGVTZXJ2aWNlLlJPTEVfU1VQRVJfQURNSU4pKSkge1xuICAgMTEyXHQgICAgICAgICAgICAgICAgZnhtbFBhdGggPSBcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0FkbWluRGFzaGJvYXJkLmZ4bWxcIjtcbiAgIDExM1x0ICAgICAgICAgICAgICAgIHRpdGxlID0gXCJUYWJsZWF1IGRlIGJvcmQgYWRtaW5pc3RyYXRldXJcIjtcbiAgIDExNFx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDExNVx0ICAgICAgICAgICAgICAgIGZ4bWxQYXRoID0gXCJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9DbGllbnREYXNoYm9hcmQuZnhtbFwiO1xuICAgMTE2XHQgICAgICAgICAgICAgICAgdGl0bGUgPSBcIlRhYmxlYXUgZGUgYm9yZCBjbGllbnRcIjtcbiAgIDExN1x0ICAgICAgICAgICAgfVxuICAgMTE4XHRcbiAgIDExOVx0ICAgICAgICAgICAgLy8gQ2hhcmdlciBsZSBmaWNoaWVyIEZYTUxcbiAgIDEyMFx0ICAgICAgICAgICAgRmlsZSBmaWxlID0gbmV3IEZpbGUoZnhtbFBhdGgpO1xuICAgMTIxXHQgICAgICAgICAgICBpZiAoZmlsZS5leGlzdHMoKSkge1xuICAgMTIyXHQgICAgICAgICAgICAgICAgVVJMIHVybCA9IGZpbGUudG9VUkkoKS50b1VSTCgpO1xuICAgMTIzXHQgICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcih1cmwpO1xuICAgMTI0XHQgICAgICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAgMTI1XHRcbiAgIDEyNlx0ICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZXIgbGEgc2PDqG5lXG4gICAxMjdcdCAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgbG9naW5CdXR0b24uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDEyOFx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgMTI5XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgMTMwXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUodGl0bGUpO1xuICAgMTMxXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgMTMyXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgMTMzXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXIgZGUgbmF2aWdhdGlvblwiLCBcIkZpY2hpZXIgRlhNTCBub24gdHJvdXbDqTogXCIgKyBmaWxlLmdldEFic29sdXRlUGF0aCgpKTtcbiAgIDEzNFx0ICAgICAgICAgICAgfVxuICAgMTM1XHQgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAxMzZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIHLDtGxlXCIsIFwiSW1wb3NzaWJsZSBkZSBkw6l0ZXJtaW5lciBsZSByw7RsZSBkZSBsJ3V0aWxpc2F0ZXVyOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDEzN1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDEzOFx0ICAgICAgICB9XG4gICAxMzlcdCAgICB9XG4gICAxNDBcdFxuICAgMTQxXHQgICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBtZXNzYWdlKSB7XG4gICAxNDJcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgIDE0M1x0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImZiMjRiNWE1LTBlYWQtNDg0ZC04NDU2LTRmNzc2YzI2ODgwMjt0b29sdV8wMURQWDVrVmZLRmU1VVgyakh1Tnlia1EiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Ib21lUGFnZS5meG1sOlxuICAgICAxXHQ8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbiAgICAgMlx0XG4gICAgIDNcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio/PlxuICAgICA0XHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0Lio/PlxuICAgICA1XHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuKj8+XG4gICAgIDZcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS50ZXh0Lio/PlxuICAgICA3XHQ8P2ltcG9ydCBqYXZhZnguZ2VvbWV0cnkuKj8+XG4gICAgIDhcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5zaGFwZS4qPz5cbiAgICAgOVx0XG4gICAgMTBcdDw/aW1wb3J0IGphdmEubmV0LlVSTD8+XG4gICAgMTFcdDxCb3JkZXJQYW5lIHhtbG5zPVwiaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE2XCIgeG1sbnM6Zng9XCJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzFcIiBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuSG9tZUNvbnRyb2xsZXJcIj5cbiAgICAxMlx0ICAgIDwhLS0gU3R5bGUgQ1NTIC0tPlxuICAgIDEzXHQgICAgPHN0eWxlc2hlZXRzPlxuICAgIDE0XHQgICAgICAgIDxVUkwgdmFsdWU9XCJALi4vc3R5bGVzL2hvbWUuY3NzXCIgLz5cbiAgICAxNVx0ICAgIDwvc3R5bGVzaGVldHM+XG4gICAgMTZcdFxuICAgIDE3XHQgICAgPCEtLSBUb3AgQmFyIC0tPlxuICAgIDE4XHQgICAgPHRvcD5cbiAgICAxOVx0ICAgICAgICA8SEJveCBzdHlsZUNsYXNzPVwidG9wLWJhclwiIGFsaWdubWVudD1cIkNFTlRFUl9MRUZUXCI+XG4gICAgMjBcdCAgICAgICAgICAgIDxJbWFnZVZpZXcgZml0SGVpZ2h0PVwiNDBcIiBmaXRXaWR0aD1cIjQwXCI+XG4gICAgMjFcdFxuICAgIDIyXHQgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICAyM1x0ICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJFZHVFdmVudCtcIiBzdHlsZUNsYXNzPVwiYXBwLXRpdGxlXCIgLz5cbiAgICAyNFx0ICAgICAgICAgICAgPFJlZ2lvbiBIQm94Lmhncm93PVwiQUxXQVlTXCIgLz5cbiAgICAyNVx0ICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiRMOpY29ubmV4aW9uXCIgc3R5bGVDbGFzcz1cImxvZ291dC1idG5cIiBvbkFjdGlvbj1cIiNoYW5kbGVMb2dvdXRcIi8+XG4gICAgMjZcdCAgICAgICAgPC9IQm94PlxuICAgIDI3XHQgICAgPC90b3A+XG4gICAgMjhcdFxuICAgIDI5XHQgICAgPCEtLSBNYWluIENvbnRlbnQgLS0+XG4gICAgMzBcdCAgICA8Y2VudGVyPlxuICAgIDMxXHQgICAgICAgIDxWQm94IHNwYWNpbmc9XCIyMFwiIGFsaWdubWVudD1cIlRPUF9DRU5URVJcIiBzdHlsZUNsYXNzPVwibWFpbi1jb250ZW50XCI+XG4gICAgMzJcdCAgICAgICAgICAgIDwhLS0gV2VsY29tZSBTZWN0aW9uIC0tPlxuICAgIDMzXHQgICAgICAgICAgICA8SEJveCBhbGlnbm1lbnQ9XCJDRU5URVJfTEVGVFwiIHNwYWNpbmc9XCIyMFwiIHN0eWxlQ2xhc3M9XCJ3ZWxjb21lLXNlY3Rpb25cIj5cbiAgICAzNFx0ICAgICAgICAgICAgICAgIDxWQm94IHNwYWNpbmc9XCI1XCI+XG4gICAgMzVcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJCaWVudmVudWUsXCIgc3R5bGVDbGFzcz1cIndlbGNvbWUtbGFiZWxcIiAvPlxuICAgIDM2XHQgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmeDppZD1cInVzZXJuYW1lTGFiZWxcIiBzdHlsZUNsYXNzPVwidXNlcm5hbWUtbGFiZWxcIiAvPlxuICAgIDM3XHQgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiR8OpcmV6IHZvcyDDqXbDqW5lbWVudHMgw6lkdWNhdGlmcyBldCBnw6luw6lyZXogZGVzIGF0dGVzdGF0aW9ucyBhdXRvbWF0aXF1ZW1lbnRcIiBzdHlsZUNsYXNzPVwic3VidGl0bGUtbGFiZWxcIiAvPlxuICAgIDM4XHQgICAgICAgICAgICAgICAgPC9WQm94PlxuICAgIDM5XHQgICAgICAgICAgICAgICAgPEltYWdlVmlldyBmaXRIZWlnaHQ9XCIxMjBcIiBmaXRXaWR0aD1cIjEyMFwiIHByZXNlcnZlUmF0aW89XCJ0cnVlXCI+XG4gICAgNDBcdFxuICAgIDQxXHQgICAgICAgICAgICAgICAgPC9JbWFnZVZpZXc+XG4gICAgNDJcdCAgICAgICAgICAgIDwvSEJveD5cbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgICAgIDwhLS0gUXVpY2sgU3RhdHMgLS0+XG4gICAgNDVcdCAgICAgICAgICAgIDxIQm94IHNwYWNpbmc9XCIyMFwiIGFsaWdubWVudD1cIkNFTlRFUlwiIHN0eWxlQ2xhc3M9XCJzdGF0cy1jb250YWluZXJcIj5cbiAgICA0Nlx0ICAgICAgICAgICAgICAgIDxWQm94IHN0eWxlQ2xhc3M9XCJzdGF0LWNhcmRcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIiBzcGFjaW5nPVwiNVwiPlxuICAgIDQ3XHQgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBmeDppZD1cImV2ZW50c0NvdW50TGFiZWxcIiBzdHlsZUNsYXNzPVwic3RhdC1udW1iZXJcIiAvPlxuICAgIDQ4XHQgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiw4l2w6luZW1lbnRzXCIgc3R5bGVDbGFzcz1cInN0YXQtbGFiZWxcIiAvPlxuICAgIDQ5XHQgICAgICAgICAgICAgICAgPC9WQm94PlxuICAgIDUwXHQgICAgICAgICAgICAgICAgPFZCb3ggc3R5bGVDbGFzcz1cInN0YXQtY2FyZFwiIGFsaWdubWVudD1cIkNFTlRFUlwiIHNwYWNpbmc9XCI1XCI+XG4gICAgNTFcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIGZ4OmlkPVwiY2VydGlmaWNhdGVzQ291bnRMYWJlbFwiIHN0eWxlQ2xhc3M9XCJzdGF0LW51bWJlclwiIC8+XG4gICAgNTJcdCAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJBdHRlc3RhdGlvbnNcIiBzdHlsZUNsYXNzPVwic3RhdC1sYWJlbFwiIC8+XG4gICAgNTNcdCAgICAgICAgICAgICAgICA8L1ZCb3g+XG4gICAgNTRcdCAgICAgICAgICAgICAgICA8VkJveCBzdHlsZUNsYXNzPVwic3RhdC1jYXJkXCIgYWxpZ25tZW50PVwiQ0VOVEVSXCIgc3BhY2luZz1cIjVcIj5cbiAgICA1NVx0ICAgICAgICAgICAgICAgICAgICA8TGFiZWwgZng6aWQ9XCJwYXJ0aWNpcGFudHNDb3VudExhYmVsXCIgc3R5bGVDbGFzcz1cInN0YXQtbnVtYmVyXCIgLz5cbiAgICA1Nlx0ICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIlBhcnRpY2lwYW50c1wiIHN0eWxlQ2xhc3M9XCJzdGF0LWxhYmVsXCIgLz5cbiAgICA1N1x0ICAgICAgICAgICAgICAgIDwvVkJveD5cbiAgICA1OFx0ICAgICAgICAgICAgPC9IQm94PlxuICAgIDU5XHRcbiAgICA2MFx0ICAgICAgICAgICAgPCEtLSBRdWljayBBY3Rpb25zIC0tPlxuICAgIDYxXHQgICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD1cIjIwXCIgdmdhcD1cIjIwXCIgYWxpZ25tZW50PVwiQ0VOVEVSXCIgc3R5bGVDbGFzcz1cImFjdGlvbnMtZ3JpZFwiPlxuICAgIDYyXHQgICAgICAgICAgICAgICAgPGNvbHVtbkNvbnN0cmFpbnRzPlxuICAgIDYzXHQgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoZ3Jvdz1cIkFMV0FZU1wiIGZpbGxXaWR0aD1cInRydWVcIiAvPlxuICAgIDY0XHQgICAgICAgICAgICAgICAgICAgIDxDb2x1bW5Db25zdHJhaW50cyBoZ3Jvdz1cIkFMV0FZU1wiIGZpbGxXaWR0aD1cInRydWVcIiAvPlxuICAgIDY1XHQgICAgICAgICAgICAgICAgPC9jb2x1bW5Db25zdHJhaW50cz5cbiAgICA2Nlx0XG4gICAgNjdcdCAgICAgICAgICAgICAgICA8IS0tIFJvdyAxIC0tPlxuICAgIDY4XHQgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiQ3LDqWVyIHVuIMOpdsOpbmVtZW50XCIgc3R5bGVDbGFzcz1cImFjdGlvbi1idG5cIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjBcIj5cbiAgICA2OVx0ICAgICAgICAgICAgICAgICAgICA8Z3JhcGhpYz5cbiAgICA3MFx0ICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlVmlldyBmaXRIZWlnaHQ9XCIzMFwiIGZpdFdpZHRoPVwiMzBcIj5cbiAgICA3MVx0XG4gICAgNzJcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvSW1hZ2VWaWV3PlxuICAgIDczXHQgICAgICAgICAgICAgICAgICAgIDwvZ3JhcGhpYz5cbiAgICA3NFx0ICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgIDc1XHRcbiAgICA3Nlx0ICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkfDqW7DqXJlciBhdHRlc3RhdGlvblwiIHN0eWxlQ2xhc3M9XCJhY3Rpb24tYnRuXCIgIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMFwiPlxuICAgIDc3XHQgICAgICAgICAgICAgICAgICAgIDxncmFwaGljPlxuICAgIDc4XHQgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZpdEhlaWdodD1cIjMwXCIgZml0V2lkdGg9XCIzMFwiPlxuICAgIDc5XHRcbiAgICA4MFx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9JbWFnZVZpZXc+XG4gICAgODFcdCAgICAgICAgICAgICAgICAgICAgPC9ncmFwaGljPlxuICAgIDgyXHQgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgICAgICAgICAgPCEtLSBSb3cgMiAtLT5cbiAgICA4NVx0ICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkxpc3RlIGRlcyDDqXbDqW5lbWVudHNcIiBzdHlsZUNsYXNzPVwiYWN0aW9uLWJ0blwiICBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjFcIj5cbiAgICA4Nlx0ICAgICAgICAgICAgICAgICAgICA8Z3JhcGhpYz5cbiAgICA4N1x0ICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlVmlldyBmaXRIZWlnaHQ9XCIzMFwiIGZpdFdpZHRoPVwiMzBcIj5cbiAgICA4OFx0XG4gICAgODlcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvSW1hZ2VWaWV3PlxuICAgIDkwXHQgICAgICAgICAgICAgICAgICAgIDwvZ3JhcGhpYz5cbiAgICA5MVx0ICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgIDkyXHRcbiAgICA5M1x0ICAgICAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkhpc3RvcmlxdWUgYXR0ZXN0YXRpb25zXCIgc3R5bGVDbGFzcz1cImFjdGlvbi1idG5cIiAgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIxXCIgR3JpZFBhbmUucm93SW5kZXg9XCIxXCI+XG4gICAgOTRcdCAgICAgICAgICAgICAgICAgICAgPGdyYXBoaWM+XG4gICAgOTVcdCAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVZpZXcgZml0SGVpZ2h0PVwiMzBcIiBmaXRXaWR0aD1cIjMwXCI+XG4gICAgOTZcdFxuICAgIDk3XHQgICAgICAgICAgICAgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICA5OFx0ICAgICAgICAgICAgICAgICAgICA8L2dyYXBoaWM+XG4gICAgOTlcdCAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgIDEwMFx0ICAgICAgICAgICAgPC9HcmlkUGFuZT5cbiAgIDEwMVx0XG4gICAxMDJcdCAgICAgICAgICAgIDwhLS0gUmVjZW50IEV2ZW50cyAtLT5cbiAgIDEwM1x0ICAgICAgICAgICAgPFZCb3ggc3BhY2luZz1cIjEwXCIgc3R5bGVDbGFzcz1cInJlY2VudC1zZWN0aW9uXCI+XG4gICAxMDRcdCAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIsOJdsOpbmVtZW50cyByw6ljZW50c1wiIHN0eWxlQ2xhc3M9XCJzZWN0aW9uLXRpdGxlXCIgLz5cbiAgIDEwNVx0ICAgICAgICAgICAgICAgIDxUYWJsZVZpZXcgZng6aWQ9XCJyZWNlbnRFdmVudHNUYWJsZVwiIHN0eWxlQ2xhc3M9XCJyZWNlbnQtdGFibGVcIiA+XG4gICAxMDZcdCAgICAgICAgICAgICAgICAgICAgPGNvbHVtbnM+XG4gICAxMDdcdCAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiB0ZXh0PVwiTm9tXCIgZng6aWQ9XCJldmVudE5hbWVDb2x1bW5cIiAvPlxuICAgMTA4XHQgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gdGV4dD1cIkRhdGVcIiBmeDppZD1cImV2ZW50RGF0ZUNvbHVtblwiIC8+XG4gICAxMDlcdCAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNvbHVtbiB0ZXh0PVwiUGFydGljaXBhbnRzXCIgZng6aWQ9XCJwYXJ0aWNpcGFudHNDb2x1bW5cIiAvPlxuICAgMTEwXHQgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb2x1bW4gdGV4dD1cIlN0YXR1dFwiIGZ4OmlkPVwic3RhdHVzQ29sdW1uXCIgLz5cbiAgIDExMVx0ICAgICAgICAgICAgICAgICAgICA8L2NvbHVtbnM+XG4gICAxMTJcdCAgICAgICAgICAgICAgICA8L1RhYmxlVmlldz5cbiAgIDExM1x0ICAgICAgICAgICAgPC9WQm94PlxuICAgMTE0XHQgICAgICAgIDwvVkJveD5cbiAgIDExNVx0ICAgIDwvY2VudGVyPlxuICAgMTE2XHRcbiAgIDExN1x0ICAgIDwhLS0gU3RhdHVzIEJhciAtLT5cbiAgIDExOFx0ICAgIDxib3R0b20+XG4gICAxMTlcdCAgICAgICAgPEhCb3ggc3R5bGVDbGFzcz1cInN0YXR1cy1iYXJcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIj5cbiAgIDEyMFx0ICAgICAgICAgICAgPExhYmVsIGZ4OmlkPVwic3RhdHVzTGFiZWxcIiB0ZXh0PVwiU3lzdMOobWUgcHLDqnRcIiBzdHlsZUNsYXNzPVwic3RhdHVzLXRleHRcIiAvPlxuICAgMTIxXHQgICAgICAgICAgICA8UmVnaW9uIEhCb3guaGdyb3c9XCJBTFdBWVNcIiAvPlxuICAgMTIyXHQgICAgICAgICAgICA8TGFiZWwgdGV4dD1cIsKpIDIwMjMgRWR1RXZlbnQrIC0gVG91cyBkcm9pdHMgcsOpc2VydsOpc1wiIHN0eWxlQ2xhc3M9XCJjb3B5cmlnaHQtdGV4dFwiIC8+XG4gICAxMjNcdCAgICAgICAgPC9IQm94PlxuICAgMTI0XHQgICAgPC9ib3R0b20+XG4gICAxMjVcdDwvQm9yZGVyUGFuZT5cblRvdGFsIGxpbmVzIGluIGZpbGU6IDEyNVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjQ2MGU4YWItZTRhZi00MTFmLWE5YmUtNzAyZjI3Y2ZmYmU5O3Rvb2x1XzAxTGFOYXlMV01KY3ZlUUQ1NVhjeUVGaSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXIuamF2YTpcbiAgICAgMVx0cGFja2FnZSBjb250cm9sbGVycztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBlbnRpdGllcy5Vc2VyO1xuICAgICA0XHRpbXBvcnQgc2VydmljZXMuQXV0aFNlcnZpY2U7XG4gICAgIDVcdGltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XG4gICAgIDZcdGltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XG4gICAgIDdcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuICAgICA4XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG4gICAgMTBcdGltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuICAgIDExXHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgIDEyXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG4gICAgMTNcdGltcG9ydCBqYXZhZnguc2NlbmUudGV4dC5UZXh0O1xuICAgIDE0XHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuICAgIDE1XHRcbiAgICAxNlx0aW1wb3J0IGphdmEuaW8uRmlsZTtcbiAgICAxN1x0aW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG4gICAgMThcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgMTlcdGltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7XG4gICAgMjBcdFxuICAgIDIxXHRwdWJsaWMgY2xhc3MgSG9tZUNvbnRyb2xsZXIgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHtcbiAgICAyMlx0XG4gICAgMjNcdCAgICBARlhNTFxuICAgIDI0XHQgICAgcHJpdmF0ZSBUZXh0IHdlbGNvbWVUZXh0O1xuICAgIDI1XHRcbiAgICAyNlx0ICAgIHByaXZhdGUgQXV0aFNlcnZpY2UgYXV0aFNlcnZpY2U7XG4gICAgMjdcdFxuICAgIDI4XHQgICAgcHVibGljIEhvbWVDb250cm9sbGVyKCkge1xuICAgIDI5XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxlIHNlcnZpY2UgZCdhdXRoZW50aWZpY2F0aW9uXG4gICAgMzBcdCAgICAgICAgYXV0aFNlcnZpY2UgPSBBdXRoU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgIDMxXHQgICAgfVxuICAgIDMyXHRcbiAgICAzM1x0ICAgIEBPdmVycmlkZVxuICAgIDM0XHQgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgIDM1XHQgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpXG4gICAgMzZcdCAgICAgICAgVXNlciBjdXJyZW50VXNlciA9IGF1dGhTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7XG4gICAgMzdcdCAgICAgICAgaWYgKGN1cnJlbnRVc2VyICE9IG51bGwpIHtcbiAgICAzOFx0ICAgICAgICAgICAgd2VsY29tZVRleHQuc2V0VGV4dChcIlZvdXMgw6p0ZXMgY29ubmVjdMOpIGVuIHRhbnQgcXVlIFwiICsgY3VycmVudFVzZXIuZ2V0UHJlbm9tKCkgKyBcIiBcIiArIGN1cnJlbnRVc2VyLmdldE5vbSgpKTtcbiAgICAzOVx0ICAgICAgICB9IGVsc2Uge1xuICAgIDQwXHQgICAgICAgICAgICB3ZWxjb21lVGV4dC5zZXRUZXh0KFwiQXVjdW4gdXRpbGlzYXRldXIgY29ubmVjdMOpXCIpO1xuICAgIDQxXHQgICAgICAgIH1cbiAgICA0Mlx0ICAgIH1cbiAgICA0M1x0XG4gICAgNDRcdCAgICBARlhNTFxuICAgIDQ1XHQgICAgcHVibGljIHZvaWQgaGFuZGxlTG9nb3V0KEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgNDZcdCAgICAgICAgLy8gRMOpY29ubmVjdGVyIGwndXRpbGlzYXRldXJcbiAgICA0N1x0ICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcbiAgICA0OFx0XG4gICAgNDlcdCAgICAgICAgdHJ5IHtcbiAgICA1MFx0ICAgICAgICAgICAgLy8gQ2hhcmdlciBsYSBwYWdlIGRlIGNvbm5leGlvblxuICAgIDUxXHQgICAgICAgICAgICBGaWxlIGZpbGUgPSBuZXcgRmlsZShcInNyYy9tYWluL3Jlc291cmNlcy9meG1sL0xvZ2luLmZ4bWxcIik7XG4gICAgNTJcdCAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7XG4gICAgNTNcdCAgICAgICAgICAgICAgICBVUkwgdXJsID0gZmlsZS50b1VSSSgpLnRvVVJMKCk7XG4gICAgNTRcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKHVybCk7XG4gICAgNTVcdCAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgNTZcdFxuICAgIDU3XHQgICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlciBsYSBzY8OobmVcbiAgICA1OFx0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSB3ZWxjb21lVGV4dC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgIDU5XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgNjBcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgNjFcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkNvbm5leGlvblwiKTtcbiAgICA2Mlx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICA2M1x0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgICA2NFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJGaWNoaWVyIEZYTUwgbm9uIHRyb3V2w6k6IFwiICsgZmlsZS5nZXRBYnNvbHV0ZVBhdGgoKSk7XG4gICAgNjVcdCAgICAgICAgICAgIH1cbiAgICA2Nlx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgNjdcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyIGRlIG5hdmlnYXRpb25cIiwgXCJJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGEgcGFnZSBkZSBjb25uZXhpb24uXCIpO1xuICAgIDY4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgIDY5XHQgICAgICAgIH1cbiAgICA3MFx0ICAgIH1cbiAgICA3MVx0XG4gICAgNzJcdCAgICBARlhNTFxuICAgIDczXHQgICAgcHVibGljIHZvaWQgaGFuZGxlRXhpdChBY3Rpb25FdmVudCBldmVudCkge1xuICAgIDc0XHQgICAgICAgIC8vIFF1aXR0ZXIgbCdhcHBsaWNhdGlvblxuICAgIDc1XHQgICAgICAgIFBsYXRmb3JtLmV4aXQoKTtcbiAgICA3Nlx0ICAgIH1cbiAgICA3N1x0XG4gICAgNzhcdCAgICBARlhNTFxuICAgIDc5XHQgICAgcHVibGljIHZvaWQgaGFuZGxlRXZlbnRzKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgODBcdCAgICAgICAgLy8gTmF2aWd1ZXIgdmVycyBsYSBwYWdlIGRlcyDDqXbDqW5lbWVudHNcbiAgICA4MVx0ICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIk5hdmlnYXRpb25cIiwgXCJGb25jdGlvbm5hbGl0w6kgbm9uIGltcGzDqW1lbnTDqWVcIik7XG4gICAgODJcdCAgICB9XG4gICAgODNcdFxuICAgIDg0XHQgICAgQEZYTUxcbiAgICA4NVx0ICAgIHB1YmxpYyB2b2lkIGhhbmRsZVByb2ZpbGUoQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICA4Nlx0ICAgICAgICAvLyBOYXZpZ3VlciB2ZXJzIGxhIHBhZ2UgZGUgcHJvZmlsXG4gICAgODdcdCAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJOYXZpZ2F0aW9uXCIsIFwiRm9uY3Rpb25uYWxpdMOpIG5vbiBpbXBsw6ltZW50w6llXCIpO1xuICAgIDg4XHQgICAgfVxuICAgIDg5XHRcbiAgICA5MFx0ICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgbWVzc2FnZSkge1xuICAgIDkxXHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgOTJcdCAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgIDkzXHQgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgOTRcdCAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQobWVzc2FnZSk7XG4gICAgOTVcdCAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICA5Nlx0ICAgIH1cbiAgICA5N1x0fVxuICAgIDk4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDk4XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyOWQxZTYyZS0xYWY3LTQxMTctYjlkYy1mODcyZTZkNDNiOGM7dG9vbHVfMDFNWjN0WUtkSjZ2S2M0QWRkc1QxUTF5Ijp7InBoYXNlIjo4fSwiYzMxODViYmMtMDZkNS00ZTRiLWE3YmMtZDcyODUxZjYyOWVlO3Rvb2x1XzAxNUVhRFFRWW05Y0dYek1nclR3YTlEciI6eyJwaGFzZSI6OCwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL0hvbWVQYWdlLmZ4bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAgN1x0PD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lio/PlxuICAgICA4XHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUuc2hhcGUuKj8+XG4gICAgIDlcdFxuICAgIDEwXHQ8P2ltcG9ydCBqYXZhLm5ldC5VUkw/PlxuICAgIDExXHQ8Qm9yZGVyUGFuZSB4bWxucz1cImh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNlwiIHhtbG5zOmZ4PVwiaHR0cDovL2phdmFmeC5jb20vZnhtbC8xXCIgZng6Y29udHJvbGxlcj1cImNvbnRyb2xsZXJzLkhvbWVQYWdlQ29udHJvbGxlclwiPlxuICAgIDEyXHQgICAgPCEtLSBTdHlsZSBDU1MgLS0+XG4gICAgMTNcdCAgICA8c3R5bGVzaGVldHM+XG4gICAgMTRcdCAgICAgICAgPFVSTCB2YWx1ZT1cIkAuLi9zdHlsZXMvaG9tZS5jc3NcIiAvPlxuICAgIDE1XHQgICAgPC9zdHlsZXNoZWV0cz5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMzJlNTMzYjQtZjBiOC00ODA3LWJjZmQtZmExOWQ1OGQ2OTcyO3Rvb2x1XzAxVXE1QnhoN2M3N2t3MTl2eHI4TlVvMiI6eyJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9Ib21lUGFnZS5meG1sLiBTZWUgYmVsb3cgZm9yIGRldGFpbHMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5ObyByZXBsYWNlbWVudCB3YXMgcGVyZm9ybWVkLCBvbGRTdHIgZGlkIG5vdCBhcHBlYXIgdmVyYmF0aW0gaW4gc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvSG9tZVBhZ2UuZnhtbC5cblRoZSBjb250ZW50IGluIHRoZSBzcGVjaWZpZWQgcmVnaW9uIGlzOlxuICAgICA3XHQ8P2ltcG9ydCBqYXZhZnguZ2VvbWV0cnkuKj8+XG4gICAgIDhcdDw/aW1wb3J0IGphdmFmeC5zY2VuZS5zaGFwZS4qPz5cbiAgICAgOVx0XG4gICAgMTBcdDw/aW1wb3J0IGphdmEubmV0LlVSTD8+XG4gICAgMTFcdDxCb3JkZXJQYW5lIHhtbG5zPVwiaHR0cDovL2phdmFmeC5jb20vamF2YWZ4LzE2XCIgeG1sbnM6Zng9XCJodHRwOi8vamF2YWZ4LmNvbS9meG1sLzFcIiBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuSG9tZVBhZ2VDb250cm9sbGVyXCI+XG4gICAgMTJcdCAgICA8IS0tIFN0eWxlIENTUyAtLT5cbiAgICAxM1x0ICAgIDxzdHlsZXNoZWV0cz5cbiAgICAxNFx0ICAgICAgICA8VVJMIHZhbHVlPVwiQC4uL3N0eWxlcy9ob21lLmNzc1wiIC8+XG4gICAgMTVcdCAgICA8L3N0eWxlc2hlZXRzPlxuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtMSwxICsxLDEgQEBcbi08Qm9yZGVyUGFuZSB4bWxucz1cImh0dHA6Ly9qYXZhZnguY29tL2phdmFmeC8xNlwiIHhtbG5zOmZ4PVwiaHR0cDovL2phdmFmeC5jb20vZnhtbC8xXCIgZng6Y29udHJvbGxlcj1cImNvbnRyb2xsZXJzLkhvbWVDb250cm9sbGVyXCI+XG4rPEJvcmRlclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZngvMTZcIiB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWwvMVwiIGZ4OmNvbnRyb2xsZXI9XCJjb250cm9sbGVycy5Ib21lUGFnZUNvbnRyb2xsZXJcIj5cblxuXG5GaXggZmFpbGVkIHN0cl9yZXBsYWNlX2VudHJpZXMgYWNjb3JkaW5nbHkgYW5kIHRyeSBhZ2Fpbi5cbiIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiZjFjNjAzYzUtZDNhYS00ZjRlLTk3OTUtMjU1ZWY3NzdmMTQxO3Rvb2x1XzAxU05MclJ5QTh5WXZSUG5UYzg4Y1J1YyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvZW50aXRpZXMvVXNlclNlc3Npb24uamF2YTpcbiAgICAgMVx0cGFja2FnZSBlbnRpdGllcztcbiAgICAgMlx0XG4gICAgIDNcdC8qKlxuICAgICA0XHQgKiBDbGFzc2Ugc2luZ2xldG9uIHBvdXIgZ8OpcmVyIGxhIHNlc3Npb24gdXRpbGlzYXRldXJcbiAgICAgNVx0ICovXG4gICAgIDZcdHB1YmxpYyBjbGFzcyBVc2VyU2Vzc2lvbiB7XG4gICAgIDdcdCAgICBwcml2YXRlIHN0YXRpYyBVc2VyU2Vzc2lvbiBpbnN0YW5jZTtcbiAgICAgOFx0ICAgIHByaXZhdGUgVXNlciBjdXJyZW50VXNlcjtcbiAgICAgOVx0XG4gICAgMTBcdCAgICAvLyBDb25zdHJ1Y3RldXIgcHJpdsOpIHBvdXIgZW1ww6pjaGVyIGwnaW5zdGFuY2lhdGlvbiBkaXJlY3RlXG4gICAgMTFcdCAgICBwcml2YXRlIFVzZXJTZXNzaW9uKCkge1xuICAgIDEyXHQgICAgfVxuICAgIDEzXHRcbiAgICAxNFx0ICAgIC8qKlxuICAgIDE1XHQgICAgICogT2J0aWVudCBsJ2luc3RhbmNlIHVuaXF1ZSBkZSBVc2VyU2Vzc2lvblxuICAgIDE2XHQgICAgICogQHJldHVybiBMJ2luc3RhbmNlIGRlIFVzZXJTZXNzaW9uXG4gICAgMTdcdCAgICAgKi9cbiAgICAxOFx0ICAgIHB1YmxpYyBzdGF0aWMgVXNlclNlc3Npb24gZ2V0SW5zdGFuY2UoKSB7XG4gICAgMTlcdCAgICAgICAgaWYgKGluc3RhbmNlID09IG51bGwpIHtcbiAgICAyMFx0ICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgVXNlclNlc3Npb24oKTtcbiAgICAyMVx0ICAgICAgICB9XG4gICAgMjJcdCAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIDIzXHQgICAgfVxuICAgIDI0XHRcbiAgICAyNVx0ICAgIC8qKlxuICAgIDI2XHQgICAgICogRMOpZmluaXQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdMOpXG4gICAgMjdcdCAgICAgKiBAcGFyYW0gdXNlciBMJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqVxuICAgIDI4XHQgICAgICovXG4gICAgMjlcdCAgICBwdWJsaWMgdm9pZCBzZXRDdXJyZW50VXNlcihVc2VyIHVzZXIpIHtcbiAgICAzMFx0ICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICAzMVx0ICAgIH1cbiAgICAzMlx0XG4gICAgMzNcdCAgICAvKipcbiAgICAzNFx0ICAgICAqIE9idGllbnQgbCd1dGlsaXNhdGV1ciBhY3R1ZWxsZW1lbnQgY29ubmVjdMOpXG4gICAgMzVcdCAgICAgKiBAcmV0dXJuIEwndXRpbGlzYXRldXIgY29ubmVjdMOpXG4gICAgMzZcdCAgICAgKi9cbiAgICAzN1x0ICAgIHB1YmxpYyBVc2VyIGdldEN1cnJlbnRVc2VyKCkge1xuICAgIDM4XHQgICAgICAgIHJldHVybiBjdXJyZW50VXNlcjtcbiAgICAzOVx0ICAgIH1cbiAgICA0MFx0XG4gICAgNDFcdCAgICAvKipcbiAgICA0Mlx0ICAgICAqIETDqWNvbm5lY3RlIGwndXRpbGlzYXRldXIgYWN0dWVsXG4gICAgNDNcdCAgICAgKi9cbiAgICA0NFx0ICAgIHB1YmxpYyB2b2lkIGxvZ291dCgpIHtcbiAgICA0NVx0ICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICA0Nlx0ICAgIH1cbiAgICA0N1x0XG4gICAgNDhcdCAgICAvKipcbiAgICA0OVx0ICAgICAqIFbDqXJpZmllIHNpIHVuIHV0aWxpc2F0ZXVyIGVzdCBjb25uZWN0w6lcbiAgICA1MFx0ICAgICAqIEByZXR1cm4gdHJ1ZSBzaSB1biB1dGlsaXNhdGV1ciBlc3QgY29ubmVjdMOpLCBmYWxzZSBzaW5vblxuICAgIDUxXHQgICAgICovXG4gICAgNTJcdCAgICBwdWJsaWMgYm9vbGVhbiBpc0xvZ2dlZEluKCkge1xuICAgIDUzXHQgICAgICAgIHJldHVybiBjdXJyZW50VXNlciAhPSBudWxsO1xuICAgIDU0XHQgICAgfVxuICAgIDU1XHR9XG4gICAgNTZcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNTZcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjM1OWU1ZmM0LTZjN2UtNGE2MS1hYzc2LTRiNTM5NTI4N2NjOTt0b29sdV8wMU5xMjl6SGNKNEp3a05FNVh6OXhrVlIiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2VudGl0aWVzL1VzZXIuamF2YTpcbiAgICAgMVx0cGFja2FnZSBlbnRpdGllcztcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLnNxbC5UaW1lc3RhbXA7XG4gICAgIDRcdGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuICAgICA1XHRpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4gICAgIDZcdFxuICAgICA3XHRwdWJsaWMgY2xhc3MgVXNlciB7XG4gICAgIDhcdCAgICBwcml2YXRlIGludCBpZDtcbiAgICAgOVx0ICAgIHByaXZhdGUgU3RyaW5nIG5vbTtcbiAgICAxMFx0ICAgIHByaXZhdGUgU3RyaW5nIGVtYWlsO1xuICAgIDExXHQgICAgcHJpdmF0ZSBTdHJpbmcgcHJlbm9tO1xuICAgIDEyXHQgICAgcHJpdmF0ZSBTdHJpbmcgYWRyZXNzZTtcbiAgICAxM1x0ICAgIHByaXZhdGUgU3RyaW5nIHRlbGVwaG9uZTtcbiAgICAxNFx0ICAgIHByaXZhdGUgYm9vbGVhbiBpc1ZlcmlmaWVkO1xuICAgIDE1XHQgICAgcHJpdmF0ZSBUaW1lc3RhbXAgY3JlYXRlZF9hdDtcbiAgICAxNlx0ICAgIHByaXZhdGUgTGlzdDxTdHJpbmc+IHJvbGU7XG4gICAgMTdcdCAgICBwcml2YXRlIFN0cmluZyBwYXNzd29yZDtcbiAgICAxOFx0ICAgIHByaXZhdGUgU3RyaW5nIGltYWdlVXJsO1xuICAgIDE5XHRcbiAgICAyMFx0ICAgIC8vIENvbnN0cnVjdGV1ciBwYXIgZMOpZmF1dFxuICAgIDIxXHQgICAgcHVibGljIFVzZXIoKSB7XG4gICAgMjJcdCAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgMjNcdCAgICB9XG4gICAgMjRcdFxuICAgIDI1XHQgICAgLy8gQ29uc3RydWN0ZXVyIGF2ZWMgdG91cyBsZXMgcGFyYW3DqHRyZXNcbiAgICAyNlx0ICAgIHB1YmxpYyBVc2VyKGludCBpZCwgU3RyaW5nIG5vbSwgU3RyaW5nIGVtYWlsLCBTdHJpbmcgcHJlbm9tLCBTdHJpbmcgYWRyZXNzZSwgU3RyaW5nIHRlbGVwaG9uZSwgYm9vbGVhbiBpc1ZlcmlmaWVkLCBUaW1lc3RhbXAgY3JlYXRlZF9hdCwgU3RyaW5nIHBhc3N3b3JkLCBTdHJpbmcgaW1hZ2VVcmwpIHtcbiAgICAyN1x0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgMjhcdCAgICAgICAgdGhpcy5ub20gPSBub207XG4gICAgMjlcdCAgICAgICAgdGhpcy5lbWFpbCA9IGVtYWlsO1xuICAgIDMwXHQgICAgICAgIHRoaXMucHJlbm9tID0gcHJlbm9tO1xuICAgIDMxXHQgICAgICAgIHRoaXMuYWRyZXNzZSA9IGFkcmVzc2U7XG4gICAgMzJcdCAgICAgICAgdGhpcy50ZWxlcGhvbmUgPSB0ZWxlcGhvbmU7XG4gICAgMzNcdCAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gaXNWZXJpZmllZDtcbiAgICAzNFx0ICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xuICAgIDM1XHQgICAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAzNlx0ICAgICAgICB0aGlzLmltYWdlVXJsID0gaW1hZ2VVcmw7XG4gICAgMzdcdCAgICAgICAgdGhpcy5yb2xlID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gICAgMzhcdCAgICB9XG4gICAgMzlcdFxuICAgIDQwXHQgICAgLy8gR2V0dGVycyBldCBTZXR0ZXJzXG4gICAgNDFcdCAgICBwdWJsaWMgaW50IGdldElkKCkge1xuICAgIDQyXHQgICAgICAgIHJldHVybiBpZDtcbiAgICA0M1x0ICAgIH1cbiAgICA0NFx0XG4gICAgNDVcdCAgICBwdWJsaWMgdm9pZCBzZXRJZChpbnQgaWQpIHtcbiAgICA0Nlx0ICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgNDdcdCAgICB9XG4gICAgNDhcdFxuICAgIDQ5XHQgICAgcHVibGljIFN0cmluZyBnZXROb20oKSB7XG4gICAgNTBcdCAgICAgICAgcmV0dXJuIG5vbTtcbiAgICA1MVx0ICAgIH1cbiAgICA1Mlx0XG4gICAgNTNcdCAgICBwdWJsaWMgdm9pZCBzZXROb20oU3RyaW5nIG5vbSkge1xuICAgIDU0XHQgICAgICAgIHRoaXMubm9tID0gbm9tO1xuICAgIDU1XHQgICAgfVxuICAgIDU2XHRcbiAgICA1N1x0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0RW1haWwoKSB7XG4gICAgNThcdCAgICAgICAgcmV0dXJuIGVtYWlsO1xuICAgIDU5XHQgICAgfVxuICAgIDYwXHRcbiAgICA2MVx0ICAgIHB1YmxpYyB2b2lkIHNldEVtYWlsKFN0cmluZyBlbWFpbCkge1xuICAgIDYyXHQgICAgICAgIHRoaXMuZW1haWwgPSBlbWFpbDtcbiAgICA2M1x0ICAgIH1cbiAgICA2NFx0XG4gICAgNjVcdCAgICBwdWJsaWMgU3RyaW5nIGdldFByZW5vbSgpIHtcbiAgICA2Nlx0ICAgICAgICByZXR1cm4gcHJlbm9tO1xuICAgIDY3XHQgICAgfVxuICAgIDY4XHRcbiAgICA2OVx0ICAgIHB1YmxpYyB2b2lkIHNldFByZW5vbShTdHJpbmcgcHJlbm9tKSB7XG4gICAgNzBcdCAgICAgICAgdGhpcy5wcmVub20gPSBwcmVub207XG4gICAgNzFcdCAgICB9XG4gICAgNzJcdFxuICAgIDczXHQgICAgcHVibGljIFN0cmluZyBnZXRBZHJlc3NlKCkge1xuICAgIDc0XHQgICAgICAgIHJldHVybiBhZHJlc3NlO1xuICAgIDc1XHQgICAgfVxuICAgIDc2XHRcbiAgICA3N1x0ICAgIHB1YmxpYyB2b2lkIHNldEFkcmVzc2UoU3RyaW5nIGFkcmVzc2UpIHtcbiAgICA3OFx0ICAgICAgICB0aGlzLmFkcmVzc2UgPSBhZHJlc3NlO1xuICAgIDc5XHQgICAgfVxuICAgIDgwXHRcbiAgICA4MVx0ICAgIHB1YmxpYyBTdHJpbmcgZ2V0VGVsZXBob25lKCkge1xuICAgIDgyXHQgICAgICAgIHJldHVybiB0ZWxlcGhvbmU7XG4gICAgODNcdCAgICB9XG4gICAgODRcdFxuICAgIDg1XHQgICAgcHVibGljIHZvaWQgc2V0VGVsZXBob25lKFN0cmluZyB0ZWxlcGhvbmUpIHtcbiAgICA4Nlx0ICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IHRlbGVwaG9uZTtcbiAgICA4N1x0ICAgIH1cbiAgICA4OFx0XG4gICAgODlcdCAgICBwdWJsaWMgYm9vbGVhbiBpc1ZlcmlmaWVkKCkge1xuICAgIDkwXHQgICAgICAgIHJldHVybiBpc1ZlcmlmaWVkO1xuICAgIDkxXHQgICAgfVxuICAgIDkyXHRcbiAgICA5M1x0ICAgIHB1YmxpYyB2b2lkIHNldFZlcmlmaWVkKGJvb2xlYW4gdmVyaWZpZWQpIHtcbiAgICA5NFx0ICAgICAgICBpc1ZlcmlmaWVkID0gdmVyaWZpZWQ7XG4gICAgOTVcdCAgICB9XG4gICAgOTZcdFxuICAgIDk3XHQgICAgcHVibGljIFRpbWVzdGFtcCBnZXRDcmVhdGVkX2F0KCkge1xuICAgIDk4XHQgICAgICAgIHJldHVybiBjcmVhdGVkX2F0O1xuICAgIDk5XHQgICAgfVxuICAgMTAwXHRcbiAgIDEwMVx0ICAgIHB1YmxpYyB2b2lkIHNldENyZWF0ZWRfYXQoVGltZXN0YW1wIGNyZWF0ZWRfYXQpIHtcbiAgIDEwMlx0ICAgICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBjcmVhdGVkX2F0O1xuICAgMTAzXHQgICAgfVxuICAgMTA0XHRcbiAgIDEwNVx0ICAgIHB1YmxpYyBMaXN0PFN0cmluZz4gZ2V0Um9sZSgpIHtcbiAgIDEwNlx0ICAgICAgICByZXR1cm4gcm9sZTtcbiAgIDEwN1x0ICAgIH1cbiAgIDEwOFx0XG4gICAxMDlcdCAgICBwdWJsaWMgdm9pZCBzZXRSb2xlKExpc3Q8U3RyaW5nPiByb2xlKSB7XG4gICAxMTBcdCAgICAgICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgIDExMVx0ICAgIH1cbiAgIDExMlx0XG4gICAxMTNcdCAgICBwdWJsaWMgU3RyaW5nIGdldFBhc3N3b3JkKCkge1xuICAgMTE0XHQgICAgICAgIHJldHVybiBwYXNzd29yZDtcbiAgIDExNVx0ICAgIH1cbiAgIDExNlx0XG4gICAxMTdcdCAgICBwdWJsaWMgdm9pZCBzZXRQYXNzd29yZChTdHJpbmcgcGFzc3dvcmQpIHtcbiAgIDExOFx0ICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAxMTlcdCAgICB9XG4gICAxMjBcdFxuICAgMTIxXHQgICAgcHVibGljIFN0cmluZyBnZXRJbWFnZVVybCgpIHtcbiAgIDEyMlx0ICAgICAgICByZXR1cm4gaW1hZ2VVcmw7XG4gICAxMjNcdCAgICB9XG4gICAxMjRcdFxuICAgMTI1XHQgICAgcHVibGljIHZvaWQgc2V0SW1hZ2VVcmwoU3RyaW5nIGltYWdlVXJsKSB7XG4gICAxMjZcdCAgICAgICAgdGhpcy5pbWFnZVVybCA9IGltYWdlVXJsO1xuICAgMTI3XHQgICAgfVxuICAgMTI4XHRcbiAgIDEyOVx0ICAgIEBPdmVycmlkZVxuICAgMTMwXHQgICAgcHVibGljIFN0cmluZyB0b1N0cmluZygpIHtcbiAgIDEzMVx0ICAgICAgICByZXR1cm4gXCJVc2Vye1wiICtcbiAgIDEzMlx0ICAgICAgICAgICAgICAgIFwiaWQ9XCIgKyBpZCArXG4gICAxMzNcdCAgICAgICAgICAgICAgICBcIiwgbm9tPSdcIiArIG5vbSArICdcXCcnICtcbiAgIDEzNFx0ICAgICAgICAgICAgICAgIFwiLCBlbWFpbD0nXCIgKyBlbWFpbCArICdcXCcnICtcbiAgIDEzNVx0ICAgICAgICAgICAgICAgIFwiLCBwcmVub209J1wiICsgcHJlbm9tICsgJ1xcJycgK1xuICAgMTM2XHQgICAgICAgICAgICAgICAgXCIsIGFkcmVzc2U9J1wiICsgYWRyZXNzZSArICdcXCcnICtcbiAgIDEzN1x0ICAgICAgICAgICAgICAgIFwiLCB0ZWxlcGhvbmU9J1wiICsgdGVsZXBob25lICsgJ1xcJycgK1xuICAgMTM4XHQgICAgICAgICAgICAgICAgXCIsIGlzVmVyaWZpZWQ9XCIgKyBpc1ZlcmlmaWVkICtcbiAgIDEzOVx0ICAgICAgICAgICAgICAgIFwiLCBjcmVhdGVkX2F0PVwiICsgY3JlYXRlZF9hdCArXG4gICAxNDBcdCAgICAgICAgICAgICAgICBcIiwgcm9sZT1cIiArIHJvbGUgK1xuICAgMTQxXHQgICAgICAgICAgICAgICAgXCIsIGltYWdlVXJsPSdcIiArIGltYWdlVXJsICsgJ1xcJycgK1xuICAgMTQyXHQgICAgICAgICAgICAgICAgJ30nO1xuICAgMTQzXHQgICAgfVxuICAgMTQ0XHR9XG4gICAxNDVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMTQ1XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhZGQ3YjlhYy1jOGE3LTQ2ZmEtYjE5ZS01ZDMzOGU4OTQ4ZGQ7dG9vbHVfMDFDM3RDZHNIRTl3SEJWbktaSDF3QTJ4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvcHJvZmlsZXVzZXIuZnhtbDpcbiAgICAgMVx0PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG4gICAgIDJcdFxuICAgICAzXHQ8P2ltcG9ydCBqYXZhLmxhbmcuKj8+XG4gICAgIDRcdDw/aW1wb3J0IGphdmEudXRpbC4qPz5cbiAgICAgNVx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLio/PlxuICAgICA2XHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qPz5cbiAgICAgN1x0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC4qPz5cbiAgICAgOFx0PD9pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLio/PlxuICAgICA5XHQ8P2ltcG9ydCBqYXZhZnguc2NlbmUuc2hhcGUuKj8+XG4gICAgMTBcdDw/aW1wb3J0IGphdmFmeC5nZW9tZXRyeS4qPz5cbiAgICAxMVx0XG4gICAgMTJcdDxBbmNob3JQYW5lIHhtbG5zPVwiaHR0cDovL2phdmFmeC5jb20vamF2YWZ4XCJcbiAgICAxM1x0ICAgICAgICAgICAgeG1sbnM6Zng9XCJodHRwOi8vamF2YWZ4LmNvbS9meG1sXCJcbiAgICAxNFx0ICAgICAgICAgICAgZng6Y29udHJvbGxlcj1cImNvbnRyb2xsZXJzLnByb2ZpbGV1c2VyXCJcbiAgICAxNVx0ICAgICAgICAgICAgcHJlZkhlaWdodD1cIjYwMC4wXCIgcHJlZldpZHRoPVwiODAwLjBcIlxuICAgIDE2XHQgICAgICAgICAgICBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1wiPlxuICAgIDE3XHRcbiAgICAxOFx0ICAgIDwhLS0gQ29udGVuZXVyIHByaW5jaXBhbCAtLT5cbiAgICAxOVx0ICAgIDxWQm94IGFsaWdubWVudD1cIlRPUF9DRU5URVJcIiBzcGFjaW5nPVwiMjBcIiBBbmNob3JQYW5lLnRvcEFuY2hvcj1cIjIwXCIgQW5jaG9yUGFuZS5ib3R0b21BbmNob3I9XCIyMFwiIEFuY2hvclBhbmUubGVmdEFuY2hvcj1cIjIwXCIgQW5jaG9yUGFuZS5yaWdodEFuY2hvcj1cIjIwXCI+XG4gICAgMjBcdCAgICAgICAgPCEtLSBUaXRyZSAtLT5cbiAgICAyMVx0ICAgICAgICA8TGFiZWwgdGV4dD1cIlByb2ZpbCBVdGlsaXNhdGV1clwiIHN0eWxlPVwiLWZ4LWZvbnQtc2l6ZTogMjRweDsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtdGV4dC1maWxsOiAjMzMzO1wiLz5cbiAgICAyMlx0XG4gICAgMjNcdCAgICAgICAgPCEtLSBDb250ZW5ldXIgcG91ciBwaG90byBldCBpbmZvcm1hdGlvbnMgLS0+XG4gICAgMjRcdCAgICAgICAgPEhCb3ggc3BhY2luZz1cIjQwXCIgYWxpZ25tZW50PVwiQ0VOVEVSX0xFRlRcIj5cbiAgICAyNVx0ICAgICAgICAgICAgPCEtLSBab25lIHBob3RvIGRlIHByb2ZpbCAtLT5cbiAgICAyNlx0ICAgICAgICAgICAgPFZCb3ggc3BhY2luZz1cIjEwXCIgYWxpZ25tZW50PVwiQ0VOVEVSXCI+XG4gICAgMjdcdCAgICAgICAgICAgICAgICA8IS0tIENhZHJlIHBvdXIgbCdpbWFnZSAtLT5cbiAgICAyOFx0ICAgICAgICAgICAgICAgIDxTdGFja1BhbmU+XG4gICAgMjlcdCAgICAgICAgICAgICAgICAgICAgPCEtLSBDZXJjbGUgcG91ciBsJ2ltYWdlIHJvbmRlIC0tPlxuICAgIDMwXHQgICAgICAgICAgICAgICAgICAgIDxDaXJjbGUgcmFkaXVzPVwiODBcIiBmaWxsPVwid2hpdGVcIiBzdHJva2U9XCIjZGRkXCIgc3Ryb2tlV2lkdGg9XCIyXCIvPlxuICAgIDMxXHRcbiAgICAzMlx0ICAgICAgICAgICAgICAgICAgICA8IS0tIEltYWdlIGRlIHByb2ZpbCAtLT5cbiAgICAzM1x0ICAgICAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZ4OmlkPVwicHJvZmlsZUltYWdlXCIgZml0SGVpZ2h0PVwiMTUwXCIgZml0V2lkdGg9XCIxNTBcIiBwcmVzZXJ2ZVJhdGlvPVwidHJ1ZVwiPlxuICAgIDM0XHRcbiAgICAzNVx0ICAgICAgICAgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgPCEtLSBCb3V0b24gcG91ciBjaGFuZ2VyIGwnaW1hZ2UgLS0+XG4gICAgMzhcdCAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiQ2hhbmdlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC1zaXplOiAxMnB4O1wiXG4gICAgMzlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja1BhbmUuYWxpZ25tZW50PVwiQk9UVE9NX1JJR0hUXCI+XG4gICAgNDBcdCAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja1BhbmUubWFyZ2luPlxuICAgIDQxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyByaWdodD1cIjEwXCIgYm90dG9tPVwiMTBcIi8+XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tQYW5lLm1hcmdpbj5cbiAgICA0M1x0ICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICA0NFx0ICAgICAgICAgICAgICAgIDwvU3RhY2tQYW5lPlxuICAgIDQ1XHRcbiAgICA0Nlx0ICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiVGFpbGxlIG1heDogMk1CXCIgc3R5bGU9XCItZngtZm9udC1zaXplOiAxMHB4OyAtZngtdGV4dC1maWxsOiAjNzc3O1wiLz5cbiAgICA0N1x0ICAgICAgICAgICAgPC9WQm94PlxuICAgIDQ4XHRcbiAgICA0OVx0ICAgICAgICAgICAgPCEtLSBGb3JtdWxhaXJlIGQnaW5mb3JtYXRpb25zIC0tPlxuICAgIDUwXHQgICAgICAgICAgICA8R3JpZFBhbmUgaGdhcD1cIjEwXCIgdmdhcD1cIjE1XCI+XG4gICAgNTFcdCAgICAgICAgICAgICAgICA8Y29sdW1uQ29uc3RyYWludHM+XG4gICAgNTJcdCAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhhbGlnbm1lbnQ9XCJSSUdIVFwiIGhncm93PVwiTkVWRVJcIi8+XG4gICAgNTNcdCAgICAgICAgICAgICAgICAgICAgPENvbHVtbkNvbnN0cmFpbnRzIGhhbGlnbm1lbnQ9XCJMRUZUXCIgaGdyb3c9XCJBTFdBWVNcIi8+XG4gICAgNTRcdCAgICAgICAgICAgICAgICA8L2NvbHVtbkNvbnN0cmFpbnRzPlxuICAgIDU1XHRcbiAgICA1Nlx0ICAgICAgICAgICAgICAgIDwhLS0gTGlnbmUgMTogTm9tIC0tPlxuICAgIDU3XHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJOb206XCIgR3JpZFBhbmUucm93SW5kZXg9XCIwXCIgR3JpZFBhbmUuY29sdW1uSW5kZXg9XCIwXCIgc3R5bGU9XCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7XCIvPlxuICAgIDU4XHQgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBmeDppZD1cImxhc3ROYW1lRmllbGRcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjBcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjFcIiBwcmVmV2lkdGg9XCIyNTBcIi8+XG4gICAgNTlcdFxuICAgIDYwXHQgICAgICAgICAgICAgICAgPCEtLSBMaWduZSAyOiBQcsOpbm9tIC0tPlxuICAgIDYxXHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJQcsOpbm9tOlwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMVwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMFwiIHN0eWxlPVwiLWZ4LWZvbnQtd2VpZ2h0OiBib2xkO1wiLz5cbiAgICA2Mlx0ICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XCJmaXJzdE5hbWVGaWVsZFwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMVwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiLz5cbiAgICA2M1x0XG4gICAgNjRcdCAgICAgICAgICAgICAgICA8IS0tIExpZ25lIDM6IEVtYWlsIC0tPlxuICAgIDY1XHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJFbWFpbDpcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjJcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIiBzdHlsZT1cIi1meC1mb250LXdlaWdodDogYm9sZDtcIi8+XG4gICAgNjZcdCAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVwiZW1haWxGaWVsZFwiIEdyaWRQYW5lLnJvd0luZGV4PVwiMlwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiLz5cbiAgICA2N1x0XG4gICAgNjhcdCAgICAgICAgICAgICAgICA8IS0tIExpZ25lIDQ6IFTDqWzDqXBob25lIC0tPlxuICAgIDY5XHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJUw6lsw6lwaG9uZTpcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjNcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIiBzdHlsZT1cIi1meC1mb250LXdlaWdodDogYm9sZDtcIi8+XG4gICAgNzBcdCAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGZ4OmlkPVwicGhvbmVGaWVsZFwiIEdyaWRQYW5lLnJvd0luZGV4PVwiM1wiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiLz5cbiAgICA3MVx0XG4gICAgNzJcdCAgICAgICAgICAgICAgICA8IS0tIExpZ25lIDU6IERhdGUgZGUgbmFpc3NhbmNlIC0tPlxuICAgIDczXHQgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XCJEYXRlIGRlIG5haXNzYW5jZTpcIiBHcmlkUGFuZS5yb3dJbmRleD1cIjRcIiBHcmlkUGFuZS5jb2x1bW5JbmRleD1cIjBcIiBzdHlsZT1cIi1meC1mb250LXdlaWdodDogYm9sZDtcIi8+XG4gICAgNzRcdCAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBmeDppZD1cImJpcnRoRGF0ZVBpY2tlclwiIEdyaWRQYW5lLnJvd0luZGV4PVwiNFwiIEdyaWRQYW5lLmNvbHVtbkluZGV4PVwiMVwiLz5cbiAgICA3NVx0ICAgICAgICAgICAgPC9HcmlkUGFuZT5cbiAgICA3Nlx0ICAgICAgICA8L0hCb3g+XG4gICAgNzdcdFxuICAgIDc4XHQgICAgICAgIDwhLS0gWm9uZSBkJ2FkcmVzc2UgLS0+XG4gICAgNzlcdCAgICAgICAgPFZCb3ggc3BhY2luZz1cIjEwXCIgYWxpZ25tZW50PVwiVE9QX0xFRlRcIiBzdHlsZT1cIi1meC1wYWRkaW5nOiAwIDAgMCAxODA7XCI+XG4gICAgODBcdCAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVwiQWRyZXNzZTpcIiBzdHlsZT1cIi1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LWZvbnQtc2l6ZTogMTRweDtcIi8+XG4gICAgODFcdCAgICAgICAgICAgIDxUZXh0RmllbGQgZng6aWQ9XCJhZGRyZXNzRmllbGRcIiBwcmVmV2lkdGg9XCI0MDBcIiBwcm9tcHRUZXh0PVwiQWRyZXNzZSBjb21wbMOodGVcIi8+XG4gICAgODJcdCAgICAgICAgPC9WQm94PlxuICAgIDgzXHRcbiAgICA4NFx0ICAgICAgICA8IS0tIEJvdXRvbnMgZCdhY3Rpb24gLS0+XG4gICAgODVcdCAgICAgICAgPEhCb3ggc3BhY2luZz1cIjIwXCIgYWxpZ25tZW50PVwiQ0VOVEVSXCI+XG4gICAgODZcdCAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkVucmVnaXN0cmVyXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA4N1x0ICAgICAgICAgICAgICAgICAgIC8+XG4gICAgODhcdCAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkFubnVsZXJcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjQ0MzM2OyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcIlxuICAgIDg5XHQgICAgICAgICAgICAgICAgICAgLz5cbiAgICA5MFx0ICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiTW9kaWZpZXIgbW90IGRlIHBhc3NlXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA5MVx0ICAgICAgICAgICAgICAgICAgIC8+XG4gICAgOTJcdCAgICAgICAgPC9IQm94PlxuICAgIDkzXHQgICAgPC9WQm94PlxuICAgIDk0XHQ8L0FuY2hvclBhbmU+XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA5NFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjY3YjVlNzMtNDJjZS00MTZmLTk3NDMtZmI0ODg4NGJjNjA1O3Rvb2x1XzAxOGk1UkQxM0cyZ3FVWG94b2VRVUFoWiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3NzZmNzdlOC02NGU4LTQ1ZTYtOTUzYi0yYWFkMTc3NTg0Y2M7dG9vbHVfMDFSOVdLZXFYbndqd3BreTZYMVZyWkR2Ijp7InBoYXNlIjo4fSwiZGU2YzEzZTAtN2EzMy00MDE5LWI1MWUtNmQ1ZGM5ZDI5MTEyO3Rvb2x1XzAxVTNZMkF0QkxReHFkVUtYWGtzNlg5NSI6eyJwaGFzZSI6OCwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAxMFx0PD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lio/PlxuICAgIDExXHRcbiAgICAxMlx0PEFuY2hvclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcIlxuICAgIDEzXHQgICAgICAgICAgICB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcIlxuICAgIDE0XHQgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuUHJvZmlsZVVzZXJDb250cm9sbGVyXCJcbiAgICAxNVx0ICAgICAgICAgICAgcHJlZkhlaWdodD1cIjYwMC4wXCIgcHJlZldpZHRoPVwiODAwLjBcIlxuICAgIDE2XHQgICAgICAgICAgICBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1wiPlxuICAgIDE3XHRcbiAgICAxOFx0ICAgIDwhLS0gQ29udGVuZXVyIHByaW5jaXBhbCAtLT5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjczMzkyOTktNDVkYS00YmY1LWIzMzUtNGVjMmEzZjA5NWY0O3Rvb2x1XzAxRXhkMXFNUnAyeWRyS1BlbzRRNHB5dyI6eyJwaGFzZSI6OH0sIjBmYWU0ZGVhLTA0NWQtNDJhNi1hNmIxLTg3MDA1YzM1NDY3ODt0b29sdV8wMVZBUUFxNVA5RU1QYWJuaDNCNDhtekYiOnsicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmFpbGVkIHRvIGVkaXQgdGhlIGZpbGUgc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvcHJvZmlsZXVzZXIuZnhtbC4gU2VlIGJlbG93IGZvciBkZXRhaWxzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuTm8gcmVwbGFjZW1lbnQgd2FzIHBlcmZvcm1lZCwgb2xkU3RyIGRpZCBub3QgYXBwZWFyIHZlcmJhdGltIGluIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5UaGUgY29udGVudCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbiAgICAxMFx0PD9pbXBvcnQgamF2YWZ4Lmdlb21ldHJ5Lio/PlxuICAgIDExXHRcbiAgICAxMlx0PEFuY2hvclBhbmUgeG1sbnM9XCJodHRwOi8vamF2YWZ4LmNvbS9qYXZhZnhcIlxuICAgIDEzXHQgICAgICAgICAgICB4bWxuczpmeD1cImh0dHA6Ly9qYXZhZnguY29tL2Z4bWxcIlxuICAgIDE0XHQgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuUHJvZmlsZVVzZXJDb250cm9sbGVyXCJcbiAgICAxNVx0ICAgICAgICAgICAgcHJlZkhlaWdodD1cIjYwMC4wXCIgcHJlZldpZHRoPVwiODAwLjBcIlxuICAgIDE2XHQgICAgICAgICAgICBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1wiPlxuICAgIDE3XHRcbiAgICAxOFx0ICAgIDwhLS0gQ29udGVuZXVyIHByaW5jaXBhbCAtLT5cblxuRGlmZiBiZXR3ZWVuIG9sZFN0ciBhbmQgdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4tLS0gb2xkU3RyXG4rKysgcmVnaW9uQ29udGVudFxuQEAgLTEsMSArMSwxIEBAXG4tZng6Y29udHJvbGxlcj1cImNvbnRyb2xsZXJzLnByb2ZpbGV1c2VyXCJcbisgICAgICAgICAgICBmeDpjb250cm9sbGVyPVwiY29udHJvbGxlcnMuUHJvZmlsZVVzZXJDb250cm9sbGVyXCJcblxuXG5GaXggZmFpbGVkIHN0cl9yZXBsYWNlX2VudHJpZXMgYWNjb3JkaW5nbHkgYW5kIHRyeSBhZ2Fpbi5cbiIsImlzRXJyb3IiOnRydWUsInJlcXVlc3RJZCI6IiJ9fSwiZjNhZWQwNWEtMTI4OS00YjE3LTgxOWUtMjM2MjQ1MjNiZWFjO3Rvb2x1XzAxOWFoRlRXWUdrMkJva0JXRlE4dnBRTSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICAzM1x0ICAgICAgICAgICAgICAgICAgICA8SW1hZ2VWaWV3IGZ4OmlkPVwicHJvZmlsZUltYWdlXCIgZml0SGVpZ2h0PVwiMTUwXCIgZml0V2lkdGg9XCIxNTBcIiBwcmVzZXJ2ZVJhdGlvPVwidHJ1ZVwiPlxuICAgIDM0XHRcbiAgICAzNVx0ICAgICAgICAgICAgICAgICAgICA8L0ltYWdlVmlldz5cbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgICAgICAgICAgICAgPCEtLSBCb3V0b24gcG91ciBjaGFuZ2VyIGwnaW1hZ2UgLS0+XG4gICAgMzhcdCAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiQ2hhbmdlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC1zaXplOiAxMnB4O1wiXG4gICAgMzlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja1BhbmUuYWxpZ25tZW50PVwiQk9UVE9NX1JJR0hUXCIgb25BY3Rpb249XCIjaGFuZGxlQ2hhbmdlUHJvZmlsZUltYWdlXCI+XG4gICAgNDBcdCAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja1BhbmUubWFyZ2luPlxuICAgIDQxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEluc2V0cyByaWdodD1cIjEwXCIgYm90dG9tPVwiMTBcIi8+XG4gICAgNDJcdCAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tQYW5lLm1hcmdpbj5cbiAgICA0M1x0ICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOTQzMTViNzMtMWJhZi00OTU5LWFmZTYtNzQ5ODE5OWMxMDMxO3Rvb2x1XzAxSGZ1UXUxakZYQWtNNHlqRWRHbzFNVSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA4Mlx0ICAgICAgICA8L1ZCb3g+XG4gICAgODNcdFxuICAgIDg0XHQgICAgICAgIDwhLS0gQm91dG9ucyBkJ2FjdGlvbiAtLT5cbiAgICA4NVx0ICAgICAgICA8SEJveCBzcGFjaW5nPVwiMjBcIiBhbGlnbm1lbnQ9XCJDRU5URVJcIj5cbiAgICA4Nlx0ICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD1cInNhdmVCdXR0b25cIiB0ZXh0PVwiRW5yZWdpc3RyZXJcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcIlxuICAgIDg3XHQgICAgICAgICAgICAgICAgICAgIG9uQWN0aW9uPVwiI2hhbmRsZVNhdmVcIi8+XG4gICAgODhcdCAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIkFubnVsZXJcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjZjQ0MzM2OyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcIlxuICAgIDg5XHQgICAgICAgICAgICAgICAgICAgLz5cbiAgICA5MFx0ICAgICAgICAgICAgPEJ1dHRvbiB0ZXh0PVwiTW9kaWZpZXIgbW90IGRlIHBhc3NlXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA5MVx0ICAgICAgICAgICAgICAgICAgIC8+XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjFmZmM2ODQyLWQzY2MtNDFhZS05NGJlLWY1N2E0YTk5M2RmOTt0b29sdV8wMVRCYkZBN3l2UFRaenpGREFCZWhEN2kiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9wcm9maWxldXNlci5meG1sLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC4gRWRpdGVkIHNlY3Rpb246XG4gICAgODRcdCAgICAgICAgPCEtLSBCb3V0b25zIGQnYWN0aW9uIC0tPlxuICAgIDg1XHQgICAgICAgIDxIQm94IHNwYWNpbmc9XCIyMFwiIGFsaWdubWVudD1cIkNFTlRFUlwiPlxuICAgIDg2XHQgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVwic2F2ZUJ1dHRvblwiIHRleHQ9XCJFbnJlZ2lzdHJlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgODdcdCAgICAgICAgICAgICAgICAgICAgb25BY3Rpb249XCIjaGFuZGxlU2F2ZVwiLz5cbiAgICA4OFx0ICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD1cImNhbmNlbEJ1dHRvblwiIHRleHQ9XCJBbm51bGVyXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA4OVx0ICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cIiNoYW5kbGVDYW5jZWxcIi8+XG4gICAgOTBcdCAgICAgICAgICAgIDxCdXR0b24gdGV4dD1cIk1vZGlmaWVyIG1vdCBkZSBwYXNzZVwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgOTFcdCAgICAgICAgICAgICAgICAgICAvPlxuICAgIDkyXHQgICAgICAgIDwvSEJveD5cbiAgICA5M1x0ICAgIDwvVkJveD5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZjljMDM0MjctMDdhNi00MWE3LTgwZjItNTc0Zjg3YWFkMTc5O3Rvb2x1XzAxWWJqa0F5YnNxWDhZVWFRYWhSQlVaUyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL3Jlc291cmNlcy9meG1sL3Byb2ZpbGV1c2VyLmZ4bWwuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA4Nlx0ICAgICAgICAgICAgPEJ1dHRvbiBmeDppZD1cInNhdmVCdXR0b25cIiB0ZXh0PVwiRW5yZWdpc3RyZXJcIiBzdHlsZT1cIi1meC1iYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAtZngtdGV4dC1maWxsOiB3aGl0ZTsgLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtcGFkZGluZzogOCAyMDtcIlxuICAgIDg3XHQgICAgICAgICAgICAgICAgICAgIG9uQWN0aW9uPVwiI2hhbmRsZVNhdmVcIi8+XG4gICAgODhcdCAgICAgICAgICAgIDxCdXR0b24gZng6aWQ9XCJjYW5jZWxCdXR0b25cIiB0ZXh0PVwiQW5udWxlclwiIHN0eWxlPVwiLWZ4LWJhY2tncm91bmQtY29sb3I6ICNmNDQzMzY7IC1meC10ZXh0LWZpbGw6IHdoaXRlOyAtZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC1wYWRkaW5nOiA4IDIwO1wiXG4gICAgODlcdCAgICAgICAgICAgICAgICAgICAgb25BY3Rpb249XCIjaGFuZGxlQ2FuY2VsXCIvPlxuICAgIDkwXHQgICAgICAgICAgICA8QnV0dG9uIGZ4OmlkPVwiY2hhbmdlUGFzc3dvcmRCdXR0b25cIiB0ZXh0PVwiTW9kaWZpZXIgbW90IGRlIHBhc3NlXCIgc3R5bGU9XCItZngtYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzsgLWZ4LXRleHQtZmlsbDogd2hpdGU7IC1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXBhZGRpbmc6IDggMjA7XCJcbiAgICA5MVx0ICAgICAgICAgICAgICAgICAgICBvbkFjdGlvbj1cIiNoYW5kbGVDaGFuZ2VQYXNzd29yZFwiLz5cbiAgICA5Mlx0ICAgICAgICA8L0hCb3g+XG4gICAgOTNcdCAgICA8L1ZCb3g+XG4gICAgOTRcdDwvQW5jaG9yUGFuZT5cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYTE4Y2FjOGItYWNiZi00NWY0LTg2YjItMDgyZDFlN2UyMDY3O3Rvb2x1XzAxVGJNWlk0SDZWVURrNDZQRURBZEpzMiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIwMTMwZjFjNi01ZWM5LTQzNWQtOGVkNi1mNTI1MjJmYmI1NWY7dG9vbHVfMDFYTndrYW5ZekhqUXpSNHlWQ2ZONkg4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAxXHRwYWNrYWdlIGNvbnRyb2xsZXJzO1xuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcbiAgICAgNVx0aW1wb3J0IHNlcnZpY2VzLlVzZXJTZXJ2aWNlO1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAgN1x0aW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG4gICAgIDhcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydDtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOWNmYzA0YmYtYWRkMi00NzY4LWE2NjMtZGUyZGQ1MjQxNzI2O3Rvb2x1XzAxRFV3V1phWk53alRmTUhrRzg1RFFNRCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA1MFx0XG4gICAgNTFcdCAgICBARlhNTFxuICAgIDUyXHQgICAgcHJpdmF0ZSBCdXR0b24gY2hhbmdlUGFzc3dvcmRCdXR0b247XG4gICAgNTNcdFxuICAgIDU0XHQgICAgcHJpdmF0ZSBVc2VyIGN1cnJlbnRVc2VyO1xuICAgIDU1XHQgICAgcHJpdmF0ZSBVc2VyU2VydmljZSB1c2VyU2VydmljZTtcbiAgICA1Nlx0XG4gICAgNTdcdCAgICBAT3ZlcnJpZGVcbiAgICA1OFx0ICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICA1OVx0ICAgICAgICAvLyBSw6ljdXDDqXJlciBsJ3V0aWxpc2F0ZXVyIGNvbm5lY3TDqSBkZXB1aXMgVXNlclNlc3Npb25cblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzEyNjI4MTUtNjIyNS00MmQ2LTllNDgtYzRiZmFkM2QxMmE3O3Rvb2x1XzAxOTROSDlFYm5nTmFLVzNqa0hzWVJDTCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLiBFZGl0ZWQgc2VjdGlvbjpcbiAgICA1M1x0XG4gICAgNTRcdCAgICBwcml2YXRlIFVzZXIgY3VycmVudFVzZXI7XG4gICAgNTVcdCAgICBwcml2YXRlIFVzZXJTZXJ2aWNlIHVzZXJTZXJ2aWNlO1xuICAgIDU2XHRcbiAgICA1N1x0ICAgIEBPdmVycmlkZVxuICAgIDU4XHQgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgIDU5XHQgICAgICAgIC8vIEluaXRpYWxpc2VyIGxlIHNlcnZpY2UgdXRpbGlzYXRldXJcbiAgICA2MFx0ICAgICAgICB1c2VyU2VydmljZSA9IFVzZXJTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgNjFcdFxuICAgIDYyXHQgICAgICAgIC8vIFLDqWN1cMOpcmVyIGwndXRpbGlzYXRldXIgY29ubmVjdMOpIGRlcHVpcyBVc2VyU2Vzc2lvblxuICAgIDYzXHQgICAgICAgIGN1cnJlbnRVc2VyID0gVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50VXNlcigpO1xuICAgIDY0XHRcbiAgICA2NVx0ICAgICAgICBpZiAoY3VycmVudFVzZXIgIT0gbnVsbCkge1xuICAgIDY2XHQgICAgICAgICAgICAvLyBSZW1wbGlyIGxlcyBjaGFtcHMgYXZlYyBsZXMgaW5mb3JtYXRpb25zIGRlIGwndXRpbGlzYXRldXJcbiAgICA2N1x0ICAgICAgICAgICAgbG9hZFVzZXJEYXRhKCk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjdjY2M1ODEwLWE1ZTUtNDU5Ny1iMzkyLWEyYWUxZDYyYTA0Mzt0b29sdV8wMVBEWTQzZzFVZ3AxcXZVc3Z4UFg1V2YiOnsicGhhc2UiOjh9LCJjMTE5ODA5NC01ZWMyLTQ3ODYtYWEyMi1lYzYyMWFlZDg2M2Y7dG9vbHVfMDE2aWpBVVZrNG1RUDRnZllTVjJQMkE1Ijp7InBoYXNlIjo4LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMTU0XHQgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRFbWFpbChlbWFpbEZpZWxkLmdldFRleHQoKSk7XG4gICAxNTVcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldFRlbGVwaG9uZShwaG9uZUZpZWxkLmdldFRleHQoKSk7XG4gICAxNTZcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldEFkcmVzc2UoYWRkcmVzc0ZpZWxkLmdldFRleHQoKSk7XG4gICAxNTdcdFxuICAgMTU4XHQgICAgICAgICAgICB0cnkge1xuICAgMTU5XHQgICAgICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGwnZW1haWwgZXhpc3RlIGTDqWrDoCBwb3VyIHVuIGF1dHJlIHV0aWxpc2F0ZXVyXG4gICAxNjBcdCAgICAgICAgICAgICAgICBpZiAodXNlclNlcnZpY2UuZW1haWxFeGlzdHNGb3JPdGhlclVzZXIoZW1haWxGaWVsZC5nZXRUZXh0KCksIGN1cnJlbnRVc2VyLmdldElkKCkpKSB7XG4gICAxNjFcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJDZXQgZW1haWwgZXN0IGTDqWrDoCB1dGlsaXPDqSBwYXIgdW4gYXV0cmUgdXRpbGlzYXRldXJcIik7XG4gICAxNjJcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMTYzXHQgICAgICAgICAgICAgICAgfVxuICAgMTY0XHRcbiAgIDE2NVx0ICAgICAgICAgICAgICAgIC8vIEVucmVnaXN0cmVyIGxlcyBtb2RpZmljYXRpb25zIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgMTY2XHQgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XG4gICAxNjdcdFxuICAgMTY4XHQgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIHNlc3Npb25cbiAgIDE2OVx0ICAgICAgICAgICAgICAgIFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuc2V0Q3VycmVudFVzZXIoY3VycmVudFVzZXIpO1xuICAgMTcwXHQgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMTcxXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDE3Mlx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxNzNcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAxNzRcdCAgICAgICAgICAgIH1cbiAgIDE3NVx0XG4gICAxNzZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIlByb2ZpbCBtaXMgw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG4gICAxNzdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDE3OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMGUyNzEzOGQtZDlmYi00NGY5LWJjMGQtOTFlMzkwODkxZTRiO3Rvb2x1XzAxUDJ5WEpZNjJBSGNVeGQ0VGtjM0E2aCI6eyJwaGFzZSI6NiwicmVzdWx0Ijp7InRleHQiOiJGYWlsZWQgdG8gZWRpdCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhLiBTZWUgYmVsb3cgZm9yIGRldGFpbHMuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5ObyByZXBsYWNlbWVudCB3YXMgcGVyZm9ybWVkLCBvbGRTdHIgZGlkIG5vdCBhcHBlYXIgdmVyYmF0aW0gaW4gc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblRoZSBjb250ZW50IGluIHRoZSBzcGVjaWZpZWQgcmVnaW9uIGlzOlxuICAgMTczXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMTc0XHQgICAgICAgICAgICB9XG4gICAxNzVcdFxuICAgMTc2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlN1Y2PDqHNcIiwgXCJQcm9maWwgbWlzIMOgIGpvdXIgYXZlYyBzdWNjw6hzXCIpO1xuICAgMTc3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAxNzhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGR1IHByb2ZpbDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAxNzlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxODBcdCAgICAgICAgfVxuICAgMTgxXHQgICAgfVxuICAgMTgyXHRcbiAgIDE4M1x0ICAgIC8qKlxuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtMSwzICsxLDMgQEBcbi0gICAgICAgICAgICAvLyBFbnJlZ2lzdHJlciBsZXMgbW9kaWZpY2F0aW9ucyBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXNcbi0gICAgICAgICAgICAvLyBWb3VzIGRldnJleiBpbXBsw6ltZW50ZXIgY2V0dGUgcGFydGllIGF2ZWMgdm90cmUgc2VydmljZSB1dGlsaXNhdGV1clxuLSAgICAgICAgICAgIC8vIHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoY3VycmVudFVzZXIpO1xuKyAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbisgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIkVycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkdSBwcm9maWw6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuKyAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG5cblxuRml4IGZhaWxlZCBzdHJfcmVwbGFjZV9lbnRyaWVzIGFjY29yZGluZ2x5IGFuZCB0cnkgYWdhaW4uXG4iLCJpc0Vycm9yIjp0cnVlLCJyZXF1ZXN0SWQiOiIifX0sIjQxOGQzNjA5LWYzMTItNDY1ZS1hNjllLThmZjZmOWI0ZTA5Zjt0b29sdV8wMTZUTDQ4TEFmaTgyUEdZUEtqQXRwZ2MiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhOlxuICAgMTcwXHQgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMTcxXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDE3Mlx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxNzNcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAxNzRcdCAgICAgICAgICAgIH1cbiAgIDE3NVx0XG4gICAxNzZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIlByb2ZpbCBtaXMgw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG4gICAxNzdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDE3OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDE3OVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDE4MFx0ICAgICAgICB9XG4gICAxODFcdCAgICB9XG4gICAxODJcdFxuICAgMTgzXHQgICAgLyoqXG4gICAxODRcdCAgICAgKiBHw6hyZSBsJ2FjdGlvbiBkdSBib3V0b24gQW5udWxlclxuICAgMTg1XHQgICAgICovXG4gICAxODZcdCAgICBARlhNTFxuICAgMTg3XHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNhbmNlbCgpIHtcbiAgIDE4OFx0ICAgICAgICAvLyBSZWNoYXJnZXIgbGVzIGRvbm7DqWVzIG9yaWdpbmFsZXNcbiAgIDE4OVx0ICAgICAgICBsb2FkVXNlckRhdGEoKTtcbiAgIDE5MFx0ICAgIH1cblRvdGFsIGxpbmVzIGluIGZpbGU6IDI0M1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZmM4ZmJlM2MtNDMxZS00ZDgzLTg1ZGEtMjdlNmVmN2Y5NjIzO3Rvb2x1XzAxRlZRUkxVeHd6YjJBaHRmOUNkcXl5ViI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvY29udHJvbGxlcnMvUHJvZmlsZVVzZXJDb250cm9sbGVyLmphdmE6XG4gICAxNTBcdCAgICAgICAgdHJ5IHtcbiAgIDE1MVx0ICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGVzIGluZm9ybWF0aW9ucyBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAxNTJcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldE5vbShsYXN0TmFtZUZpZWxkLmdldFRleHQoKSk7XG4gICAxNTNcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldFByZW5vbShmaXJzdE5hbWVGaWVsZC5nZXRUZXh0KCkpO1xuICAgMTU0XHQgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRFbWFpbChlbWFpbEZpZWxkLmdldFRleHQoKSk7XG4gICAxNTVcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldFRlbGVwaG9uZShwaG9uZUZpZWxkLmdldFRleHQoKSk7XG4gICAxNTZcdCAgICAgICAgICAgIGN1cnJlbnRVc2VyLnNldEFkcmVzc2UoYWRkcmVzc0ZpZWxkLmdldFRleHQoKSk7XG4gICAxNTdcdFxuICAgMTU4XHQgICAgICAgICAgICB0cnkge1xuICAgMTU5XHQgICAgICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHNpIGwnZW1haWwgZXhpc3RlIGTDqWrDoCBwb3VyIHVuIGF1dHJlIHV0aWxpc2F0ZXVyXG4gICAxNjBcdCAgICAgICAgICAgICAgICBpZiAodXNlclNlcnZpY2UuZW1haWxFeGlzdHNGb3JPdGhlclVzZXIoZW1haWxGaWVsZC5nZXRUZXh0KCksIGN1cnJlbnRVc2VyLmdldElkKCkpKSB7XG4gICAxNjFcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJDZXQgZW1haWwgZXN0IGTDqWrDoCB1dGlsaXPDqSBwYXIgdW4gYXV0cmUgdXRpbGlzYXRldXJcIik7XG4gICAxNjJcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMTYzXHQgICAgICAgICAgICAgICAgfVxuICAgMTY0XHRcbiAgIDE2NVx0ICAgICAgICAgICAgICAgIC8vIEVucmVnaXN0cmVyIGxlcyBtb2RpZmljYXRpb25zIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgMTY2XHQgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XG4gICAxNjdcdFxuICAgMTY4XHQgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbCd1dGlsaXNhdGV1ciBkYW5zIGxhIHNlc3Npb25cbiAgIDE2OVx0ICAgICAgICAgICAgICAgIFVzZXJTZXNzaW9uLmdldEluc3RhbmNlKCkuc2V0Q3VycmVudFVzZXIoY3VycmVudFVzZXIpO1xuICAgMTcwXHQgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMTcxXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDE3Mlx0ICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAxNzNcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAxNzRcdCAgICAgICAgICAgIH1cbiAgIDE3NVx0XG4gICAxNzZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIlByb2ZpbCBtaXMgw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG4gICAxNzdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDE3OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXIgZHUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDE3OVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDE4MFx0ICAgICAgICB9XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyNDNcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjA1YjMzMWNkLWY4YTYtNGU3OC04YmY2LTg2YmU2MmRjMDA2OTt0b29sdV8wMUE0ckFBMXp2WlJ6c2JFNGRCb3MzQksiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2NvbnRyb2xsZXJzL1Byb2ZpbGVVc2VyQ29udHJvbGxlci5qYXZhOlxuICAgMTkwXHQgICAgfVxuICAgMTkxXHRcbiAgIDE5Mlx0ICAgIC8qKlxuICAgMTkzXHQgICAgICogR8OocmUgbCdhY3Rpb24gZHUgYm91dG9uIE1vZGlmaWVyIG1vdCBkZSBwYXNzZVxuICAgMTk0XHQgICAgICovXG4gICAxOTVcdCAgICBARlhNTFxuICAgMTk2XHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNoYW5nZVBhc3N3b3JkKCkge1xuICAgMTk3XHQgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiSW5mb3JtYXRpb25cIiwgXCJGb25jdGlvbm5hbGl0w6kgZGUgY2hhbmdlbWVudCBkZSBtb3QgZGUgcGFzc2Ugbm9uIGltcGzDqW1lbnTDqWVcIik7XG4gICAxOThcdCAgICB9XG4gICAxOTlcdFxuICAgMjAwXHQgICAgLyoqXG4gICAyMDFcdCAgICAgKiBHw6hyZSBsJ2FjdGlvbiBkZSBjaGFuZ2VtZW50IGQnaW1hZ2UgZGUgcHJvZmlsXG4gICAyMDJcdCAgICAgKi9cbiAgIDIwM1x0ICAgIEBGWE1MXG4gICAyMDRcdCAgICBwcml2YXRlIHZvaWQgaGFuZGxlQ2hhbmdlUHJvZmlsZUltYWdlKCkge1xuICAgMjA1XHQgICAgICAgIEZpbGVDaG9vc2VyIGZpbGVDaG9vc2VyID0gbmV3IEZpbGVDaG9vc2VyKCk7XG4gICAyMDZcdCAgICAgICAgZmlsZUNob29zZXIuc2V0VGl0bGUoXCJTw6lsZWN0aW9ubmVyIHVuZSBpbWFnZSBkZSBwcm9maWxcIik7XG4gICAyMDdcdCAgICAgICAgZmlsZUNob29zZXIuZ2V0RXh0ZW5zaW9uRmlsdGVycygpLmFkZEFsbChcbiAgIDIwOFx0ICAgICAgICAgICAgbmV3IEZpbGVDaG9vc2VyLkV4dGVuc2lvbkZpbHRlcihcIkltYWdlc1wiLCBcIioucG5nXCIsIFwiKi5qcGdcIiwgXCIqLmpwZWdcIiwgXCIqLmdpZlwiKVxuICAgMjA5XHQgICAgICAgICk7XG4gICAyMTBcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMjQzXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3NDAxZTE4ZC02NGQ0LTRhMDktODNlNi1kMTE0NGUzMjNlMDQ7dG9vbHVfMDFGM01HNlliMURBUUxNVVNHeEZ4c2szIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMTkxXHRcbiAgIDE5Mlx0ICAgIC8qKlxuICAgMTkzXHQgICAgICogR8OocmUgbCdhY3Rpb24gZHUgYm91dG9uIE1vZGlmaWVyIG1vdCBkZSBwYXNzZVxuICAgMTk0XHQgICAgICovXG4gICAxOTVcdCAgICBARlhNTFxuICAgMTk2XHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUNoYW5nZVBhc3N3b3JkKCkge1xuICAgMTk3XHQgICAgICAgIC8vIENyw6llciB1bmUgYm/DrnRlIGRlIGRpYWxvZ3VlIHBvdXIgbGUgY2hhbmdlbWVudCBkZSBtb3QgZGUgcGFzc2VcbiAgIDE5OFx0ICAgICAgICBEaWFsb2c8QnV0dG9uVHlwZT4gZGlhbG9nID0gbmV3IERpYWxvZzw+KCk7XG4gICAxOTlcdCAgICAgICAgZGlhbG9nLnNldFRpdGxlKFwiTW9kaWZpZXIgbGUgbW90IGRlIHBhc3NlXCIpO1xuICAgMjAwXHQgICAgICAgIGRpYWxvZy5zZXRIZWFkZXJUZXh0KFwiVmV1aWxsZXogZW50cmVyIHZvdHJlIG1vdCBkZSBwYXNzZSBhY3R1ZWwgZXQgdm90cmUgbm91dmVhdSBtb3QgZGUgcGFzc2VcIik7XG4gICAyMDFcdFxuICAgMjAyXHQgICAgICAgIC8vIENvbmZpZ3VyZXIgbGVzIGJvdXRvbnNcbiAgIDIwM1x0ICAgICAgICBkaWFsb2cuZ2V0RGlhbG9nUGFuZSgpLmdldEJ1dHRvblR5cGVzKCkuYWRkQWxsKEJ1dHRvblR5cGUuT0ssIEJ1dHRvblR5cGUuQ0FOQ0VMKTtcbiAgIDIwNFx0XG4gICAyMDVcdCAgICAgICAgLy8gQ3LDqWVyIGxlcyBjaGFtcHMgZGUgc2Fpc2llXG4gICAyMDZcdCAgICAgICAgUGFzc3dvcmRGaWVsZCBjdXJyZW50UGFzc3dvcmRGaWVsZCA9IG5ldyBQYXNzd29yZEZpZWxkKCk7XG4gICAyMDdcdCAgICAgICAgY3VycmVudFBhc3N3b3JkRmllbGQuc2V0UHJvbXB0VGV4dChcIk1vdCBkZSBwYXNzZSBhY3R1ZWxcIik7XG4gICAyMDhcdFxuICAgMjA5XHQgICAgICAgIFBhc3N3b3JkRmllbGQgbmV3UGFzc3dvcmRGaWVsZCA9IG5ldyBQYXNzd29yZEZpZWxkKCk7XG4gICAyMTBcdCAgICAgICAgbmV3UGFzc3dvcmRGaWVsZC5zZXRQcm9tcHRUZXh0KFwiTm91dmVhdSBtb3QgZGUgcGFzc2VcIik7XG4gICAyMTFcdFxuICAgMjEyXHQgICAgICAgIFBhc3N3b3JkRmllbGQgY29uZmlybVBhc3N3b3JkRmllbGQgPSBuZXcgUGFzc3dvcmRGaWVsZCgpO1xuICAgMjEzXHQgICAgICAgIGNvbmZpcm1QYXNzd29yZEZpZWxkLnNldFByb21wdFRleHQoXCJDb25maXJtZXIgbGUgbm91dmVhdSBtb3QgZGUgcGFzc2VcIik7XG4gICAyMTRcdFxuICAgMjE1XHQgICAgICAgIC8vIENyw6llciBsYSBtaXNlIGVuIHBhZ2VcbiAgIDIxNlx0ICAgICAgICBHcmlkUGFuZSBncmlkID0gbmV3IEdyaWRQYW5lKCk7XG4gICAyMTdcdCAgICAgICAgZ3JpZC5zZXRIZ2FwKDEwKTtcbiAgIDIxOFx0ICAgICAgICBncmlkLnNldFZnYXAoMTApO1xuICAgMjE5XHQgICAgICAgIGdyaWQuc2V0UGFkZGluZyhuZXcgSW5zZXRzKDIwLCAxNTAsIDEwLCAxMCkpO1xuICAgMjIwXHRcbiAgIDIyMVx0ICAgICAgICBncmlkLmFkZChuZXcgTGFiZWwoXCJNb3QgZGUgcGFzc2UgYWN0dWVsOlwiKSwgMCwgMCk7XG4gICAyMjJcdCAgICAgICAgZ3JpZC5hZGQoY3VycmVudFBhc3N3b3JkRmllbGQsIDEsIDApO1xuICAgMjIzXHQgICAgICAgIGdyaWQuYWRkKG5ldyBMYWJlbChcIk5vdXZlYXUgbW90IGRlIHBhc3NlOlwiKSwgMCwgMSk7XG4gICAyMjRcdCAgICAgICAgZ3JpZC5hZGQobmV3UGFzc3dvcmRGaWVsZCwgMSwgMSk7XG4gICAyMjVcdCAgICAgICAgZ3JpZC5hZGQobmV3IExhYmVsKFwiQ29uZmlybWVyIGxlIG1vdCBkZSBwYXNzZTpcIiksIDAsIDIpO1xuICAgMjI2XHQgICAgICAgIGdyaWQuYWRkKGNvbmZpcm1QYXNzd29yZEZpZWxkLCAxLCAyKTtcbiAgIDIyN1x0XG4gICAyMjhcdCAgICAgICAgZGlhbG9nLmdldERpYWxvZ1BhbmUoKS5zZXRDb250ZW50KGdyaWQpO1xuICAgMjI5XHRcbiAgIDIzMFx0ICAgICAgICAvLyBEb25uZXIgbGUgZm9jdXMgYXUgcHJlbWllciBjaGFtcFxuICAgMjMxXHQgICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKGN1cnJlbnRQYXNzd29yZEZpZWxkOjpyZXF1ZXN0Rm9jdXMpO1xuICAgMjMyXHRcbiAgIDIzM1x0ICAgICAgICAvLyBBdHRlbmRyZSBsYSByw6lwb25zZSBkZSBsJ3V0aWxpc2F0ZXVyXG4gICAyMzRcdCAgICAgICAgT3B0aW9uYWw8QnV0dG9uVHlwZT4gcmVzdWx0ID0gZGlhbG9nLnNob3dBbmRXYWl0KCk7XG4gICAyMzVcdFxuICAgMjM2XHQgICAgICAgIGlmIChyZXN1bHQuaXNQcmVzZW50KCkgJiYgcmVzdWx0LmdldCgpID09IEJ1dHRvblR5cGUuT0spIHtcbiAgIDIzN1x0ICAgICAgICAgICAgU3RyaW5nIGN1cnJlbnRQYXNzd29yZCA9IGN1cnJlbnRQYXNzd29yZEZpZWxkLmdldFRleHQoKTtcbiAgIDIzOFx0ICAgICAgICAgICAgU3RyaW5nIG5ld1Bhc3N3b3JkID0gbmV3UGFzc3dvcmRGaWVsZC5nZXRUZXh0KCk7XG4gICAyMzlcdCAgICAgICAgICAgIFN0cmluZyBjb25maXJtUGFzc3dvcmQgPSBjb25maXJtUGFzc3dvcmRGaWVsZC5nZXRUZXh0KCk7XG4gICAyNDBcdFxuICAgMjQxXHQgICAgICAgICAgICAvLyBWw6lyaWZpZXIgcXVlIHRvdXMgbGVzIGNoYW1wcyBzb250IHJlbXBsaXNcbiAgIDI0Mlx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRQYXNzd29yZC5pc0VtcHR5KCkgfHwgbmV3UGFzc3dvcmQuaXNFbXB0eSgpIHx8IGNvbmZpcm1QYXNzd29yZC5pc0VtcHR5KCkpIHtcbiAgIDI0M1x0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiVG91cyBsZXMgY2hhbXBzIGRvaXZlbnQgw6p0cmUgcmVtcGxpc1wiKTtcbiAgIDI0NFx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDI0NVx0ICAgICAgICAgICAgfVxuICAgMjQ2XHRcbiAgIDI0N1x0ICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsZSBub3V2ZWF1IG1vdCBkZSBwYXNzZSBldCBsYSBjb25maXJtYXRpb24gY29ycmVzcG9uZGVudFxuICAgMjQ4XHQgICAgICAgICAgICBpZiAoIW5ld1Bhc3N3b3JkLmVxdWFscyhjb25maXJtUGFzc3dvcmQpKSB7XG4gICAyNDlcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIkxlIG5vdXZlYXUgbW90IGRlIHBhc3NlIGV0IHNhIGNvbmZpcm1hdGlvbiBuZSBjb3JyZXNwb25kZW50IHBhc1wiKTtcbiAgIDI1MFx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDI1MVx0ICAgICAgICAgICAgfVxuICAgMjUyXHRcbiAgIDI1M1x0ICAgICAgICAgICAgLy8gVsOpcmlmaWVyIHF1ZSBsZSBtb3QgZGUgcGFzc2UgYWN0dWVsIGVzdCBjb3JyZWN0XG4gICAyNTRcdCAgICAgICAgICAgIGlmICghY3VycmVudFBhc3N3b3JkLmVxdWFscyhjdXJyZW50VXNlci5nZXRQYXNzd29yZCgpKSkge1xuICAgMjU1XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJMZSBtb3QgZGUgcGFzc2UgYWN0dWVsIGVzdCBpbmNvcnJlY3RcIik7XG4gICAyNTZcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAyNTdcdCAgICAgICAgICAgIH1cbiAgIDI1OFx0XG4gICAyNTlcdCAgICAgICAgICAgIHRyeSB7XG4gICAyNjBcdCAgICAgICAgICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsZSBtb3QgZGUgcGFzc2UgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAyNjFcdCAgICAgICAgICAgICAgICB1c2VyU2VydmljZS51cGRhdGVQYXNzd29yZChjdXJyZW50VXNlci5nZXRJZCgpLCBuZXdQYXNzd29yZCk7XG4gICAyNjJcdFxuICAgMjYzXHQgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgbW90IGRlIHBhc3NlIGRhbnMgbCdvYmpldCB1dGlsaXNhdGV1clxuICAgMjY0XHQgICAgICAgICAgICAgICAgY3VycmVudFVzZXIuc2V0UGFzc3dvcmQobmV3UGFzc3dvcmQpO1xuICAgMjY1XHRcbiAgIDI2Nlx0ICAgICAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwndXRpbGlzYXRldXIgZGFucyBsYSBzZXNzaW9uXG4gICAyNjdcdCAgICAgICAgICAgICAgICBVc2VyU2Vzc2lvbi5nZXRJbnN0YW5jZSgpLnNldEN1cnJlbnRVc2VyKGN1cnJlbnRVc2VyKTtcbiAgIDI2OFx0XG4gICAyNjlcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlN1Y2PDqHNcIiwgXCJWb3RyZSBtb3QgZGUgcGFzc2UgYSDDqXTDqSBtb2RpZmnDqSBhdmVjIHN1Y2PDqHNcIik7XG4gICAyNzBcdCAgICAgICAgICAgIH0gY2F0Y2ggKFNRTEV4Y2VwdGlvbiBlKSB7XG4gICAyNzFcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkVycmV1clwiLCBcIkVycmV1ciBsb3JzIGRlIGxhIG1pc2Ugw6Agam91ciBkdSBtb3QgZGUgcGFzc2U6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMjcyXHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDI3M1x0ICAgICAgICAgICAgfVxuICAgMjc0XHQgICAgICAgIH1cbiAgIDI3NVx0ICAgIH1cbiAgIDI3Nlx0XG4gICAyNzdcdCAgICAvKipcbiAgIDI3OFx0ICAgICAqIEfDqHJlIGwnYWN0aW9uIGRlIGNoYW5nZW1lbnQgZCdpbWFnZSBkZSBwcm9maWxcbiAgIDI3OVx0ICAgICAqL1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0YWNjYTZjMi1hNjE2LTQzMGUtOWViOC1kN2I3NDY0YzI3MGM7dG9vbHVfMDFIMUhxY2Nua1oyM01QNmhKdFo2cVhzIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IGVudGl0aWVzLlVzZXI7XG4gICAgIDRcdGltcG9ydCBlbnRpdGllcy5Vc2VyU2Vzc2lvbjtcbiAgICAgNVx0aW1wb3J0IHNlcnZpY2VzLlVzZXJTZXJ2aWNlO1xuICAgICA2XHRpbXBvcnQgamF2YWZ4LmFwcGxpY2F0aW9uLlBsYXRmb3JtO1xuICAgICA3XHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAgOFx0aW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG4gICAgIDlcdGltcG9ydCBqYXZhZnguZ2VvbWV0cnkuSW5zZXRzO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxMVx0aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuR3JpZFBhbmU7XG4gICAgMTJcdGltcG9ydCBqYXZhLnV0aWwuT3B0aW9uYWw7XG4gICAgMTNcdGltcG9ydCBqYXZhLnNxbC5TUUxFeGNlcHRpb247XG4gICAgMTRcdGltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2U7XG4gICAgMTVcdGltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuICAgIDE2XHRpbXBvcnQgamF2YWZ4LnN0YWdlLkZpbGVDaG9vc2VyO1xuICAgIDE3XHRpbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyY2ZiNzJhNi1jM2I2LTQzYWItOTdlMS00ODMxZTk4MTcwNzI7dG9vbHVfMDE3aEY2eExTSFlpRzVLblpQV1NZSExoIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9jb250cm9sbGVycy9Qcm9maWxlVXNlckNvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuIEVkaXRlZCBzZWN0aW9uOlxuICAgMjk1XHQgICAgICAgICAgICAgICAgLy8gQ2hhcmdlciBsJ2ltYWdlIHPDqWxlY3Rpb25uw6llXG4gICAyOTZcdCAgICAgICAgICAgICAgICBJbWFnZSBpbWFnZSA9IG5ldyBJbWFnZShzZWxlY3RlZEZpbGUudG9VUkkoKS50b1N0cmluZygpKTtcbiAgIDI5N1x0ICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZS5zZXRJbWFnZShpbWFnZSk7XG4gICAyOThcdFxuICAgMjk5XHQgICAgICAgICAgICAgICAgLy8gTWV0dHJlIMOgIGpvdXIgbGUgY2hlbWluIGRlIGwnaW1hZ2UgZGFucyBsJ29iamV0IHV0aWxpc2F0ZXVyXG4gICAzMDBcdCAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5zZXRJbWFnZVVybChzZWxlY3RlZEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpO1xuICAgMzAxXHRcbiAgIDMwMlx0ICAgICAgICAgICAgICAgIHRyeSB7XG4gICAzMDNcdCAgICAgICAgICAgICAgICAgICAgLy8gRW5yZWdpc3RyZXIgbGUgY2hlbWluIGRlIGwnaW1hZ2UgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG4gICAzMDRcdCAgICAgICAgICAgICAgICAgICAgdXNlclNlcnZpY2UudXBkYXRlVXNlcihjdXJyZW50VXNlcik7XG4gICAzMDVcdFxuICAgMzA2XHQgICAgICAgICAgICAgICAgICAgIC8vIE1ldHRyZSDDoCBqb3VyIGwndXRpbGlzYXRldXIgZGFucyBsYSBzZXNzaW9uXG4gICAzMDdcdCAgICAgICAgICAgICAgICAgICAgVXNlclNlc3Npb24uZ2V0SW5zdGFuY2UoKS5zZXRDdXJyZW50VXNlcihjdXJyZW50VXNlcik7XG4gICAzMDhcdFxuICAgMzA5XHQgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiU3VjY8Ooc1wiLCBcIlZvdHJlIGltYWdlIGRlIHByb2ZpbCBhIMOpdMOpIG1pc2Ugw6Agam91ciBhdmVjIHN1Y2PDqHNcIik7XG4gICAzMTBcdCAgICAgICAgICAgICAgICB9IGNhdGNoIChTUUxFeGNlcHRpb24gZSkge1xuICAgMzExXHQgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiRXJyZXVyXCIsIFwiRXJyZXVyIGxvcnMgZGUgbGEgbWlzZSDDoCBqb3VyIGRlIGwnaW1hZ2UgZGUgcHJvZmlsOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDMxMlx0ICAgICAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgMzEzXHQgICAgICAgICAgICAgICAgfVxuICAgMzE0XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMzE1XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJFcnJldXJcIiwgXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlIGwnaW1hZ2U6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgMzE2XHQgICAgICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDMxN1x0ICAgICAgICAgICAgfVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19fSwiZHJhZnRFeGNoYW5nZSI6eyJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIn1dfSwic3RhdHVzIjoiZHJhZnQifSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNEaXJ0eUVkaXRzIjpmYWxzZX19fSwiaXNDb250ZXh0UGFuZU9wZW4iOmZhbHNlLCJpc0FjdGlvbnNQYW5lT3BlbiI6ZmFsc2UsImFnZW50RXhlY3V0aW9uTW9kZSI6Im1hbnVhbCIsImlzQWdlbnRFZGl0c0NvbGxhcHNlZCI6dHJ1ZX0=" />
      </map>
    </option>
  </component>
</project>